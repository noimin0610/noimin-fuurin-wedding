var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(r)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(e,t,n,r){if(e){const i=l(e,t,n,r);return e[0](i)}}function l(e,t,r,i){return e[1]&&i?n(r.ctx.slice(),e[1](i(t))):r.ctx}function c(e,t,n,r,i,o,s){const a=function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(t,r,i,o);if(a){const i=l(t,n,r,s);e.p(i,a)}}function h(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function p(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}const d="undefined"!=typeof window;let f=d?()=>window.performance.now():()=>Date.now(),_=d?e=>requestAnimationFrame(e):e;const v=new Set;function y(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&_(y)}function g(e,t){e.appendChild(t)}function m(e,t,n){e.insertBefore(t,n||null)}function b(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function k(e){return document.createTextNode(e)}function $(){return k(" ")}function x(){return k("")}function T(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:E(e,r,t[r])}function I(e){return""===e?null:+e}function P(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function R(e,t){e.value=null==t?"":t}function N(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function O(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];r.selected=~t.indexOf(r.__value)}}function A(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const D=new Set;let L,F=0;function M(e,t,n,r,i,o,s,a=0){const u=16.666/r;let l="{\n";for(let e=0;e<=1;e+=u){const r=t+(n-t)*o(e);l+=100*e+`%{${s(r,1-r)}}\n`}const c=l+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(c)}_${a}`,p=e.ownerDocument;D.add(p);const d=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(C("style")).sheet),f=p.__svelte_rules||(p.__svelte_rules={});f[h]||(f[h]=!0,d.insertRule(`@keyframes ${h} ${c}`,d.cssRules.length));const _=e.style.animation||"";return e.style.animation=`${_?`${_}, `:""}${h} ${r}ms linear ${i}ms 1 both`,F+=1,h}function q(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),F-=i,F||_((()=>{F||(D.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),D.clear())})))}function j(e){L=e}function U(){if(!L)throw new Error("Function called outside component initialization");return L}function z(e){U().$$.on_mount.push(e)}function W(){const e=U();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=A(t,n);r.slice().forEach((t=>{t.call(e,i)}))}}}function B(e){return U().$$.context.get(e)}function H(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const V=[],Q=[],G=[],Y=[],K=Promise.resolve();let X=!1;function J(){X||(X=!0,K.then(re))}function Z(e){G.push(e)}function ee(e){Y.push(e)}let te=!1;const ne=new Set;function re(){if(!te){te=!0;do{for(let e=0;e<V.length;e+=1){const t=V[e];j(t),ie(t.$$)}for(j(null),V.length=0;Q.length;)Q.pop()();for(let e=0;e<G.length;e+=1){const t=G[e];ne.has(t)||(ne.add(t),t())}G.length=0}while(V.length);for(;Y.length;)Y.pop()();X=!1,te=!1,ne.clear()}}function ie(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}let oe;function se(e,t,n){e.dispatchEvent(A(`${t?"intro":"outro"}${n}`))}const ae=new Set;let ue;function le(){ue={r:0,c:[],p:ue}}function ce(){ue.r||o(ue.c),ue=ue.p}function he(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function pe(e,t,n,r){if(e&&e.o){if(ae.has(e))return;ae.add(e),ue.c.push((()=>{ae.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const de={duration:0};function fe(n,r,i,a){let u=r(n,i),l=a?0:1,c=null,h=null,p=null;function d(){p&&q(n,p)}function g(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:i=0,duration:s=300,easing:a=t,tick:m=e,css:b}=u||de,w={start:f()+i,b:r};r||(w.group=ue,ue.r+=1),c||h?h=w:(b&&(d(),p=M(n,l,r,s,i,a,b)),r&&m(0,1),c=g(w,s),Z((()=>se(n,r,"start"))),function(e){let t;0===v.size&&_(y),new Promise((n=>{v.add(t={c:e,f:n})}))}((e=>{if(h&&e>h.start&&(c=g(h,s),h=null,se(n,c.b,"start"),b&&(d(),p=M(n,l,c.b,c.duration,0,a,u.css))),c)if(e>=c.end)m(l=c.b,1-l),se(n,c.b,"end"),h||(c.b?d():--c.group.r||o(c.group.c)),c=null;else if(e>=c.start){const t=e-c.start;l=c.a+c.d*a(t/c.duration),m(l,1-l)}return!(!c&&!h)})))}return{run(e){s(u)?(oe||(oe=Promise.resolve(),oe.then((()=>{oe=null}))),oe).then((()=>{u=u(),m(e)})):m(e)},end(){d(),c=h=null}}}function _e(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)i[e]||(n[e]=a[e],i[e]=1);e[o]=a}else for(const e in s)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function ve(e){return"object"==typeof e&&null!==e?e:{}}function ye(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ge(e){e&&e.c()}function me(e,t,n,i){const{fragment:a,on_mount:u,on_destroy:l,after_update:c}=e.$$;a&&a.m(t,n),i||Z((()=>{const t=u.map(r).filter(s);l?l.push(...t):o(t),e.$$.on_mount=[]})),c.forEach(Z)}function be(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function we(t,n,r,s,a,u,l=[-1]){const c=L;j(t);const h=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:n.context||[]),callbacks:i(),dirty:l,skip_bound:!1};let p=!1;if(h.ctx=r?r(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(V.push(e),J(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);h.fragment&&h.fragment.l(e),e.forEach(b)}else h.fragment&&h.fragment.c();n.intro&&he(t.$$.fragment),me(t,n.target,n.anchor,n.customElement),re()}j(c)}class Ce{$destroy(){be(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ke=[];function $e(e,t){return{subscribe:xe(e,t).subscribe}}function xe(t,n=e){let r;const i=[];function o(e){if(a(t,e)&&(t=e,r)){const e=!ke.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),ke.push(n,t)}if(e){for(let e=0;e<ke.length;e+=2)ke[e][0](ke[e+1]);ke.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=e){const u=[s,a];return i.push(u),1===i.length&&(r=n(o)||e),s(t),()=>{const e=i.indexOf(u);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}function Te(t,n,r){const i=!Array.isArray(t),a=i?[t]:t,u=n.length<2;return $e(r,(t=>{let r=!1;const l=[];let c=0,h=e;const p=()=>{if(c)return;h();const r=n(i?l[0]:l,t);u?t(r):h=s(r)?r:e},d=a.map(((t,n)=>function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(t,(e=>{l[n]=e,c&=~(1<<n),r&&p()}),(()=>{c|=1<<n}))));return r=!0,p(),function(){o(d),h()}}))}function Ee(e){let t,r,i;const o=[e[2]];var s=e[0];function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return s&&(t=new s(a()),t.$on("routeEvent",e[7])),{c(){t&&ge(t.$$.fragment),r=x()},m(e,n){t&&me(t,e,n),m(e,r,n),i=!0},p(e,n){const i=4&n?_e(o,[ve(e[2])]):{};if(s!==(s=e[0])){if(t){le();const e=t;pe(e.$$.fragment,1,0,(()=>{be(e,1)})),ce()}s?(t=new s(a()),t.$on("routeEvent",e[7]),ge(t.$$.fragment),he(t.$$.fragment,1),me(t,r.parentNode,r)):t=null}else s&&t.$set(i)},i(e){i||(t&&he(t.$$.fragment,e),i=!0)},o(e){t&&pe(t.$$.fragment,e),i=!1},d(e){e&&b(r),t&&be(t,e)}}}function Se(e){let t,r,i;const o=[{params:e[1]},e[2]];var s=e[0];function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return s&&(t=new s(a()),t.$on("routeEvent",e[6])),{c(){t&&ge(t.$$.fragment),r=x()},m(e,n){t&&me(t,e,n),m(e,r,n),i=!0},p(e,n){const i=6&n?_e(o,[2&n&&{params:e[1]},4&n&&ve(e[2])]):{};if(s!==(s=e[0])){if(t){le();const e=t;pe(e.$$.fragment,1,0,(()=>{be(e,1)})),ce()}s?(t=new s(a()),t.$on("routeEvent",e[6]),ge(t.$$.fragment),he(t.$$.fragment,1),me(t,r.parentNode,r)):t=null}else s&&t.$set(i)},i(e){i||(t&&he(t.$$.fragment,e),i=!0)},o(e){t&&pe(t.$$.fragment,e),i=!1},d(e){e&&b(r),t&&be(t,e)}}}function Ie(e){let t,n,r,i;const o=[Se,Ee],s=[];function a(e,t){return e[1]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=x()},m(e,n){s[t].m(e,n),m(e,r,n),i=!0},p(e,[i]){let u=t;t=a(e),t===u?s[t].p(e,i):(le(),pe(s[u],1,1,(()=>{s[u]=null})),ce(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){i||(he(n),i=!0)},o(e){pe(n),i=!1},d(e){s[t].d(e),e&&b(r)}}}function Pe(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Re=$e(null,(function(e){e(Pe());const t=()=>{e(Pe())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}));Te(Re,(e=>e.location)),Te(Re,(e=>e.querystring));const Ne=xe(void 0);function Oe(e,t,n){let{routes:r={}}=t,{prefix:i=""}=t,{restoreScrollState:o=!1}=t;class s{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,s=[],a="",u=e.split("/");for(u[0]||u.shift();i=u.shift();)"*"===(n=i[0])?(s.push("wild"),a+="/(.*)"):":"===n?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.component,this.conditions=t.conditions||[],this.userData=t.userData,this.props=t.props||{}):(this.component=()=>Promise.resolve(t),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(e){if(i)if("string"==typeof i){if(!e.startsWith(i))return null;e=e.substr(i.length)||"/"}else if(i instanceof RegExp){const t=e.match(i);if(!t||!t[0])return null;e=e.substr(t[0].length)||"/"}const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(t[r+1]||"")||null}catch(e){n[this._keys[r]]=null}r++}return n}async checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!await this.conditions[t](e))return!1;return!0}}const a=[];r instanceof Map?r.forEach(((e,t)=>{a.push(new s(t,e))})):Object.keys(r).forEach((e=>{a.push(new s(e,r[e]))}));let u=null,l=null,c={};const h=W();async function p(e,t){await(J(),K),h(e,t)}let d=null,f=null;var _;o&&(f=e=>{d=e.state&&e.state.__svelte_spa_router_scrollY?e.state:null},window.addEventListener("popstate",f),_=()=>{d?window.scrollTo(d.__svelte_spa_router_scrollX,d.__svelte_spa_router_scrollY):window.scrollTo(0,0)},U().$$.after_update.push(_));let v=null,y=null;const g=Re.subscribe((async e=>{v=e;let t=0;for(;t<a.length;){const r=a[t].match(e.location);if(!r){t++;continue}const i={route:a[t].path,location:e.location,querystring:e.querystring,userData:a[t].userData,params:r&&"object"==typeof r&&Object.keys(r).length?r:null};if(!await a[t].checkConditions(i))return n(0,u=null),y=null,void p("conditionsFailed",i);p("routeLoading",Object.assign({},i));const o=a[t].component;if(y!=o){o.loading?(n(0,u=o.loading),y=o,n(1,l=o.loadingParams),n(2,c={}),p("routeLoaded",Object.assign({},i,{component:u,name:u.name,params:l}))):(n(0,u=null),y=null);const t=await o();if(e!=v)return;n(0,u=t&&t.default||t),y=o}return r&&"object"==typeof r&&Object.keys(r).length?n(1,l=r):n(1,l=null),n(2,c=a[t].props),void p("routeLoaded",Object.assign({},i,{component:u,name:u.name,params:l})).then((()=>{Ne.set(l)}))}n(0,u=null),y=null,Ne.set(void 0)}));return function(e){U().$$.on_destroy.push(e)}((()=>{g(),f&&window.removeEventListener("popstate",f)})),e.$$set=e=>{"routes"in e&&n(3,r=e.routes),"prefix"in e&&n(4,i=e.prefix),"restoreScrollState"in e&&n(5,o=e.restoreScrollState)},e.$$.update=()=>{32&e.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[u,l,c,r,i,o,function(t){H(e,t)},function(t){H(e,t)}]}class Ae extends Ce{constructor(e){super(),we(this,e,Oe,Ie,a,{routes:3,prefix:4,restoreScrollState:5})}}function De(e,t,n){return!0===n||""===n?e?"col":`col-${t}`:"auto"===n?e?"col-auto":`col-${t}-auto`:e?`col-${n}`:`col-${t}-${n}`}function Le(e){let t="";if("string"==typeof e||"number"==typeof e)t+=e;else if("object"==typeof e)if(Array.isArray(e))t=e.map(Le).filter(Boolean).join(" ");else for(let n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function Fe(...e){return e.map(Le).filter(Boolean).join(" ")}function Me(e){const t=e-1;return t*t*t+1}function qe(e,{delay:n=0,duration:r=400,easing:i=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:i,css:e=>"opacity: "+e*o}}function je(e,{delay:t=0,duration:n=400,easing:r=Me}={}){const i=getComputedStyle(e),o=+i.opacity,s=parseFloat(i.height),a=parseFloat(i.paddingTop),u=parseFloat(i.paddingBottom),l=parseFloat(i.marginTop),c=parseFloat(i.marginBottom),h=parseFloat(i.borderTopWidth),p=parseFloat(i.borderBottomWidth);return{delay:t,duration:n,easing:r,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*o};height: ${e*s}px;padding-top: ${e*a}px;padding-bottom: ${e*u}px;margin-top: ${e*l}px;margin-bottom: ${e*c}px;border-top-width: ${e*h}px;border-bottom-width: ${e*p}px;`}}const Ue=["touchstart","click"];function ze(e){let t,r,i,a,l,h;const p=e[15].default,d=u(p,e,e[14],null);let f=[{style:r=e[1]?void 0:"overflow: hidden;"},e[8],{class:e[7]}],_={};for(let e=0;e<f.length;e+=1)_=n(_,f[e]);return{c(){t=C("div"),d&&d.c(),S(t,_)},m(n,r){m(n,t,r),d&&d.m(t,null),a=!0,l||(h=[T(t,"introstart",e[16]),T(t,"introend",e[17]),T(t,"outrostart",e[18]),T(t,"outroend",e[19]),T(t,"introstart",(function(){s(e[2])&&e[2].apply(this,arguments)})),T(t,"introend",(function(){s(e[3])&&e[3].apply(this,arguments)})),T(t,"outrostart",(function(){s(e[4])&&e[4].apply(this,arguments)})),T(t,"outroend",(function(){s(e[5])&&e[5].apply(this,arguments)}))],l=!0)},p(n,i){e=n,d&&d.p&&(!a||16384&i)&&c(d,p,e,e[14],i,null,null),S(t,_=_e(f,[(!a||2&i&&r!==(r=e[1]?void 0:"overflow: hidden;"))&&{style:r},256&i&&e[8],(!a||128&i)&&{class:e[7]}]))},i(e){a||(he(d,e),e&&Z((()=>{i||(i=fe(t,je,{},!0)),i.run(1)})),a=!0)},o(e){pe(d,e),e&&(i||(i=fe(t,je,{},!1)),i.run(0)),a=!1},d(e){e&&b(t),d&&d.d(e),e&&i&&i.end(),l=!1,o(h)}}}function We(e){let t,n,r,i;Z(e[20]);let o=e[0]&&ze(e);return{c(){o&&o.c(),t=x()},m(s,a){o&&o.m(s,a),m(s,t,a),n=!0,r||(i=T(window,"resize",e[20]),r=!0)},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&he(o,1)):(o=ze(e),o.c(),he(o,1),o.m(t.parentNode,t)):o&&(le(),pe(o,1,1,(()=>{o=null})),ce())},i(e){n||(he(o),n=!0)},o(e){pe(o),n=!1},d(e){o&&o.d(e),e&&b(t),r=!1,i()}}}function Be(e,t,r){let i;const o=["isOpen","class","navbar","onEntering","onEntered","onExiting","onExited","expand","toggler"];let s=p(t,o),{$$slots:a={},$$scope:u}=t;const l=W();let{isOpen:c=!1}=t,{class:d=""}=t,{navbar:f=!1}=t,{onEntering:_=(()=>l("opening"))}=t,{onEntered:v=(()=>l("open"))}=t,{onExiting:y=(()=>l("closing"))}=t,{onExited:g=(()=>l("close"))}=t,{expand:m=!1}=t,{toggler:b=null}=t;z((()=>((e,t)=>{let n;if("string"==typeof e&&"undefined"!=typeof window&&document&&document.createElement){let r=document.querySelectorAll(e);if(r.length||(r=document.querySelectorAll(`#${e}`)),!r.length)throw new Error(`The target '${e}' could not be identified in the dom, tip: check spelling`);Ue.forEach((e=>{r.forEach((n=>{n.addEventListener(e,t)}))})),n=()=>{Ue.forEach((e=>{r.forEach((n=>{n.removeEventListener(e,t)}))}))}}return()=>{"function"==typeof n&&(n(),n=void 0)}})(b,(()=>r(0,c=!c)))));let w=0,C=!1;const k={};function $(){l("update",c)}return k.xs=0,k.sm=576,k.md=768,k.lg=992,k.xl=1200,e.$$set=e=>{t=n(n({},t),h(e)),r(8,s=p(t,o)),"isOpen"in e&&r(0,c=e.isOpen),"class"in e&&r(9,d=e.class),"navbar"in e&&r(1,f=e.navbar),"onEntering"in e&&r(2,_=e.onEntering),"onEntered"in e&&r(3,v=e.onEntered),"onExiting"in e&&r(4,y=e.onExiting),"onExited"in e&&r(5,g=e.onExited),"expand"in e&&r(10,m=e.expand),"toggler"in e&&r(11,b=e.toggler),"$$scope"in e&&r(14,u=e.$$scope)},e.$$.update=()=>{514&e.$$.dirty&&r(7,i=Fe(d,f&&"navbar-collapse")),13379&e.$$.dirty&&f&&m&&(w>=k[m]&&!c?(r(0,c=!0),r(12,C=!0),$()):w<k[m]&&C&&(r(0,c=!1),r(12,C=!1),$()))},[c,f,_,v,y,g,w,i,s,d,m,b,C,k,u,a,function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(){r(6,w=window.innerWidth)}]}class He extends Ce{constructor(e){super(),we(this,e,Be,We,a,{isOpen:0,class:9,navbar:1,onEntering:2,onEntered:3,onExiting:4,onExited:5,expand:10,toggler:11})}}function Ve(e){let t,r,i,o,s;const a=e[18].default,l=u(a,e,e[17],null),h=l||function(e){let t,n,r,i;const o=[Ye,Ge],s=[];function a(e,t){return e[1]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=x()},m(e,n){s[t].m(e,n),m(e,r,n),i=!0},p(e,i){let u=t;t=a(e),t===u?s[t].p(e,i):(le(),pe(s[u],1,1,(()=>{s[u]=null})),ce(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){i||(he(n),i=!0)},o(e){pe(n),i=!1},d(e){s[t].d(e),e&&b(r)}}}(e);let p=[e[9],{class:e[7]},{disabled:e[2]},{value:e[5]},{"aria-label":r=e[6]||e[8]},{style:e[4]}],d={};for(let e=0;e<p.length;e+=1)d=n(d,p[e]);return{c(){t=C("button"),h&&h.c(),S(t,d)},m(n,r){m(n,t,r),h&&h.m(t,null),e[22](t),i=!0,o||(s=T(t,"click",e[20]),o=!0)},p(e,n){l?l.p&&(!i||131072&n)&&c(l,a,e,e[17],n,null,null):h&&h.p&&131074&n&&h.p(e,n),S(t,d=_e(p,[512&n&&e[9],(!i||128&n)&&{class:e[7]},(!i||4&n)&&{disabled:e[2]},(!i||32&n)&&{value:e[5]},(!i||320&n&&r!==(r=e[6]||e[8]))&&{"aria-label":r},(!i||16&n)&&{style:e[4]}]))},i(e){i||(he(h,e),i=!0)},o(e){pe(h,e),i=!1},d(n){n&&b(t),h&&h.d(n),e[22](null),o=!1,s()}}}function Qe(e){let t,r,i,o,s,a,u;const l=[Xe,Ke],c=[];function h(e,t){return e[1]?0:1}r=h(e),i=c[r]=l[r](e);let p=[e[9],{class:e[7]},{disabled:e[2]},{href:e[3]},{"aria-label":o=e[6]||e[8]},{style:e[4]}],d={};for(let e=0;e<p.length;e+=1)d=n(d,p[e]);return{c(){t=C("a"),i.c(),S(t,d)},m(n,i){m(n,t,i),c[r].m(t,null),e[21](t),s=!0,a||(u=T(t,"click",e[19]),a=!0)},p(e,n){let a=r;r=h(e),r===a?c[r].p(e,n):(le(),pe(c[a],1,1,(()=>{c[a]=null})),ce(),i=c[r],i?i.p(e,n):(i=c[r]=l[r](e),i.c()),he(i,1),i.m(t,null)),S(t,d=_e(p,[512&n&&e[9],(!s||128&n)&&{class:e[7]},(!s||4&n)&&{disabled:e[2]},(!s||8&n)&&{href:e[3]},(!s||320&n&&o!==(o=e[6]||e[8]))&&{"aria-label":o},(!s||16&n)&&{style:e[4]}]))},i(e){s||(he(i),s=!0)},o(e){pe(i),s=!1},d(n){n&&b(t),c[r].d(),e[21](null),a=!1,u()}}}function Ge(e){let t;const n=e[18].default,r=u(n,e,e[17],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||131072&i)&&c(r,n,e,e[17],i,null,null)},i(e){t||(he(r,e),t=!0)},o(e){pe(r,e),t=!1},d(e){r&&r.d(e)}}}function Ye(t){let n;return{c(){n=k(t[1])},m(e,t){m(e,n,t)},p(e,t){2&t&&P(n,e[1])},i:e,o:e,d(e){e&&b(n)}}}function Ke(e){let t;const n=e[18].default,r=u(n,e,e[17],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||131072&i)&&c(r,n,e,e[17],i,null,null)},i(e){t||(he(r,e),t=!0)},o(e){pe(r,e),t=!1},d(e){r&&r.d(e)}}}function Xe(t){let n;return{c(){n=k(t[1])},m(e,t){m(e,n,t)},p(e,t){2&t&&P(n,e[1])},i:e,o:e,d(e){e&&b(n)}}}function Je(e){let t,n,r,i;const o=[Qe,Ve],s=[];function a(e,t){return e[3]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=x()},m(e,n){s[t].m(e,n),m(e,r,n),i=!0},p(e,[i]){let u=t;t=a(e),t===u?s[t].p(e,i):(le(),pe(s[u],1,1,(()=>{s[u]=null})),ce(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){i||(he(n),i=!0)},o(e){pe(n),i=!1},d(e){s[t].d(e),e&&b(r)}}}function Ze(e,t,r){let i,o,s;const a=["class","active","block","children","close","color","disabled","href","inner","outline","size","style","value"];let u=p(t,a),{$$slots:l={},$$scope:c}=t,{class:d=""}=t,{active:f=!1}=t,{block:_=!1}=t,{children:v}=t,{close:y=!1}=t,{color:g="secondary"}=t,{disabled:m=!1}=t,{href:b=""}=t,{inner:w}=t,{outline:C=!1}=t,{size:k=null}=t,{style:$=""}=t,{value:x=""}=t;return e.$$set=e=>{r(23,t=n(n({},t),h(e))),r(9,u=p(t,a)),"class"in e&&r(10,d=e.class),"active"in e&&r(11,f=e.active),"block"in e&&r(12,_=e.block),"children"in e&&r(1,v=e.children),"close"in e&&r(13,y=e.close),"color"in e&&r(14,g=e.color),"disabled"in e&&r(2,m=e.disabled),"href"in e&&r(3,b=e.href),"inner"in e&&r(0,w=e.inner),"outline"in e&&r(15,C=e.outline),"size"in e&&r(16,k=e.size),"style"in e&&r(4,$=e.style),"value"in e&&r(5,x=e.value),"$$scope"in e&&r(17,c=e.$$scope)},e.$$.update=()=>{r(6,i=t["aria-label"]),130048&e.$$.dirty&&r(7,o=Fe(d,y?"btn-close":"btn",y||`btn${C?"-outline":""}-${g}`,!!k&&`btn-${k}`,!!_&&"d-block w-100",{active:f})),8192&e.$$.dirty&&r(8,s=y?"Close":null)},t=h(t),[w,v,m,b,$,x,i,o,s,u,d,f,_,y,g,C,k,c,l,function(t){H(e,t)},function(t){H(e,t)},function(e){Q[e?"unshift":"push"]((()=>{w=e,r(0,w)}))},function(e){Q[e?"unshift":"push"]((()=>{w=e,r(0,w)}))}]}class et extends Ce{constructor(e){super(),we(this,e,Ze,Je,a,{class:10,active:11,block:12,children:1,close:13,color:14,disabled:2,href:3,inner:0,outline:15,size:16,style:4,value:5})}}function tt(e){let t,r,i,o;const s=e[9].default,a=u(s,e,e[8],null);let l=[e[2],{class:e[1]},{style:e[0]}],h={};for(let e=0;e<l.length;e+=1)h=n(h,l[e]);return{c(){t=C("div"),a&&a.c(),S(t,h)},m(n,s){m(n,t,s),a&&a.m(t,null),r=!0,i||(o=T(t,"click",e[10]),i=!0)},p(e,[n]){a&&a.p&&(!r||256&n)&&c(a,s,e,e[8],n,null,null),S(t,h=_e(l,[4&n&&e[2],(!r||2&n)&&{class:e[1]},(!r||1&n)&&{style:e[0]}]))},i(e){r||(he(a,e),r=!0)},o(e){pe(a,e),r=!1},d(e){e&&b(t),a&&a.d(e),i=!1,o()}}}function nt(e,t,r){let i;const o=["class","body","color","inverse","outline","style"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{body:c=!1}=t,{color:d=""}=t,{inverse:f=!1}=t,{outline:_=!1}=t,{style:v=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(2,s=p(t,o)),"class"in e&&r(3,l=e.class),"body"in e&&r(4,c=e.body),"color"in e&&r(5,d=e.color),"inverse"in e&&r(6,f=e.inverse),"outline"in e&&r(7,_=e.outline),"style"in e&&r(0,v=e.style),"$$scope"in e&&r(8,u=e.$$scope)},e.$$.update=()=>{248&e.$$.dirty&&r(1,i=Fe(l,"card",!!f&&"text-white",!!c&&"card-body",!!d&&`${_?"border":"bg"}-${d}`))},[v,i,s,l,c,d,f,_,u,a,function(t){H(e,t)}]}class rt extends Ce{constructor(e){super(),we(this,e,nt,tt,a,{class:3,body:4,color:5,inverse:6,outline:7,style:0})}}function it(e){let t,r;const i=e[4].default,o=u(i,e,e[3],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){m(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||8&n)&&c(o,i,e,e[3],n,null,null),S(t,a=_e(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(he(o,e),r=!0)},o(e){pe(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function ot(e,t,r){let i;const o=["class"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"$$scope"in e&&r(3,u=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&r(0,i=Fe(l,"card-body"))},[i,s,l,u,a]}class st extends Ce{constructor(e){super(),we(this,e,ot,it,a,{class:2})}}function at(e){let t,r;const i=e[4].default,o=u(i,e,e[3],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){m(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||8&n)&&c(o,i,e,e[3],n,null,null),S(t,a=_e(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(he(o,e),r=!0)},o(e){pe(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function ut(e,t,r){let i;const o=["class"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"$$scope"in e&&r(3,u=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&r(0,i=Fe(l,"card-footer"))},[i,s,l,u,a]}class lt extends Ce{constructor(e){super(),we(this,e,ut,at,a,{class:2})}}function ct(e){let t,r;const i=e[4].default,o=u(i,e,e[3],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("p"),o&&o.c(),S(t,a)},m(e,n){m(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||8&n)&&c(o,i,e,e[3],n,null,null),S(t,a=_e(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(he(o,e),r=!0)},o(e){pe(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function ht(e,t,r){let i;const o=["class"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"$$scope"in e&&r(3,u=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&r(0,i=Fe(l,"card-text"))},[i,s,l,u,a]}class pt extends Ce{constructor(e){super(),we(this,e,ht,ct,a,{class:2})}}function dt(e){let t,r;const i=e[10].default,o=u(i,e,e[9],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){m(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||512&n)&&c(o,i,e,e[9],n,null,null),S(t,a=_e(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(he(o,e),r=!0)},o(e){pe(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function ft(e,t,r){let i;const o=["class","sm","md","lg","xl","xxl","fluid"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{sm:c}=t,{md:d}=t,{lg:f}=t,{xl:_}=t,{xxl:v}=t,{fluid:y=!1}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"sm"in e&&r(3,c=e.sm),"md"in e&&r(4,d=e.md),"lg"in e&&r(5,f=e.lg),"xl"in e&&r(6,_=e.xl),"xxl"in e&&r(7,v=e.xxl),"fluid"in e&&r(8,y=e.fluid),"$$scope"in e&&r(9,u=e.$$scope)},e.$$.update=()=>{508&e.$$.dirty&&r(0,i=Fe(l,{"container-sm":c,"container-md":d,"container-lg":f,"container-xl":_,"container-xxl":v,"container-fluid":y,container:!(c||d||f||_||v||y)}))},[i,s,l,c,d,f,_,v,y,u,a]}class _t extends Ce{constructor(e){super(),we(this,e,ft,dt,a,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}const vt=e=>({}),yt=e=>({});function gt(e){let t,r,i,s=[e[11],{class:e[9]},{id:e[10]},{type:"checkbox"},{disabled:e[3]},{name:e[5]},{__value:e[7]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("input"),S(t,a)},m(n,o){m(n,t,o),t.checked=e[0],e[38](t),r||(i=[T(t,"blur",e[28]),T(t,"change",e[29]),T(t,"focus",e[30]),T(t,"input",e[31]),T(t,"change",e[37])],r=!0)},p(e,n){S(t,a=_e(s,[2048&n[0]&&e[11],512&n[0]&&{class:e[9]},1024&n[0]&&{id:e[10]},{type:"checkbox"},8&n[0]&&{disabled:e[3]},32&n[0]&&{name:e[5]},128&n[0]&&{__value:e[7]}])),1&n[0]&&(t.checked=e[0])},d(n){n&&b(t),e[38](null),r=!1,o(i)}}}function mt(e){let t,r,i,s=[e[11],{class:e[9]},{id:e[10]},{type:"checkbox"},{disabled:e[3]},{name:e[5]},{__value:e[7]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("input"),S(t,a)},m(n,o){m(n,t,o),t.checked=e[0],e[36](t),r||(i=[T(t,"blur",e[24]),T(t,"change",e[25]),T(t,"focus",e[26]),T(t,"input",e[27]),T(t,"change",e[35])],r=!0)},p(e,n){S(t,a=_e(s,[2048&n[0]&&e[11],512&n[0]&&{class:e[9]},1024&n[0]&&{id:e[10]},{type:"checkbox"},8&n[0]&&{disabled:e[3]},32&n[0]&&{name:e[5]},128&n[0]&&{__value:e[7]}])),1&n[0]&&(t.checked=e[0])},d(n){n&&b(t),e[36](null),r=!1,o(i)}}}function bt(e){let t,r,i,s=[e[11],{class:e[9]},{id:e[10]},{type:"radio"},{disabled:e[3]},{name:e[5]},{__value:e[7]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("input"),S(t,a),e[33][0].push(t)},m(n,o){m(n,t,o),t.checked=t.__value===e[1],e[34](t),r||(i=[T(t,"blur",e[20]),T(t,"change",e[21]),T(t,"focus",e[22]),T(t,"input",e[23]),T(t,"change",e[32])],r=!0)},p(e,n){S(t,a=_e(s,[2048&n[0]&&e[11],512&n[0]&&{class:e[9]},1024&n[0]&&{id:e[10]},{type:"radio"},8&n[0]&&{disabled:e[3]},32&n[0]&&{name:e[5]},128&n[0]&&{__value:e[7]}])),2&n[0]&&(t.checked=t.__value===e[1])},d(n){n&&b(t),e[33][0].splice(e[33][0].indexOf(t),1),e[34](null),r=!1,o(i)}}}function wt(e){let t,n;const r=e[19].label,i=u(r,e,e[18],yt),o=i||function(e){let t;return{c(){t=k(e[4])},m(e,n){m(e,t,n)},p(e,n){16&n[0]&&P(t,e[4])},d(e){e&&b(t)}}}(e);return{c(){t=C("label"),o&&o.c(),E(t,"class","form-check-label"),E(t,"for",e[10])},m(e,r){m(e,t,r),o&&o.m(t,null),n=!0},p(e,s){i?i.p&&(!n||262144&s[0])&&c(i,r,e,e[18],s,vt,yt):o&&o.p&&16&s[0]&&o.p(e,s),(!n||1024&s[0])&&E(t,"for",e[10])},i(e){n||(he(o,e),n=!0)},o(e){pe(o,e),n=!1},d(e){e&&b(t),o&&o.d(e)}}}function Ct(e){let t,n,r;function i(e,t){return"radio"===e[6]?bt:"switch"===e[6]?mt:gt}let o=i(e),s=o(e),a=e[4]&&wt(e);return{c(){t=C("div"),s.c(),n=$(),a&&a.c(),E(t,"class",e[8])},m(e,i){m(e,t,i),s.m(t,null),g(t,n),a&&a.m(t,null),r=!0},p(e,u){o===(o=i(e))&&s?s.p(e,u):(s.d(1),s=o(e),s&&(s.c(),s.m(t,n))),e[4]?a?(a.p(e,u),16&u[0]&&he(a,1)):(a=wt(e),a.c(),he(a,1),a.m(t,null)):a&&(le(),pe(a,1,1,(()=>{a=null})),ce()),(!r||256&u[0])&&E(t,"class",e[8])},i(e){r||(he(a),r=!0)},o(e){pe(a),r=!1},d(e){e&&b(t),s.d(),a&&a.d()}}}function kt(e,t,r){let i,o,s;const a=["class","checked","disabled","group","id","inline","inner","invalid","label","name","size","type","valid","value"];let u=p(t,a),{$$slots:l={},$$scope:c}=t,{class:d=""}=t,{checked:f=!1}=t,{disabled:_=!1}=t,{group:v}=t,{id:y}=t,{inline:g=!1}=t,{inner:m}=t,{invalid:b=!1}=t,{label:w=""}=t,{name:C=""}=t,{size:k=""}=t,{type:$="checkbox"}=t,{valid:x=!1}=t,{value:T}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(11,u=p(t,a)),"class"in e&&r(12,d=e.class),"checked"in e&&r(0,f=e.checked),"disabled"in e&&r(3,_=e.disabled),"group"in e&&r(1,v=e.group),"id"in e&&r(13,y=e.id),"inline"in e&&r(14,g=e.inline),"inner"in e&&r(2,m=e.inner),"invalid"in e&&r(15,b=e.invalid),"label"in e&&r(4,w=e.label),"name"in e&&r(5,C=e.name),"size"in e&&r(16,k=e.size),"type"in e&&r(6,$=e.type),"valid"in e&&r(17,x=e.valid),"value"in e&&r(7,T=e.value),"$$scope"in e&&r(18,c=e.$$scope)},e.$$.update=()=>{86080&e.$$.dirty[0]&&r(8,i=Fe(d,"form-check",{"form-switch":"switch"===$,"form-check-inline":g,[`form-control-${k}`]:k})),163840&e.$$.dirty[0]&&r(9,o=Fe("form-check-input",{"is-invalid":b,"is-valid":x})),8208&e.$$.dirty[0]&&r(10,s=y||w)},[f,v,m,_,w,C,$,T,i,o,s,u,d,y,g,b,k,x,c,l,function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(){v=this.__value,r(1,v)},[[]],function(e){Q[e?"unshift":"push"]((()=>{m=e,r(2,m)}))},function(){f=this.checked,r(0,f)},function(e){Q[e?"unshift":"push"]((()=>{m=e,r(2,m)}))},function(){f=this.checked,r(0,f)},function(e){Q[e?"unshift":"push"]((()=>{m=e,r(2,m)}))}]}class $t extends Ce{constructor(e){super(),we(this,e,kt,Ct,a,{class:12,checked:0,disabled:3,group:1,id:13,inline:14,inner:2,invalid:15,label:4,name:5,size:16,type:6,valid:17,value:7},[-1,-1])}}function xt(e){let t,r;const i=e[6].default,o=u(i,e,e[5],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){m(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||32&n)&&c(o,i,e,e[5],n,null,null),S(t,a=_e(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(he(o,e),r=!0)},o(e){pe(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function Tt(e,t,r){const i=["class","valid","tooltip"];let o,s=p(t,i),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{valid:c}=t,{tooltip:d=!1}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,i)),"class"in e&&r(2,l=e.class),"valid"in e&&r(3,c=e.valid),"tooltip"in e&&r(4,d=e.tooltip),"$$scope"in e&&r(5,u=e.$$scope)},e.$$.update=()=>{if(28&e.$$.dirty){const e=d?"tooltip":"feedback";r(0,o=Fe(l,c?`valid-${e}`:`invalid-${e}`))}},[o,s,l,c,d,u,a]}class Et extends Ce{constructor(e){super(),we(this,e,Tt,xt,a,{class:2,valid:3,tooltip:4})}}function St(e){let t,r;const i=e[9].default,o=u(i,e,e[8],null);let s=[e[2],{class:e[1]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){m(e,t,n),o&&o.m(t,null),r=!0},p(e,n){o&&o.p&&(!r||256&n)&&c(o,i,e,e[8],n,null,null),S(t,a=_e(s,[4&n&&e[2],(!r||2&n)&&{class:e[1]}]))},i(e){r||(he(o,e),r=!0)},o(e){pe(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function It(e){let t,r;const i=e[9].default,o=u(i,e,e[8],null);let s=[e[2],{class:e[1]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("fieldset"),o&&o.c(),S(t,a)},m(e,n){m(e,t,n),o&&o.m(t,null),r=!0},p(e,n){o&&o.p&&(!r||256&n)&&c(o,i,e,e[8],n,null,null),S(t,a=_e(s,[4&n&&e[2],(!r||2&n)&&{class:e[1]}]))},i(e){r||(he(o,e),r=!0)},o(e){pe(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function Pt(e){let t,n,r,i;const o=[It,St],s=[];function a(e,t){return"fieldset"===e[0]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=x()},m(e,n){s[t].m(e,n),m(e,r,n),i=!0},p(e,[i]){let u=t;t=a(e),t===u?s[t].p(e,i):(le(),pe(s[u],1,1,(()=>{s[u]=null})),ce(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){i||(he(n),i=!0)},o(e){pe(n),i=!1},d(e){s[t].d(e),e&&b(r)}}}function Rt(e,t,r){let i;const o=["class","check","disabled","inline","row","tag"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{check:c=!1}=t,{disabled:d=!1}=t,{inline:f=!1}=t,{row:_=!1}=t,{tag:v=null}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(2,s=p(t,o)),"class"in e&&r(3,l=e.class),"check"in e&&r(4,c=e.check),"disabled"in e&&r(5,d=e.disabled),"inline"in e&&r(6,f=e.inline),"row"in e&&r(7,_=e.row),"tag"in e&&r(0,v=e.tag),"$$scope"in e&&r(8,u=e.$$scope)},e.$$.update=()=>{248&e.$$.dirty&&r(1,i=Fe(l,"mb-3",{row:_,"form-check":c,"form-check-inline":c&&f,disabled:c&&d}))},[v,i,s,l,c,d,f,_,u,a]}class Nt extends Ce{constructor(e){super(),we(this,e,Rt,Pt,a,{class:3,check:4,disabled:5,inline:6,row:7,tag:0})}}function Ot(t){let r,i=[{alt:t[0]},t[2],{class:t[1]}],o={};for(let e=0;e<i.length;e+=1)o=n(o,i[e]);return{c(){r=C("img"),S(r,o)},m(e,t){m(e,r,t)},p(e,[t]){S(r,o=_e(i,[1&t&&{alt:e[0]},4&t&&e[2],2&t&&{class:e[1]}]))},i:e,o:e,d(e){e&&b(r)}}}function At(e,t,r){let i;const o=["class","alt","figure","fluid","thumbnail"];let s=p(t,o),{class:a=""}=t,{alt:u}=t,{figure:l=B("figure")}=t,{fluid:c=!1}=t,{thumbnail:d=!1}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(2,s=p(t,o)),"class"in e&&r(3,a=e.class),"alt"in e&&r(0,u=e.alt),"figure"in e&&r(4,l=e.figure),"fluid"in e&&r(5,c=e.fluid),"thumbnail"in e&&r(6,d=e.thumbnail)},e.$$.update=()=>{120&e.$$.dirty&&r(1,i=Fe(a,{"figure-img":l,"img-fluid":c,"img-thumbnail":d}))},[u,i,s,a,l,c,d]}class Dt extends Ce{constructor(e){super(),we(this,e,At,Ot,a,{class:3,alt:0,figure:4,fluid:5,thumbnail:6})}}function Lt(e,t,n){const r=e.slice();return r[210]=t[n],r}function Ft(e){let t,r,i,s;const a=e[24].default,l=u(a,e,e[209],null);let h=[e[21],{class:e[18]},{name:e[13]},{disabled:e[8]},{readonly:e[15]}],p={};for(let e=0;e<h.length;e+=1)p=n(p,h[e]);return{c(){t=C("select"),l&&l.c(),S(t,p),void 0===e[6]&&Z((()=>e[207].call(t)))},m(n,o){m(n,t,o),l&&l.m(t,null),p.multiple&&O(t,p.value),N(t,e[6]),e[208](t),r=!0,i||(s=[T(t,"blur",e[156]),T(t,"change",e[157]),T(t,"focus",e[158]),T(t,"input",e[159]),T(t,"change",e[207])],i=!0)},p(e,n){l&&l.p&&(!r||8388608&n[6])&&c(l,a,e,e[209],n,null,null),S(t,p=_e(h,[2097152&n[0]&&e[21],(!r||262144&n[0])&&{class:e[18]},(!r||8192&n[0])&&{name:e[13]},(!r||256&n[0])&&{disabled:e[8]},(!r||32768&n[0])&&{readonly:e[15]}])),2400512&n[0]&&p.multiple&&O(t,p.value),64&n[0]&&N(t,e[6])},i(e){r||(he(l,e),r=!0)},o(e){pe(l,e),r=!1},d(n){n&&b(t),l&&l.d(n),e[208](null),i=!1,o(s)}}}function Mt(t){let r,i,s,a=[t[21],{class:t[18]},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("textarea"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[206](r),i||(s=[T(r,"blur",t[149]),T(r,"change",t[150]),T(r,"focus",t[151]),T(r,"input",t[152]),T(r,"keydown",t[153]),T(r,"keypress",t[154]),T(r,"keyup",t[155]),T(r,"input",t[205])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[206](null),i=!1,o(s)}}}function qt(e){let t,n,r,i;const o=[on,rn,nn,tn,en,Zt,Jt,Xt,Kt,Yt,Gt,Qt,Vt,Ht,Bt,Wt,zt,Ut,jt],s=[];function a(e,t){return"text"===e[16]?0:"password"===e[16]?1:"color"===e[16]?2:"email"===e[16]?3:"file"===e[16]?4:"checkbox"===e[16]||"radio"===e[16]||"switch"===e[16]?5:"url"===e[16]?6:"number"===e[16]?7:"date"===e[16]?8:"time"===e[16]?9:"datetime"===e[16]?10:"datetime-local"===e[16]?11:"month"===e[16]?12:"color"===e[16]?13:"range"===e[16]?14:"search"===e[16]?15:"tel"===e[16]?16:"week"===e[16]?17:18}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=x()},m(e,n){s[t].m(e,n),m(e,r,n),i=!0},p(e,i){let u=t;t=a(e),t===u?s[t].p(e,i):(le(),pe(s[u],1,1,(()=>{s[u]=null})),ce(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){i||(he(n),i=!0)},o(e){pe(n),i=!1},d(e){s[t].d(e),e&&b(r)}}}function jt(t){let r,i,s,a=[t[21],{type:t[16]},{readOnly:t[15]},{class:t[18]},{name:t[13]},{disabled:t[8]},{placeholder:t[14]},{value:t[6]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),r.value=u.value,i||(s=[T(r,"blur",t[144]),T(r,"change",t[20]),T(r,"focus",t[145]),T(r,"input",t[20]),T(r,"keydown",t[146]),T(r,"keypress",t[147]),T(r,"keyup",t[148])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],65536&t[0]&&{type:e[16]},32768&t[0]&&{readOnly:e[15]},262144&t[0]&&{class:e[18]},8192&t[0]&&{name:e[13]},256&t[0]&&{disabled:e[8]},16384&t[0]&&{placeholder:e[14]},64&t[0]&&r.value!==e[6]&&{value:e[6]}])),"value"in u&&(r.value=u.value)},i:e,o:e,d(e){e&&b(r),i=!1,o(s)}}}function Ut(t){let r,i,s,a=[t[21],{class:t[18]},{type:"week"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[204](r),i||(s=[T(r,"blur",t[137]),T(r,"change",t[138]),T(r,"focus",t[139]),T(r,"input",t[140]),T(r,"keydown",t[141]),T(r,"keypress",t[142]),T(r,"keyup",t[143]),T(r,"input",t[203])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"week"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[204](null),i=!1,o(s)}}}function zt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"tel"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[202](r),i||(s=[T(r,"blur",t[130]),T(r,"change",t[131]),T(r,"focus",t[132]),T(r,"input",t[133]),T(r,"keydown",t[134]),T(r,"keypress",t[135]),T(r,"keyup",t[136]),T(r,"input",t[201])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"tel"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[202](null),i=!1,o(s)}}}function Wt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"search"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[200](r),i||(s=[T(r,"blur",t[123]),T(r,"change",t[124]),T(r,"focus",t[125]),T(r,"input",t[126]),T(r,"keydown",t[127]),T(r,"keypress",t[128]),T(r,"keyup",t[129]),T(r,"input",t[199])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"search"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[200](null),i=!1,o(s)}}}function Bt(t){let r,i,s,a=[t[21],{type:"range"},{readOnly:t[15]},{class:t[18]},{name:t[13]},{disabled:t[8]},{placeholder:t[14]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[198](r),i||(s=[T(r,"blur",t[116]),T(r,"change",t[117]),T(r,"focus",t[118]),T(r,"input",t[119]),T(r,"keydown",t[120]),T(r,"keypress",t[121]),T(r,"keyup",t[122]),T(r,"change",t[197]),T(r,"input",t[197])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],{type:"range"},32768&t[0]&&{readOnly:e[15]},262144&t[0]&&{class:e[18]},8192&t[0]&&{name:e[13]},256&t[0]&&{disabled:e[8]},16384&t[0]&&{placeholder:e[14]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[198](null),i=!1,o(s)}}}function Ht(t){let r,i,s,a=[t[21],{type:"color"},{readOnly:t[15]},{class:t[18]},{name:t[13]},{disabled:t[8]},{placeholder:t[14]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[196](r),i||(s=[T(r,"blur",t[109]),T(r,"change",t[110]),T(r,"focus",t[111]),T(r,"input",t[112]),T(r,"keydown",t[113]),T(r,"keypress",t[114]),T(r,"keyup",t[115]),T(r,"input",t[195])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],{type:"color"},32768&t[0]&&{readOnly:e[15]},262144&t[0]&&{class:e[18]},8192&t[0]&&{name:e[13]},256&t[0]&&{disabled:e[8]},16384&t[0]&&{placeholder:e[14]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[196](null),i=!1,o(s)}}}function Vt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"month"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[194](r),i||(s=[T(r,"blur",t[102]),T(r,"change",t[103]),T(r,"focus",t[104]),T(r,"input",t[105]),T(r,"keydown",t[106]),T(r,"keypress",t[107]),T(r,"keyup",t[108]),T(r,"input",t[193])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"month"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[194](null),i=!1,o(s)}}}function Qt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"datetime-local"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[192](r),i||(s=[T(r,"blur",t[95]),T(r,"change",t[96]),T(r,"focus",t[97]),T(r,"input",t[98]),T(r,"keydown",t[99]),T(r,"keypress",t[100]),T(r,"keyup",t[101]),T(r,"input",t[191])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"datetime-local"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[192](null),i=!1,o(s)}}}function Gt(t){let r,i,s,a=[t[21],{type:"datetime"},{readOnly:t[15]},{class:t[18]},{name:t[13]},{disabled:t[8]},{placeholder:t[14]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[190](r),i||(s=[T(r,"blur",t[88]),T(r,"change",t[89]),T(r,"focus",t[90]),T(r,"input",t[91]),T(r,"keydown",t[92]),T(r,"keypress",t[93]),T(r,"keyup",t[94]),T(r,"input",t[189])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],{type:"datetime"},32768&t[0]&&{readOnly:e[15]},262144&t[0]&&{class:e[18]},8192&t[0]&&{name:e[13]},256&t[0]&&{disabled:e[8]},16384&t[0]&&{placeholder:e[14]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[190](null),i=!1,o(s)}}}function Yt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"time"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[188](r),i||(s=[T(r,"blur",t[81]),T(r,"change",t[82]),T(r,"focus",t[83]),T(r,"input",t[84]),T(r,"keydown",t[85]),T(r,"keypress",t[86]),T(r,"keyup",t[87]),T(r,"input",t[187])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"time"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[188](null),i=!1,o(s)}}}function Kt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"date"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[186](r),i||(s=[T(r,"blur",t[74]),T(r,"change",t[75]),T(r,"focus",t[76]),T(r,"input",t[77]),T(r,"keydown",t[78]),T(r,"keypress",t[79]),T(r,"keyup",t[80]),T(r,"input",t[185])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"date"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[186](null),i=!1,o(s)}}}function Xt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"number"},{readOnly:t[15]},{name:t[13]},{disabled:t[8]},{placeholder:t[14]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[184](r),i||(s=[T(r,"blur",t[67]),T(r,"change",t[68]),T(r,"focus",t[69]),T(r,"input",t[70]),T(r,"keydown",t[71]),T(r,"keypress",t[72]),T(r,"keyup",t[73]),T(r,"input",t[183])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"number"},32768&t[0]&&{readOnly:e[15]},8192&t[0]&&{name:e[13]},256&t[0]&&{disabled:e[8]},16384&t[0]&&{placeholder:e[14]}])),64&t[0]&&I(r.value)!==e[6]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[184](null),i=!1,o(s)}}}function Jt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"url"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[182](r),i||(s=[T(r,"blur",t[60]),T(r,"change",t[61]),T(r,"focus",t[62]),T(r,"input",t[63]),T(r,"keydown",t[64]),T(r,"keypress",t[65]),T(r,"keyup",t[66]),T(r,"input",t[181])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"url"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[182](null),i=!1,o(s)}}}function Zt(e){let t,r,i,o,s;const a=[e[21],{class:e[7]},{size:e[0]},{type:e[16]},{disabled:e[8]},{invalid:e[10]},{label:e[11]},{name:e[13]},{placeholder:e[14]},{readonly:e[15]},{valid:e[17]}];function u(t){e[170](t)}function l(t){e[171](t)}function c(t){e[172](t)}let h={};for(let e=0;e<a.length;e+=1)h=n(h,a[e]);return void 0!==e[2]&&(h.checked=e[2]),void 0!==e[4]&&(h.group=e[4]),void 0!==e[6]&&(h.value=e[6]),t=new $t({props:h}),Q.push((()=>ye(t,"checked",u))),Q.push((()=>ye(t,"group",l))),Q.push((()=>ye(t,"value",c))),e[173](t),t.$on("blur",e[174]),t.$on("change",e[175]),t.$on("focus",e[176]),t.$on("input",e[177]),t.$on("keydown",e[178]),t.$on("keypress",e[179]),t.$on("keyup",e[180]),{c(){ge(t.$$.fragment)},m(e,n){me(t,e,n),s=!0},p(e,n){const s=2354561&n[0]?_e(a,[2097152&n[0]&&ve(e[21]),128&n[0]&&{class:e[7]},1&n[0]&&{size:e[0]},65536&n[0]&&{type:e[16]},256&n[0]&&{disabled:e[8]},1024&n[0]&&{invalid:e[10]},2048&n[0]&&{label:e[11]},8192&n[0]&&{name:e[13]},16384&n[0]&&{placeholder:e[14]},32768&n[0]&&{readonly:e[15]},131072&n[0]&&{valid:e[17]}]):{};!r&&4&n[0]&&(r=!0,s.checked=e[2],ee((()=>r=!1))),!i&&16&n[0]&&(i=!0,s.group=e[4],ee((()=>i=!1))),!o&&64&n[0]&&(o=!0,s.value=e[6],ee((()=>o=!1))),t.$set(s)},i(e){s||(he(t.$$.fragment,e),s=!0)},o(e){pe(t.$$.fragment,e),s=!1},d(n){e[173](null),be(t,n)}}}function en(t){let r,i,s,a=[t[21],{class:t[18]},{type:"file"},{disabled:t[8]},{invalid:t[10]},{multiple:t[12]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{valid:t[17]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),t[169](r),i||(s=[T(r,"blur",t[53]),T(r,"change",t[54]),T(r,"focus",t[55]),T(r,"input",t[56]),T(r,"keydown",t[57]),T(r,"keypress",t[58]),T(r,"keyup",t[59]),T(r,"change",t[168])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"file"},256&t[0]&&{disabled:e[8]},1024&t[0]&&{invalid:e[10]},4096&t[0]&&{multiple:e[12]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},131072&t[0]&&{valid:e[17]}]))},i:e,o:e,d(e){e&&b(r),t[169](null),i=!1,o(s)}}}function tn(t){let r,i,s,a=[t[21],{class:t[18]},{type:"email"},{disabled:t[8]},{multiple:t[12]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[167](r),i||(s=[T(r,"blur",t[46]),T(r,"change",t[47]),T(r,"focus",t[48]),T(r,"input",t[49]),T(r,"keydown",t[50]),T(r,"keypress",t[51]),T(r,"keyup",t[52]),T(r,"input",t[166])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"email"},256&t[0]&&{disabled:e[8]},4096&t[0]&&{multiple:e[12]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&r.value!==e[6]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[167](null),i=!1,o(s)}}}function nn(t){let r,i,s,a=[t[21],{class:t[18]},{type:"color"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[165](r),i||(s=[T(r,"blur",t[39]),T(r,"change",t[40]),T(r,"focus",t[41]),T(r,"input",t[42]),T(r,"keydown",t[43]),T(r,"keypress",t[44]),T(r,"keyup",t[45]),T(r,"input",t[164])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"color"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[165](null),i=!1,o(s)}}}function rn(t){let r,i,s,a=[t[21],{class:t[18]},{type:"password"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[163](r),i||(s=[T(r,"blur",t[32]),T(r,"change",t[33]),T(r,"focus",t[34]),T(r,"input",t[35]),T(r,"keydown",t[36]),T(r,"keypress",t[37]),T(r,"keyup",t[38]),T(r,"input",t[162])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"password"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&r.value!==e[6]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[163](null),i=!1,o(s)}}}function on(t){let r,i,s,a=[t[21],{class:t[18]},{type:"text"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){m(e,r,n),R(r,t[6]),t[161](r),i||(s=[T(r,"blur",t[25]),T(r,"change",t[26]),T(r,"focus",t[27]),T(r,"input",t[28]),T(r,"keydown",t[29]),T(r,"keypress",t[30]),T(r,"keyup",t[31]),T(r,"input",t[160])],i=!0)},p(e,t){S(r,u=_e(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"text"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&r.value!==e[6]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[161](null),i=!1,o(s)}}}function sn(e){let t,n,r,i,o;const s=[un,an],a=[];function u(e,n){return 512&n[0]&&(t=!!Array.isArray(e[9])),t?0:1}return n=u(e,[-1]),r=a[n]=s[n](e),{c(){r.c(),i=x()},m(e,t){a[n].m(e,t),m(e,i,t),o=!0},p(e,t){let o=n;n=u(e,t),n===o?a[n].p(e,t):(le(),pe(a[o],1,1,(()=>{a[o]=null})),ce(),r=a[n],r?r.p(e,t):(r=a[n]=s[n](e),r.c()),he(r,1),r.m(i.parentNode,i))},i(e){o||(he(r),o=!0)},o(e){pe(r),o=!1},d(e){a[n].d(e),e&&b(i)}}}function an(e){let t,n;return t=new Et({props:{valid:e[17],$$slots:{default:[ln]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.valid=e[17]),512&n[0]|8388608&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function un(e){let t,n,r=e[9],i=[];for(let t=0;t<r.length;t+=1)i[t]=hn(Lt(e,r,t));const o=e=>pe(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=x()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);m(e,t,r),n=!0},p(e,n){if(131584&n[0]){let s;for(r=e[9],s=0;s<r.length;s+=1){const o=Lt(e,r,s);i[s]?(i[s].p(o,n),he(i[s],1)):(i[s]=hn(o),i[s].c(),he(i[s],1),i[s].m(t.parentNode,t))}for(le(),s=r.length;s<i.length;s+=1)o(s);ce()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)he(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)pe(i[e]);n=!1},d(e){w(i,e),e&&b(t)}}}function ln(e){let t;return{c(){t=k(e[9])},m(e,n){m(e,t,n)},p(e,n){512&n[0]&&P(t,e[9])},d(e){e&&b(t)}}}function cn(e){let t,n=e[210]+"";return{c(){t=k(n)},m(e,n){m(e,t,n)},p(e,r){512&r[0]&&n!==(n=e[210]+"")&&P(t,n)},d(e){e&&b(t)}}}function hn(e){let t,n;return t=new Et({props:{valid:e[17],$$slots:{default:[cn]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.valid=e[17]),512&n[0]|8388608&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function pn(e){let t,n,r,i,o;const s=[qt,Mt,Ft],a=[];function u(e,t){return"input"===e[19]?0:"textarea"===e[19]?1:"select"!==e[19]||e[12]?-1:2}~(t=u(e))&&(n=a[t]=s[t](e));let l=e[9]&&sn(e);return{c(){n&&n.c(),r=$(),l&&l.c(),i=x()},m(e,n){~t&&a[t].m(e,n),m(e,r,n),l&&l.m(e,n),m(e,i,n),o=!0},p(e,o){let c=t;t=u(e),t===c?~t&&a[t].p(e,o):(n&&(le(),pe(a[c],1,1,(()=>{a[c]=null})),ce()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),he(n,1),n.m(r.parentNode,r)):n=null),e[9]?l?(l.p(e,o),512&o[0]&&he(l,1)):(l=sn(e),l.c(),he(l,1),l.m(i.parentNode,i)):l&&(le(),pe(l,1,1,(()=>{l=null})),ce())},i(e){o||(he(n),he(l),o=!0)},o(e){pe(n),pe(l),o=!1},d(e){~t&&a[t].d(e),e&&b(r),l&&l.d(e),e&&b(i)}}}function dn(e,t,r){const i=["class","bsSize","checked","color","disabled","feedback","files","group","inner","invalid","label","multiple","name","placeholder","plaintext","readonly","size","type","valid","value"];let o,s,a=p(t,i),{$$slots:u={},$$scope:l}=t,{class:c=""}=t,{bsSize:d}=t,{checked:f=!1}=t,{color:_}=t,{disabled:v}=t,{feedback:y}=t,{files:g}=t,{group:m}=t,{inner:b}=t,{invalid:w=!1}=t,{label:C}=t,{multiple:k}=t,{name:$=""}=t,{placeholder:x=""}=t,{plaintext:T=!1}=t,{readonly:E}=t,{size:S}=t,{type:P="text"}=t,{valid:R=!1}=t,{value:N=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(21,a=p(t,i)),"class"in e&&r(7,c=e.class),"bsSize"in e&&r(0,d=e.bsSize),"checked"in e&&r(2,f=e.checked),"color"in e&&r(22,_=e.color),"disabled"in e&&r(8,v=e.disabled),"feedback"in e&&r(9,y=e.feedback),"files"in e&&r(3,g=e.files),"group"in e&&r(4,m=e.group),"inner"in e&&r(5,b=e.inner),"invalid"in e&&r(10,w=e.invalid),"label"in e&&r(11,C=e.label),"multiple"in e&&r(12,k=e.multiple),"name"in e&&r(13,$=e.name),"placeholder"in e&&r(14,x=e.placeholder),"plaintext"in e&&r(23,T=e.plaintext),"readonly"in e&&r(15,E=e.readonly),"size"in e&&r(1,S=e.size),"type"in e&&r(16,P=e.type),"valid"in e&&r(17,R=e.valid),"value"in e&&r(6,N=e.value),"$$scope"in e&&r(209,l=e.$$scope)},e.$$.update=()=>{if(12780675&e.$$.dirty[0]){const e=new RegExp("\\D","g");let t=!1,n="form-control";switch(r(19,s="input"),P){case"color":n="form-control form-control-color";break;case"range":n="form-range";break;case"select":n="form-select",r(19,s="select");break;case"textarea":r(19,s="textarea");break;case"button":case"reset":case"submit":n=`btn btn-${_||"secondary"}`,t=!0;break;case"hidden":case"image":n=void 0;break;default:n="form-control",r(19,s="input")}T&&(n=`${n}-plaintext`,r(19,s="input")),S&&e.test(S)&&(console.warn('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r(0,d=S),r(1,S=void 0)),r(18,o=Fe(c,n,{"is-invalid":w,"is-valid":R,[`form-control-${d}`]:d&&!t,[`btn-${d}`]:d&&t}))}},[d,S,f,g,m,b,N,c,v,y,w,C,k,$,x,E,P,R,o,s,e=>{r(6,N=e.target.value)},a,_,T,u,function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){g=this.files,N=this.value,r(3,g),r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(e){f=e,r(2,f)},function(e){m=e,r(4,m)},function(e){N=e,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(t){H(e,t)},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=I(this.value),r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=I(this.value),r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),r(6,N)},function(e){Q[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},l]}class fn extends Ce{constructor(e){super(),we(this,e,dn,pn,a,{class:7,bsSize:0,checked:2,color:22,disabled:8,feedback:9,files:3,group:4,inner:5,invalid:10,label:11,multiple:12,name:13,placeholder:14,plaintext:23,readonly:15,size:1,type:16,valid:17,value:6},[-1,-1,-1,-1,-1,-1,-1])}}function _n(e){let t,r;const i=e[15].default,o=u(i,e,e[14],null);let s=[e[2],{class:e[1]},{for:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("label"),o&&o.c(),S(t,a)},m(e,n){m(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||16384&n)&&c(o,i,e,e[14],n,null,null),S(t,a=_e(s,[4&n&&e[2],(!r||2&n)&&{class:e[1]},(!r||1&n)&&{for:e[0]}]))},i(e){r||(he(o,e),r=!0)},o(e){pe(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function vn(e,t,r){let i;const o=["class","hidden","check","size","for","xs","sm","md","lg","xl","xxl","widths"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{hidden:c=!1}=t,{check:d=!1}=t,{size:f=""}=t,{for:_=null}=t,{xs:v=""}=t,{sm:y=""}=t,{md:g=""}=t,{lg:m=""}=t,{xl:b=""}=t,{xxl:w=""}=t;const C={xs:v,sm:y,md:g,lg:m,xl:b,xxl:w};let{widths:k=Object.keys(C)}=t;const $=[];return k.forEach((e=>{let n=t[e];if(!n&&""!==n)return;const r="xs"===e;let i;if(function(e){const t=typeof e;return null!=e&&("object"==t||"function"==t)}(n)){const t=r?"-":`-${e}-`;i=De(r,e,n.size),$.push(Fe({[i]:n.size||""===n.size,[`order${t}${n.order}`]:n.order||0===n.order,[`offset${t}${n.offset}`]:n.offset||0===n.offset}))}else i=De(r,e,n),$.push(i)})),e.$$set=e=>{r(18,t=n(n({},t),h(e))),r(2,s=p(t,o)),"class"in e&&r(3,l=e.class),"hidden"in e&&r(4,c=e.hidden),"check"in e&&r(5,d=e.check),"size"in e&&r(6,f=e.size),"for"in e&&r(0,_=e.for),"xs"in e&&r(7,v=e.xs),"sm"in e&&r(8,y=e.sm),"md"in e&&r(9,g=e.md),"lg"in e&&r(10,m=e.lg),"xl"in e&&r(11,b=e.xl),"xxl"in e&&r(12,w=e.xxl),"widths"in e&&r(13,k=e.widths),"$$scope"in e&&r(14,u=e.$$scope)},e.$$.update=()=>{120&e.$$.dirty&&r(1,i=Fe(l,!!c&&"visually-hidden",!!d&&"form-check-label",!!f&&`col-form-label-${f}`,$,$.length?"col-form-label":"form-label"))},t=h(t),[_,i,s,l,c,d,f,v,y,g,m,b,w,k,u,a]}class yn extends Ce{constructor(e){super(),we(this,e,vn,_n,a,{class:3,hidden:4,check:5,size:6,for:0,xs:7,sm:8,md:9,lg:10,xl:11,xxl:12,widths:13})}}function gn(e){let t,r;const i=e[12].default,o=u(i,e,e[11],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("ul"),o&&o.c(),S(t,a)},m(e,n){m(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||2048&n)&&c(o,i,e,e[11],n,null,null),S(t,a=_e(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(he(o,e),r=!0)},o(e){pe(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function mn(e,t,r){let i;const o=["class","tabs","pills","vertical","horizontal","justified","fill","navbar","card"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{tabs:c=!1}=t,{pills:d=!1}=t,{vertical:f=!1}=t,{horizontal:_=""}=t,{justified:v=!1}=t,{fill:y=!1}=t,{navbar:g=!1}=t,{card:m=!1}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"tabs"in e&&r(3,c=e.tabs),"pills"in e&&r(4,d=e.pills),"vertical"in e&&r(5,f=e.vertical),"horizontal"in e&&r(6,_=e.horizontal),"justified"in e&&r(7,v=e.justified),"fill"in e&&r(8,y=e.fill),"navbar"in e&&r(9,g=e.navbar),"card"in e&&r(10,m=e.card),"$$scope"in e&&r(11,u=e.$$scope)},e.$$.update=()=>{2044&e.$$.dirty&&r(0,i=Fe(l,g?"navbar-nav":"nav",!!_&&`justify-content-${_}`,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":`flex-${e}-column`)}(f),{"nav-tabs":c,"card-header-tabs":m&&c,"nav-pills":d,"card-header-pills":m&&d,"nav-justified":v,"nav-fill":y}))},[i,s,l,c,d,f,_,v,y,g,m,u,a]}class bn extends Ce{constructor(e){super(),we(this,e,mn,gn,a,{class:2,tabs:3,pills:4,vertical:5,horizontal:6,justified:7,fill:8,navbar:9,card:10})}}function wn(e){let t;const n=e[10].default,r=u(n,e,e[11],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||2048&i)&&c(r,n,e,e[11],i,null,null)},i(e){t||(he(r,e),t=!0)},o(e){pe(r,e),t=!1},d(e){r&&r.d(e)}}}function Cn(e){let t,n;return t=new _t({props:{fluid:"fluid"===e[0],$$slots:{default:[kn]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.fluid="fluid"===e[0]),2048&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function kn(e){let t;const n=e[10].default,r=u(n,e,e[11],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||2048&i)&&c(r,n,e,e[11],i,null,null)},i(e){t||(he(r,e),t=!0)},o(e){pe(r,e),t=!1},d(e){r&&r.d(e)}}}function $n(e){let t,r,i,o;const s=[Cn,wn],a=[];function u(e,t){return e[0]?0:1}r=u(e),i=a[r]=s[r](e);let l=[e[2],{class:e[1]}],c={};for(let e=0;e<l.length;e+=1)c=n(c,l[e]);return{c(){t=C("nav"),i.c(),S(t,c)},m(e,n){m(e,t,n),a[r].m(t,null),o=!0},p(e,[n]){let h=r;r=u(e),r===h?a[r].p(e,n):(le(),pe(a[h],1,1,(()=>{a[h]=null})),ce(),i=a[r],i?i.p(e,n):(i=a[r]=s[r](e),i.c()),he(i,1),i.m(t,null)),S(t,c=_e(l,[4&n&&e[2],(!o||2&n)&&{class:e[1]}]))},i(e){o||(he(i),o=!0)},o(e){pe(i),o=!1},d(e){e&&b(t),a[r].d()}}}function xn(e,t,r){let i;const o=["class","container","color","dark","expand","fixed","light","sticky"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{container:c="fluid"}=t,{color:d=""}=t,{dark:f=!1}=t,{expand:_=""}=t,{fixed:v=""}=t,{light:y=!1}=t,{sticky:g=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(2,s=p(t,o)),"class"in e&&r(3,l=e.class),"container"in e&&r(0,c=e.container),"color"in e&&r(4,d=e.color),"dark"in e&&r(5,f=e.dark),"expand"in e&&r(6,_=e.expand),"fixed"in e&&r(7,v=e.fixed),"light"in e&&r(8,y=e.light),"sticky"in e&&r(9,g=e.sticky),"$$scope"in e&&r(11,u=e.$$scope)},e.$$.update=()=>{1016&e.$$.dirty&&r(1,i=Fe(l,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":`navbar-expand-${e}`)}(_),{"navbar-light":y,"navbar-dark":f,[`bg-${d}`]:d,[`fixed-${v}`]:v,[`sticky-${g}`]:g}))},[c,i,s,l,d,f,_,v,y,g,a,u]}class Tn extends Ce{constructor(e){super(),we(this,e,xn,$n,a,{class:3,container:0,color:4,dark:5,expand:6,fixed:7,light:8,sticky:9})}}function En(e){let t,r;const i=e[5].default,o=u(i,e,e[4],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("li"),o&&o.c(),S(t,a)},m(e,n){m(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||16&n)&&c(o,i,e,e[4],n,null,null),S(t,a=_e(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(he(o,e),r=!0)},o(e){pe(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function Sn(e,t,r){let i;const o=["class","active"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{active:c=!1}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"active"in e&&r(3,c=e.active),"$$scope"in e&&r(4,u=e.$$scope)},e.$$.update=()=>{12&e.$$.dirty&&r(0,i=Fe(l,"nav-item",!!c&&"active"))},[i,s,l,c,u,a]}class In extends Ce{constructor(e){super(),we(this,e,Sn,En,a,{class:2,active:3})}}function Pn(e){let t,r,i,s;const a=e[8].default,l=u(a,e,e[7],null);let h=[e[3],{href:e[0]},{class:e[1]}],p={};for(let e=0;e<h.length;e+=1)p=n(p,h[e]);return{c(){t=C("a"),l&&l.c(),S(t,p)},m(n,o){m(n,t,o),l&&l.m(t,null),r=!0,i||(s=[T(t,"click",e[9]),T(t,"click",e[2])],i=!0)},p(e,[n]){l&&l.p&&(!r||128&n)&&c(l,a,e,e[7],n,null,null),S(t,p=_e(h,[8&n&&e[3],(!r||1&n)&&{href:e[0]},(!r||2&n)&&{class:e[1]}]))},i(e){r||(he(l,e),r=!0)},o(e){pe(l,e),r=!1},d(e){e&&b(t),l&&l.d(e),i=!1,o(s)}}}function Rn(e,t,r){let i;const o=["class","disabled","active","href"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{disabled:c=!1}=t,{active:d=!1}=t,{href:f="#"}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(3,s=p(t,o)),"class"in e&&r(4,l=e.class),"disabled"in e&&r(5,c=e.disabled),"active"in e&&r(6,d=e.active),"href"in e&&r(0,f=e.href),"$$scope"in e&&r(7,u=e.$$scope)},e.$$.update=()=>{112&e.$$.dirty&&r(1,i=Fe(l,"nav-link",{disabled:c,active:d}))},[f,i,function(e){if(c)return e.preventDefault(),void e.stopImmediatePropagation();"#"===f&&e.preventDefault()},s,l,c,d,u,a,function(t){H(e,t)}]}class Nn extends Ce{constructor(e){super(),we(this,e,Rn,Pn,a,{class:4,disabled:5,active:6,href:0})}}function On(e){let t,r,i,o;const s=e[5].default,a=u(s,e,e[4],null);let l=[e[2],{class:e[1]},{href:e[0]}],h={};for(let e=0;e<l.length;e+=1)h=n(h,l[e]);return{c(){t=C("a"),a&&a.c(),S(t,h)},m(n,s){m(n,t,s),a&&a.m(t,null),r=!0,i||(o=T(t,"click",e[6]),i=!0)},p(e,[n]){a&&a.p&&(!r||16&n)&&c(a,s,e,e[4],n,null,null),S(t,h=_e(l,[4&n&&e[2],(!r||2&n)&&{class:e[1]},(!r||1&n)&&{href:e[0]}]))},i(e){r||(he(a,e),r=!0)},o(e){pe(a,e),r=!1},d(e){e&&b(t),a&&a.d(e),i=!1,o()}}}function An(e,t,r){let i;const o=["class","href"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{href:c="/"}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(2,s=p(t,o)),"class"in e&&r(3,l=e.class),"href"in e&&r(0,c=e.href),"$$scope"in e&&r(4,u=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&r(1,i=Fe(l,"navbar-brand"))},[c,i,s,l,u,a,function(t){H(e,t)}]}class Dn extends Ce{constructor(e){super(),we(this,e,An,On,a,{class:3,href:0})}}function Ln(e){let t;const n=e[3].default,r=u(n,e,e[5],null),i=r||function(e){let t;return{c(){t=C("span"),E(t,"class","navbar-toggler-icon")},m(e,n){m(e,t,n)},d(e){e&&b(t)}}}();return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||32&i)&&c(r,n,e,e[5],i,null,null)},i(e){t||(he(i,e),t=!0)},o(e){pe(i,e),t=!1},d(e){i&&i.d(e)}}}function Fn(e){let t,r;const i=[e[1],{class:e[0]}];let o={$$slots:{default:[Ln]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)o=n(o,i[e]);return t=new et({props:o}),t.$on("click",e[4]),{c(){ge(t.$$.fragment)},m(e,n){me(t,e,n),r=!0},p(e,[n]){const r=3&n?_e(i,[2&n&&ve(e[1]),1&n&&{class:e[0]}]):{};32&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){pe(t.$$.fragment,e),r=!1},d(e){be(t,e)}}}function Mn(e,t,r){let i;const o=["class"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"$$scope"in e&&r(5,u=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&r(0,i=Fe(l,"navbar-toggler"))},[i,s,l,a,function(t){H(e,t)},u]}class qn extends Ce{constructor(e){super(),we(this,e,Mn,Fn,a,{class:2})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var jn=function(e,t){return(jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Un(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}jn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var zn=function(){return(zn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Wn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Bn(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Hn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Qn(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gn=!1,Yn="${JSCORE_VERSION}",Kn=function(e,t){if(!e)throw Xn(t)},Xn=function(e){return new Error("Firebase Database ("+Yn+") INTERNAL ASSERT FAILED: "+e)},Jn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Zn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|a>>4,p=(15&a)<<2|l>>6,d=63&l;u||(d=64,s||(p=64)),r.push(n[c],n[h],n[p],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var l=o<<2|s>>4;if(r.push(l),64!==a){var c=s<<4&240|a>>2;if(r.push(c),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},er=function(e){try{return Zn.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function tr(e){return nr(void 0,e)}function nr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=nr(e[n],t[n]));return e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var rr=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ir(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function or(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function sr(){return!0===Gn}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ar=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ur.prototype.create),o}return Un(t,e),t}(Error),ur=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?lr(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new ar(i,a,r);return u},e}();function lr(e,t){return e.replace(cr,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var cr=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hr(e){return JSON.parse(e)}function pr(e){return JSON.stringify(e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var dr=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=hr(er(o[0])||""),n=hr(er(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function fr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _r(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function vr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function yr(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var gr=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),s=1518500249):(o=u^l^c,s=1859775393):r<60?(o=u&l|c&(u|l),s=2400959708):(o=u^l^c,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function mr(e,t){var n=new br(e,t);return n.subscribe.bind(n)}var br=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=wr),void 0===r.error&&(r.error=wr),void 0===r.complete&&(r.complete=wr);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function wr(){}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Cr=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function kr(e,t){return e+" failed: "+t+" argument "}function $r(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(kr(e,t)+"must be a valid function.")}function xr(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(kr(e,t)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Tr=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Er(e){return e&&e._delegate?e._delegate:e}var Sr=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Ir="[DEFAULT]",Pr=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=Ir);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new rr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=zn({identifier:Ir,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch(e){}try{for(var r=Hn(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Vn(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService({instanceIdentifier:u});a.resolve(l)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Ir),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Wn(this,void 0,void 0,(function(){var e;return Bn(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Qn(Qn([],Vn(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Vn(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Ir),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?Ir:r,o=e.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var l=Hn(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var h=Vn(c.value,2),p=h[0],d=h[1];a===this.normalizeInstanceIdentifier(p)&&d.resolve(u)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(u,a),u},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var i=Hn(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ir?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Ir:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Rr,Nr=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Pr(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Or(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ar,Dr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ar||(Ar={}));var Lr,Fr={debug:Ar.DEBUG,verbose:Ar.VERBOSE,info:Ar.INFO,warn:Ar.WARN,error:Ar.ERROR,silent:Ar.SILENT},Mr=Ar.INFO,qr=((Rr={})[Ar.DEBUG]="log",Rr[Ar.VERBOSE]="log",Rr[Ar.INFO]="info",Rr[Ar.WARN]="warn",Rr[Ar.ERROR]="error",Rr),jr=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=qr[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Or(["["+i+"]  "+e.name+":"],n))}},Ur=function(){function e(e){this.name=e,this._logLevel=Mr,this._logHandler=jr,this._userLogHandler=null,Dr.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Ar))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?Fr[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Or([this,Ar.DEBUG],e)),this._logHandler.apply(this,Or([this,Ar.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Or([this,Ar.VERBOSE],e)),this._logHandler.apply(this,Or([this,Ar.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Or([this,Ar.INFO],e)),this._logHandler.apply(this,Or([this,Ar.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Or([this,Ar.WARN],e)),this._logHandler.apply(this,Or([this,Ar.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Or([this,Ar.ERROR],e)),this._logHandler.apply(this,Or([this,Ar.ERROR],e))},e}();function zr(e){Dr.forEach((function(t){t.setLogLevel(e)}))}var Wr,Br=((Lr={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Lr["bad-app-name"]="Illegal App name: '{$appName}",Lr["duplicate-app"]="Firebase App named '{$appName}' already exists",Lr["app-deleted"]="Firebase App named '{$appName}' already deleted",Lr["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Lr["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Lr),Hr=new ur("app","Firebase",Br),Vr="@firebase/app",Qr="[DEFAULT]",Gr=((Wr={})[Vr]="fire-core",Wr["@firebase/analytics"]="fire-analytics",Wr["@firebase/app-check"]="fire-app-check",Wr["@firebase/auth"]="fire-auth",Wr["@firebase/database"]="fire-rtdb",Wr["@firebase/functions"]="fire-fn",Wr["@firebase/installations"]="fire-iid",Wr["@firebase/messaging"]="fire-fcm",Wr["@firebase/performance"]="fire-perf",Wr["@firebase/remote-config"]="fire-rc",Wr["@firebase/storage"]="fire-gcs",Wr["@firebase/firestore"]="fire-fst",Wr["fire-js"]="fire-js",Wr["firebase-wrapper"]="fire-js-all",Wr),Yr=new Ur("@firebase/app"),Kr=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=tr(e),this.container=new Nr(t.name),this._addComponent(new Sr("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=Qr),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=Qr),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){Yr.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Hr.create("app-deleted",{appName:this.name_})},e}();Kr.prototype.name&&Kr.prototype.options||Kr.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Xr(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=Qr);var s=o.name;if("string"!=typeof s||!s)throw Hr.create("bad-app-name",{appName:String(s)});if(fr(t,s))throw Hr.create("duplicate-app",{appName:s});var a=new e(n,o,r);return t[s]=a,a},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Gr[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Yr.warn(u.join(" "))}o(new Sr(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:zr,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw Hr.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Fr[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:Ar[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=Dr;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!fr(t,e=e||Qr))throw Hr.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return Yr.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw Hr.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&nr(a,o.serviceProps),r[s]=a,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,l=Object.keys(t);u<l.length;u++){var c=l[u];t[c]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Jr=function e(){var t=Xr(Kr);return t.INTERNAL=zn(zn({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){nr(t,e)},createSubscribe:mr,ErrorFactory:ur,deepExtend:nr}),t}(),Zr=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Yr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ei=self.firebase.SDK_VERSION;ei&&ei.indexOf("LITE")>=0&&Yr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ti=Jr.initializeApp;Jr.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return or()&&Yr.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),ti.apply(void 0,e)};var ni=Jr;!function(e,t){e.INTERNAL.registerComponent(new Sr("platform-logger",(function(e){return new Zr(e)}),"PRIVATE")),e.registerVersion(Vr,"0.6.22",t),e.registerVersion("fire-js","")}(ni);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
ni.registerVersion("firebase","8.6.2","app");var ri="";function ii(e){ri=e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var oi,si=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pr(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:hr(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),ai=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return fr(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),ui=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new si(t)}}catch(e){}return new ai},li=ui("localStorage"),ci=ui("sessionStorage"),hi=new Ur("@firebase/database"),pi=(oi=1,function(){return oi++}),di=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,Kn(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new gr;n.update(t);var r=n.digest();return Zn.encodeByteArray(r)},fi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=fi.apply(null,i):n+="object"==typeof i?pr(i):i,n+=" "}return n},_i=null,vi=!0,yi=function(e,t){Kn(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(hi.logLevel=Ar.VERBOSE,_i=hi.log.bind(hi),t&&ci.set("logging_enabled",!0)):"function"==typeof e?_i=e:(_i=null,ci.remove("logging_enabled"))},gi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===vi&&(vi=!1,null===_i&&!0===ci.get("logging_enabled")&&yi(!0)),_i){var n=fi.apply(null,e);_i(n)}},mi=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];gi.apply(void 0,Qn([e],Vn(t)))}},bi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+fi.apply(void 0,Qn([],Vn(e)));hi.error(n)},wi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+fi.apply(void 0,Qn([],Vn(e)));throw hi.error(n),new Error(n)},Ci=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+fi.apply(void 0,Qn([],Vn(e)));hi.warn(n)},ki=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},$i="[MIN_NAME]",xi="[MAX_NAME]",Ti=function(e,t){if(e===t)return 0;if(e===$i||t===xi)return-1;if(t===$i||e===xi)return 1;var n=Li(e),r=Li(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Ei=function(e,t){return e===t?0:e<t?-1:1},Si=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+pr(t))},Ii=function(e){if("object"!=typeof e||null===e)return pr(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=pr(t[i]),r+=":",r+=Ii(e[t[i]]);return r+="}"},Pi=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ri(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Ni=function(e){Kn(!ki(e),"Invalid JSON number");var t,n,r,i,o,s=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();var u=a.join(""),l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var Oi=new RegExp("^-?(0*)\\d{1,10}$"),Ai=-2147483648,Di=2147483647,Li=function(e){if(Oi.test(e)){var t=Number(e);if(t>=Ai&&t<=Di)return t}return null},Fi=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw Ci("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Mi=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},qi=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){Ci('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),ji=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(gi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ci(e)},e}(),Ui=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),zi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Wi="websocket",Bi="long_polling",Hi=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=li.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&li.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Vi(e,t,n){var r;if(Kn("string"==typeof t,"typeof type must == string"),Kn("object"==typeof n,"typeof params must == object"),t===Wi)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Bi)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Ri(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qi=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),fr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return tr(this.counters_)},e}(),Gi={},Yi={};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ki(e){var t=e.toString();return Gi[t]||(Gi[t]=new Qi),Gi[t]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Xi=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Fi((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Ji="start",Zi="close",eo=function(){function e(e,t,n,r,i,o,s){var a=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mi(e),this.stats_=Ki(t),this.urlFn=function(e){return a.appCheckToken&&(e.ac=a.appCheckToken),Vi(t,Bi,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Xi(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new to((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Vn(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Ji)n.id=o,n.password=s;else{if(i!==Zi)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Vn(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&zi.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=pr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n,r=(n=Jn(t),Zn.encodeByteArray(n,!0)),i=Pi(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(e){var t=pr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),to=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=pi(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){gi("frame writing exception"),e.stack&&gi(e.stack),gi(e)}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||gi("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){gi("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),no=null;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */"undefined"!=typeof MozWebSocket?no=MozWebSocket:"undefined"!=typeof WebSocket&&(no=WebSocket);var ro=function(){function e(t,n,r,i,o,s,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mi(this.connId),this.stats_=Ki(n),this.connURL=e.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&zi.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Vi(e,Wi,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,li.set("previous_websocket_failure",!0);try{if(sr());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new no(this.connURL,[],r)}}catch(e){this.log_("Error instantiating WebSocket.");var i=e.message||e.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==no&&!e.forceDisallow_},e.previouslyFailed=function(){return li.isInMemoryStorage||!0===li.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){li.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=hr(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(Kn(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=pr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Pi(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),io=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[eo,ro]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ro&&ro.isAvailable(),o=i&&!ro.previouslyFailed();if(t.webSocketOnly&&(i||Ci("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ro];else{var s=this.transports_=[];try{for(var a=Hn(e.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var l=u.value;l&&l.isAvailable()&&s.push(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),oo=function(){function e(e,t,n,r,i,o,s,a,u,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mi("c:"+this.id+":"),this.transportManager_=new io(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Mi((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=Si("t",e),n=Si("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=Si("t",e),n=Si("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=Si("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?bi("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bi("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Ci("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Mi((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mi((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),so=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),ao=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Kn(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Qn([],Vn(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Kn(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),uo=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||ir()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Un(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Kn("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(ao),lo=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function co(){return new lo("")}function ho(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function po(e){return e.pieces_.length-e.pieceNum_}function fo(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new lo(e.pieces_,t)}function _o(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function vo(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function yo(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new lo(t,0)}function go(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof lo)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new lo(n,0)}function mo(e){return e.pieceNum_>=e.pieces_.length}function bo(e,t){var n=ho(e),r=ho(t);if(null===n)return t;if(n===r)return bo(fo(e),fo(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function wo(e,t){for(var n=vo(e,0),r=vo(t,0),i=0;i<n.length&&i<r.length;i++){var o=Ti(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Co(e,t){if(po(e)!==po(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ko(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(po(e)>po(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var $o=function(e,t){this.errorPrefix_=t,this.parts_=vo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Tr(this.parts_[n]);xo(this)};function xo(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+To(e))}function To(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Eo,So,Io=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Un(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Kn("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(ao),Po=1e3,Ro=function(e){function t(n,r,i,o,s,a,u,l){var c=e.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=s,c.authTokenProvider_=a,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=t.nextPersistentConnectionId_++,c.log_=mi("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Po,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!sr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Io.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&uo.getInstance().on("online",c.onOnline_,c),c}return Un(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(pr(i)),Kn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new rr,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Kn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Kn(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};e.tag&&(s.q=r._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;t.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&fr(e,"w")){var n=_r(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Ci("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t;(e&&40===e.length||"object"==typeof(t=dr(e).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e,t=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(e=dr(n).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(e){var r=e.s,i=e.d||"error";t.authToken_===n&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Kn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+pr(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):bi("Unrecognized action received from server: "+pr(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Kn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Po),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Wn(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,l,c,h,p,d,f,_=this;return Bn(this,(function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,s=!1,a=null,u=function(){a?a.close():(s=!0,r())},l=function(e){Kn(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)},this.realtime_={close:u,sendRequest:l},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)])];case 2:return h=Vn.apply(void 0,[v.sent(),2]),p=h[0],d=h[1],s?gi("getToken() completed but was canceled"):(gi("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=d&&d.token,a=new oo(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){Ci(e+" ("+_.repoInfo_.toString()+")"),_.interrupt("server_kill")}),o)),[3,4];case 3:return f=v.sent(),this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&Ci(f),u()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){gi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){gi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],vr(this.interruptReasons_)&&(this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return Ii(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new lo(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){gi("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){gi("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Hn(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,Hn(s.values())),u=a.next();!u.done;u=a.next()){var l=u.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},t.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+ri.replace(/\./g,"-")]=1,ir()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=uo.getInstance().currentlyOnline();return vr(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(so),No=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Oo=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new No($i,e),r=new No($i,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return No.MIN},e}(),Ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Un(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Eo},set:function(e){Eo=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return Ti(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Xn("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return No.MIN},t.prototype.maxPost=function(){return new No(xi,Eo)},t.prototype.makePost=function(e,t){return Kn("string"==typeof e,"KeyIndex indexValue must always be a string."),new No(e,Eo)},t.prototype.toString=function(){return".key"},t}(Oo),Do=new Ao,Lo=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Fo=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:qo.EMPTY_NODE,this.right=null!=o?o:qo.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return qo.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return qo.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Mo=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Fo(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),qo=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Fo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Fo.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Lo(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Lo(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Lo(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Lo(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Mo,e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function jo(e,t){return Ti(e.name,t.name)}function Uo(e,t){return Ti(e,t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zo,Wo,Bo,Ho=function(e){return"number"==typeof e?"number:"+Ni(e):"string:"+e},Vo=function(e){if(e.isLeafNode()){var t=e.val();Kn("string"==typeof t||"number"==typeof t||"object"==typeof t&&fr(t,".sv"),"Priority must be a string or number.")}else Kn(e===So||e.isEmpty(),"priority of unexpected type.");Kn(e===So||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Qo=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Kn(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Vo(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return zo},set:function(e){zo=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return mo(t)?this:".priority"===ho(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ho(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Kn(".priority"!==r||1===po(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(fo(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ho(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Ni(this.value_):this.value_,this.lazyHash_=di(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Kn(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return Kn(i>=0,"Unknown leaf type: "+n),Kn(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Go,Yo,Ko=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Un(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Ti(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return No.MIN},t.prototype.maxPost=function(){return new No(xi,new Qo("[PRIORITY-POST]",Bo))},t.prototype.makePost=function(e,t){var n=Wo(e);return new No(t,new Qo("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Oo)),Xo=Math.log(2),Jo=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Xo,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Zo=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,s,a=r-t;if(0===a)return null;if(1===a)return o=e[t],s=n?n(o):o,new Fo(s,o.node,Fo.BLACK,null,null);var u=parseInt(a/2,10)+t,l=i(t,u),c=i(u+1,r);return o=e[u],s=n?n(o):o,new Fo(s,o.node,Fo.BLACK,l,c)},o=function(t){for(var r=null,o=null,s=e.length,a=function(t,r){var o=s-t,a=s;s-=t;var l=i(o+1,a),c=e[o],h=n?n(c):c;u(new Fo(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?a(h,Fo.BLACK):(a(h,Fo.BLACK),a(h,Fo.RED))}return o}(new Jo(e.length));return new qo(r||t,o)},es={},ts=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Kn(es&&Ko,"ChildrenNode.ts has not been loaded"),Go=Go||new e({".priority":es},{".priority":Ko})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=_r(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof qo?t:null},e.prototype.hasIndex=function(e){return fr(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Kn(t!==Do,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(No.Wrap),a=s.getNext();a;)o=o||t.isDefinedOn(a.node),i.push(a),a=s.getNext();r=o?Zo(i,t.getCompare()):es;var u=t.toString(),l=zn({},this.indexSet_);l[u]=t;var c=zn({},this.indexes_);return c[u]=r,new e(c,l)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(yr(this.indexes_,(function(e,i){var o=_r(r.indexSet_,i);if(Kn(o,"Missing index implementation for "+i),e===es){if(o.isDefinedOn(t.node)){for(var s=[],a=n.getIterator(No.Wrap),u=a.getNext();u;)u.name!==t.name&&s.push(u),u=a.getNext();return s.push(t),Zo(s,o.getCompare())}return es}var l=n.get(t.name),c=e;return l&&(c=c.remove(new No(t.name,l))),c.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(yr(this.indexes_,(function(e){if(e===es)return e;var r=n.get(t.name);return r?e.remove(new No(t.name,r)):e})),this.indexSet_)},e}(),ns=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Vo(this.priorityNode_),this.children_.isEmpty()&&Kn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Yo||(Yo=new e(new qo(Uo),null,ts.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Yo},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Yo:t},e.prototype.getChild=function(e){var t=ho(e);return null===t?this:this.getImmediateChild(t).getChild(fo(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Kn(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new No(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Yo:this.priorityNode_;return new e(i,s,o)},e.prototype.updateChild=function(e,t){var n=ho(e);if(null===n)return t;Kn(".priority"!==ho(e)||1===po(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(fo(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ko,(function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ho(this.getPriority().val())+":"),this.forEachChild(Ko,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":di(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new No(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new No(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new No(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,No.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,No.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rs?-1:0},e.prototype.withIndex=function(t){if(t===Do||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Do||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ko),r=t.getIterator(Ko),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Do?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),rs=new(function(e){function t(){return e.call(this,new qo(Uo),ns.EMPTY_NODE,ts.Default)||this}return Un(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ns.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ns));Object.defineProperties(No,{MIN:{value:new No($i,ns.EMPTY_NODE)},MAX:{value:new No(xi,rs)}}),Ao.__EMPTY_NODE=ns.EMPTY_NODE,Qo.__childrenNodeConstructor=ns,So=rs,function(e){Bo=e}(rs);function is(e,t){if(void 0===t&&(t=null),null===e)return ns.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),Kn(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Qo(e,is(t));if(e instanceof Array){var n=ns.EMPTY_NODE;return Ri(e,(function(t,r){if(fr(e,t)&&"."!==t.substring(0,1)){var i=is(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(is(t))}var r=[],i=!1;if(Ri(e,(function(e,t){if("."!==e.substring(0,1)){var n=is(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new No(e,n)))}})),0===r.length)return ns.EMPTY_NODE;var o=Zo(r,jo,(function(e){return e.name}),Uo);if(i){var s=Zo(r,Ko.getCompare());return new ns(o,is(t),new ts({".priority":s},{".priority":Ko}))}return new ns(o,is(t),ts.Default)}!function(e){Wo=e}(is);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var os,ss,as=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Kn(!mo(t)&&".priority"!==ho(t),"Can't create PathIndex with empty path or .priority key"),n}return Un(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Ti(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=is(e),r=ns.EMPTY_NODE.updateChild(this.indexPath_,n);return new No(t,r)},t.prototype.maxPost=function(){var e=ns.EMPTY_NODE.updateChild(this.indexPath_,rs);return new No(xi,e)},t.prototype.toString=function(){return vo(this.indexPath_,0).join("/")},t}(Oo),us=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Un(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?Ti(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return No.MIN},t.prototype.maxPost=function(){return No.MAX},t.prototype.makePost=function(e,t){var n=is(e);return new No(t,n)},t.prototype.toString=function(){return".value"},t}(Oo)),ls="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cs=(os=0,ss=[],function(e){var t,n=e===os;os=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ls.charAt(e%64),e=Math.floor(e/64);Kn(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===ss[t];t--)ss[t]=0;ss[t]++}else for(t=0;t<12;t++)ss[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=ls.charAt(ss[t]);return Kn(20===i.length,"nextPushId: Length should be 20."),i}),hs=function(e){if("2147483647"===e)return"-";var t=Li(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return xi;var o=n[i],s=ls.charAt(ls.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},ps=function(e){if("-2147483648"===e)return $i;var t=Li(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ls.charAt(ls.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ds(e){return{type:"value",snapshotNode:e}}function fs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function _s(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function vs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ys=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){Kn(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(_s(t,s)):Kn(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(fs(t,n)):o.trackChildChange(vs(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ko,(function(e,r){t.hasChild(e)||n.trackChildChange(_s(e,r))})),t.isLeafNode()||t.forEachChild(Ko,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(vs(t,r,i))}else n.trackChildChange(fs(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ns.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),gs=function(){function e(t){this.indexedFilter_=new ys(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new No(t,n))||(n=ns.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ns.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ns.EMPTY_NODE);var i=this;return t.forEachChild(Ko,(function(e,t){i.matches(new No(e,t))||(r=r.updateImmediateChild(e,ns.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),ms=function(){function e(e){this.rangedFilter_=new gs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new No(t,n))||(n=ns.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ns.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ns.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ns.EMPTY_NODE);var a=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){s=i.getNext();!h&&l(a,s)<=0&&(h=!0),h&&o<this.limit_&&l(s,u)<=0?o++:r=r.updateImmediateChild(s.name,ns.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(e,t){return s(t,e)}}else o=this.index_.getCompare();var a=e;Kn(a.numChildren()===this.limit_,"");var u=new No(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(a.hasChild(t)){for(var h=a.getImmediateChild(t),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===t||a.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:o(p,u);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(vs(t,n,h)),a.updateImmediateChild(t,n);null!=i&&i.trackChildChange(_s(t,h));var f=a.updateImmediateChild(t,ns.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(fs(p.name,p.node)),f.updateImmediateChild(p.name,p.node)):f}return n.isEmpty()?e:c&&o(l,u)>=0?(null!=i&&(i.trackChildChange(_s(l.name,l.node)),i.trackChildChange(fs(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,ns.EMPTY_NODE)):e},e}(),bs=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ko}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Kn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Kn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$i},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Kn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Kn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Kn(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ko},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ws(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Cs(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function ks(e,t){var n=e.copy();return n.index_=t,n}function $s(e){var t,n={};return e.isDefault()||(e.index_===Ko?t="$priority":e.index_===us?t="$value":e.index_===Do?t="$key":(Kn(e.index_ instanceof as,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=pr(t),e.startSet_&&(n.startAt=pr(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+pr(e.indexStartName_))),e.endSet_&&(n.endAt=pr(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+pr(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function xs(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ko&&(t.i=e.index_.toString()),t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ts=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=mi("p:rest:"),o.listens_={},o}return Un(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Kn(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var a=t.getListenId_(e,r),u={};this.listens_[a]=u;var l=$s(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(s,n,!1,r),_r(o.listens_,a)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=$s(e._queryParams),r=e._path.toString(),i=new rr;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=Vn(i,2),s=o[0],a=o[1];s&&s.accessToken&&(t.auth=s.accessToken),a&&a.token&&(t.ac=a.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}(t);r.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=hr(l.responseText)}catch(e){Ci("Failed to parse JSON response for "+u+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&Ci("Got unsuccessful REST response for "+u+" Status: "+l.status),n(l.status);n=null}},l.open("GET",u,!0),l.send()}))},t}(so),Es=function(){function e(){this.rootNode_=ns.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Ss(){return{value:null,children:new Map}}function Is(e,t,n){if(mo(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ho(t);e.children.has(r)||e.children.set(r,Ss()),Is(e.children.get(r),t=fo(t),n)}}function Ps(e,t){if(mo(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ko,(function(t,n){Is(e,new lo(t),n)})),Ps(e,t)}if(e.children.size>0){var r=ho(t);if(t=fo(t),e.children.has(r))Ps(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Rs(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,(function(e,r){Rs(r,new lo(t.toString()+"/"+e),n)}))}var Ns,Os=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=zn({},e);return this.last_&&Ri(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),As=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Os(e);var n=1e4+2e4*Math.random();Mi(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Ri(t,(function(t,i){i>0&&fr(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Mi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ds(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ns||(Ns={}));var Ls,Fs=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ns.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(mo(this.path)){if(null!=this.affectedTree.value)return Kn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new lo(t));return new e(co(),n,this.revert)}return Kn(ho(this.path)===t,"operationForChild called for unrelated child."),new e(fo(this.path),this.affectedTree,this.revert)},e}(),Ms=function(){function e(e,t){this.source=e,this.path=t,this.type=Ns.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return mo(this.path)?new e(this.source,co()):new e(this.source,fo(this.path))},e}(),qs=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ns.OVERWRITE}return e.prototype.operationForChild=function(t){return mo(this.path)?new e(this.source,co(),this.snap.getImmediateChild(t)):new e(this.source,fo(this.path),this.snap)},e}(),js=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ns.MERGE}return e.prototype.operationForChild=function(t){if(mo(this.path)){var n=this.children.subtree(new lo(t));return n.isEmpty()?null:n.value?new qs(this.source,co(),n.value):new e(this.source,co(),n)}return Kn(ho(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,fo(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Us=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(mo(e))return this.isFullyInitialized()&&!this.filtered_;var t=ho(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),zs=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ws(e,t,n,r,i,o){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Xn("Should only compare child_ events.");var r=new No(t.childName,t.snapshotNode),i=new No(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Bs(e,t){return{eventCache:e,serverCache:t}}function Hs(e,t,n,r){return Bs(new Us(t,n,r),e.serverCache)}function Vs(e,t,n,r){return Bs(e.eventCache,new Us(t,n,r))}function Qs(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Gs(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ys=function(){function e(e,t){void 0===t&&(Ls||(Ls=new qo(Ei)),t=Ls),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return Ri(t,(function(e,t){n=n.set(new lo(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:co(),value:this.value};if(mo(e))return null;var n=ho(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(fo(e),t);return null!=i?{path:go(new lo(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(mo(t))return this;var n=ho(t),r=this.children.get(n);return null!==r?r.subtree(fo(t)):new e(null)},e.prototype.set=function(t,n){if(mo(t))return new e(n,this.children);var r=ho(t),i=(this.children.get(r)||new e(null)).set(fo(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(mo(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ho(t),r=this.children.get(n);if(r){var i=r.remove(fo(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(mo(e))return this.value;var t=ho(e),n=this.children.get(t);return n?n.get(fo(e)):null},e.prototype.setTree=function(t,n){if(mo(t))return n;var r=ho(t),i=(this.children.get(r)||new e(null)).setTree(fo(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(co(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(go(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,co(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(mo(e))return null;var i=ho(e),o=this.children.get(i);return o?o.findOnPath_(fo(e),go(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,co(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(mo(t))return this;this.value&&r(n,this.value);var i=ho(t),o=this.children.get(i);return o?o.foreachOnPath_(fo(t),go(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(co(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(go(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Ks=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Ys(null))},e}();function Xs(e,t,n){if(mo(t))return new Ks(new Ys(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=bo(i,t);return o=o.updateChild(s,n),new Ks(e.writeTree_.set(i,o))}var a=new Ys(n),u=e.writeTree_.setTree(t,a);return new Ks(u)}function Js(e,t,n){var r=e;return Ri(n,(function(e,n){r=Xs(r,go(t,e),n)})),r}function Zs(e,t){if(mo(t))return Ks.empty();var n=e.writeTree_.setTree(t,new Ys(null));return new Ks(n)}function ea(e,t){return null!=ta(e,t)}function ta(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(bo(n.path,t)):null}function na(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ko,(function(e,n){t.push(new No(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new No(e,n.value))})),t}function ra(e,t){if(mo(t))return e;var n=ta(e,t);return new Ks(null!=n?new Ys(n):e.writeTree_.subtree(t))}function ia(e){return e.writeTree_.isEmpty()}function oa(e,t){return sa(co(),e.writeTree_,t)}function sa(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Kn(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=sa(go(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(go(e,".priority"),r)),n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function aa(e,t){return ba(t,e)}function ua(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Kn(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,s=e.allWrites.length-1;i&&s>=0;){var a=e.allWrites[s];a.visible&&(s>=n&&la(a,r.path)?i=!1:ko(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=ha(e.allWrites,ca,co()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Zs(e.visibleWrites,r.path):Ri(r.children,(function(t){e.visibleWrites=Zs(e.visibleWrites,go(r.path,t))}));return!0}return!1}function la(e,t){if(e.snap)return ko(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ko(go(e.path,n),t))return!0;return!1}function ca(e){return e.visible}function ha(e,t,n){for(var r=Ks.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var s=o.path,a=void 0;if(o.snap)ko(n,s)?r=Xs(r,a=bo(n,s),o.snap):ko(s,n)&&(a=bo(s,n),r=Xs(r,co(),o.snap.getChild(a)));else{if(!o.children)throw Xn("WriteRecord should have .snap or .children");if(ko(n,s))r=Js(r,a=bo(n,s),o.children);else if(ko(s,n))if(mo(a=bo(s,n)))r=Js(r,co(),o.children);else{var u=_r(o.children,ho(a));if(u){var l=u.getChild(fo(a));r=Xs(r,co(),l)}}}}}return r}function pa(e,t,n,r,i){if(r||i){var o=ra(e.visibleWrites,t);if(!i&&ia(o))return n;if(i||null!=n||ea(o,co())){return oa(ha(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ko(e.path,t)||ko(t,e.path))}),t),n||ns.EMPTY_NODE)}return null}var s=ta(e.visibleWrites,t);if(null!=s)return s;var a=ra(e.visibleWrites,t);return ia(a)?n:null!=n||ea(a,co())?oa(a,n||ns.EMPTY_NODE):null}function da(e,t,n,r){return pa(e.writeTree,e.treePath,t,n,r)}function fa(e,t){return function(e,t,n){var r=ns.EMPTY_NODE,i=ta(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ko,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=ra(e.visibleWrites,t);return n.forEachChild(Ko,(function(e,t){var n=oa(ra(o,new lo(e)),t);r=r.updateImmediateChild(e,n)})),na(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return na(ra(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _a(e,t,n,r){return function(e,t,n,r,i){Kn(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=go(t,n);if(ea(e.visibleWrites,o))return null;var s=ra(e.visibleWrites,o);return ia(s)?i.getChild(n):oa(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function va(e,t){return function(e,t){return ta(e.visibleWrites,t)}(e.writeTree,go(e.treePath,t))}function ya(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){var a,u=ra(e.visibleWrites,t),l=ta(u,co());if(null!=l)a=l;else{if(null==n)return[];a=oa(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var c=[],h=s.getCompare(),p=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),d=p.getNext();d&&c.length<i;)0!==h(d,r)&&c.push(d),d=p.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function ga(e,t,n){return function(e,t,n,r){var i=go(t,n),o=ta(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?oa(ra(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ma(e,t){return ba(go(e.treePath,t),e.writeTree)}function ba(e,t){return{treePath:e,writeTree:t}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var wa=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Kn("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Kn(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,vs(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,_s(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,fs(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Xn("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,vs(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Ca=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),ka=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Us(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ga(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Gs(this.viewCache_),i=ya(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function $a(e,t,n,r,i){var o,s,a=new wa;if(n.type===Ns.OVERWRITE){var u=n;u.source.fromUser?o=Ea(e,t,u.path,u.snap,r,i,a):(Kn(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered()&&!mo(u.path),o=Ta(e,t,u.path,u.snap,r,i,s,a))}else if(n.type===Ns.MERGE){var l=n;l.source.fromUser?o=function(e,t,n,r,i,o,s){var a=t;return r.foreach((function(r,u){var l=go(n,r);Sa(t,ho(l))&&(a=Ea(e,a,l,u,i,o,s))})),r.foreach((function(r,u){var l=go(n,r);Sa(t,ho(l))||(a=Ea(e,a,l,u,i,o,s))})),a}(e,t,l.path,l.children,r,i,a):(Kn(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),o=Pa(e,t,l.path,l.children,r,i,s,a))}else if(n.type===Ns.ACK_USER_WRITE){var c=n;o=c.revert?function(e,t,n,r,i,o){var s;if(null!=va(r,n))return t;var a=new ka(r,t,i),u=t.eventCache.getNode(),l=void 0;if(mo(n)||".priority"===ho(n)){var c=void 0;if(t.serverCache.isFullyInitialized())c=da(r,Gs(t));else{var h=t.serverCache.getNode();Kn(h instanceof ns,"serverChildren would be complete if leaf node"),c=fa(r,h)}c=c,l=e.filter.updateFullNode(u,c,o)}else{var p=ho(n),d=ga(r,p,t.serverCache);null==d&&t.serverCache.isCompleteForChild(p)&&(d=u.getImmediateChild(p)),(l=null!=d?e.filter.updateChild(u,p,d,fo(n),a,o):t.eventCache.getNode().hasChild(p)?e.filter.updateChild(u,p,ns.EMPTY_NODE,fo(n),a,o):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=da(r,Gs(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,o))}return s=t.serverCache.isFullyInitialized()||null!=va(r,co()),Hs(t,l,s,e.filter.filtersNodes())}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,c.path,r,i,a):function(e,t,n,r,i,o,s){if(null!=va(i,n))return t;var a=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(mo(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ta(e,t,n,u.getNode().getChild(n),i,o,a,s);if(mo(n)){var l=new Ys(null);return u.getNode().forEachChild(Do,(function(e,t){l=l.set(new lo(e),t)})),Pa(e,t,n,l,i,o,a,s)}return t}var c=new Ys(null);return r.foreach((function(e,t){var r=go(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Pa(e,t,n,c,i,o,a,s)}(e,t,c.path,c.affectedTree,r,i,a)}else{if(n.type!==Ns.LISTEN_COMPLETE)throw Xn("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,s=Vs(t,o.getNode(),o.isFullyInitialized()||mo(n),o.isFiltered());return xa(e,s,n,r,Ca,i)}(e,t,n.path,r,a)}var h=a.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Qs(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ds(Qs(t)))}}(t,o,h),{viewCache:o,changes:h}}function xa(e,t,n,r,i,o){var s=t.eventCache;if(null!=va(r,n))return t;var a=void 0,u=void 0;if(mo(n))if(Kn(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Gs(t),c=fa(r,l instanceof ns?l:ns.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{var h=da(r,Gs(t));a=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var p=ho(n);if(".priority"===p){Kn(1===po(n),"Can't have a priority with additional path components");var d=s.getNode(),f=_a(r,n,d,u=t.serverCache.getNode());a=null!=f?e.filter.updatePriority(d,f):s.getNode()}else{var _=fo(n),v=void 0;if(s.isCompleteForChild(p)){u=t.serverCache.getNode();var y=_a(r,n,s.getNode(),u);v=null!=y?s.getNode().getImmediateChild(p).updateChild(_,y):s.getNode().getImmediateChild(p)}else v=ga(r,p,t.serverCache);a=null!=v?e.filter.updateChild(s.getNode(),p,v,_,i,o):s.getNode()}}return Hs(t,a,s.isFullyInitialized()||mo(n),e.filter.filtersNodes())}function Ta(e,t,n,r,i,o,s,a){var u,l=t.serverCache,c=s?e.filter:e.filter.getIndexedFilter();if(mo(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var p=ho(n);if(!l.isCompleteForPath(n)&&po(n)>1)return t;var d=fo(n),f=l.getNode().getImmediateChild(p).updateChild(d,r);u=".priority"===p?c.updatePriority(l.getNode(),f):c.updateChild(l.getNode(),p,f,d,Ca,null)}var _=Vs(t,u,l.isFullyInitialized()||mo(n),c.filtersNodes());return xa(e,_,n,i,new ka(i,_,o),a)}function Ea(e,t,n,r,i,o,s){var a,u,l=t.eventCache,c=new ka(i,t,o);if(mo(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),a=Hs(t,u,!0,e.filter.filtersNodes());else{var h=ho(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),a=Hs(t,u,l.isFullyInitialized(),l.isFiltered());else{var p=fo(n),d=l.getNode().getImmediateChild(h),f=void 0;if(mo(p))f=r;else{var _=c.getCompleteChild(h);f=null!=_?".priority"===_o(p)&&_.getChild(yo(p)).isEmpty()?_:_.updateChild(p,r):ns.EMPTY_NODE}if(d.equals(f))a=t;else a=Hs(t,e.filter.updateChild(l.getNode(),h,f,p,c,s),l.isFullyInitialized(),e.filter.filtersNodes())}}return a}function Sa(e,t){return e.eventCache.isCompleteForChild(t)}function Ia(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Pa(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=mo(n)?r:new Ys(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=Ia(0,t.serverCache.getNode().getImmediateChild(n),r);l=Ta(e,l,new lo(n),u,i,o,s,a)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var h=Ia(0,t.serverCache.getNode().getImmediateChild(n),r);l=Ta(e,l,new lo(n),h,i,o,s,a)}})),l}var Ra,Na=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new ys(r.getIndex()),o=(n=r).loadsAllData()?new ys(n.getIndex()):n.hasLimit()?new ms(n):new gs(n);this.processor_=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e){return{filter:e}}(o);var s=t.serverCache,a=t.eventCache,u=i.updateFullNode(ns.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(ns.EMPTY_NODE,a.getNode(),null),c=new Us(u,s.isFullyInitialized(),i.filtersNodes()),h=new Us(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Bs(h,c),this.eventGenerator_=new zs(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Oa(e,t){var n=Gs(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!mo(t)&&!n.getImmediateChild(ho(t)).isEmpty())?n.getChild(t):null}function Aa(e){return 0===e.eventRegistrations_.length}function Da(e,t,n){var r=[];if(n){Kn(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],s=0;s<e.eventRegistrations_.length;++s){var a=e.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(s+1));break}}else o.push(a)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function La(e,t,n,r){t.type===Ns.MERGE&&null!==t.source.queryId&&(Kn(Gs(e.viewCache_),"We should always have a full cache before handling merges"),Kn(Qs(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,s=e.viewCache_,a=$a(e.processor_,s,t,n,r);return i=e.processor_,o=a.viewCache,Kn(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Kn(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Kn(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Fa(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Fa(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Ws(e,i,"child_removed",t,r,n),Ws(e,i,"child_added",t,r,n),Ws(e,i,"child_moved",o,r,n),Ws(e,i,"child_changed",t,r,n),Ws(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ma,qa=function(){this.views=new Map};function ja(e,t,n,r){var i,o,s=t.source.queryId;if(null!==s){var a=e.views.get(s);return Kn(null!=a,"SyncTree gave us an op for an invalid query."),La(a,t,n,r)}var u=[];try{for(var l=Hn(e.views.values()),c=l.next();!c.done;c=l.next()){a=c.value;u=u.concat(La(a,t,n,r))}}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return u}function Ua(e,t,n,r,i){var o=t._queryIdentifier,s=e.views.get(o);if(!s){var a=da(n,i?r:null),u=!1;a?u=!0:r instanceof ns?(a=fa(n,r),u=!1):(a=ns.EMPTY_NODE,u=!1);var l=Bs(new Us(a,u,!1),new Us(r,i,!1));return new Na(t,l)}return s}function za(e,t,n,r,i,o){var s=Ua(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ko,(function(e,t){r.push(fs(e,t))})),n.isFullyInitialized()&&r.push(ds(n.getNode())),Fa(e,r,n.getNode(),t)}(s,n)}function Wa(e,t,n,r){var i,o,s=t._queryIdentifier,a=[],u=[],l=Ga(e);if("default"===s)try{for(var c=Hn(e.views.entries()),h=c.next();!h.done;h=c.next()){var p=Vn(h.value,2),d=p[0],f=p[1];u=u.concat(Da(f,n,r)),Aa(f)&&(e.views.delete(d),f.query._queryParams.loadsAllData()||a.push(f.query))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else(f=e.views.get(s))&&(u=u.concat(Da(f,n,r)),Aa(f)&&(e.views.delete(s),f.query._queryParams.loadsAllData()||a.push(f.query)));return l&&!Ga(e)&&a.push(new(Kn(Ra,"Reference.ts has not been loaded"),Ra)(t._repo,t._path)),{removed:a,events:u}}function Ba(e){var t,n,r=[];try{for(var i=Hn(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ha(e,t){var n,r,i=null;try{for(var o=Hn(e.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i||Oa(a,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Va(e,t){if(t._queryParams.loadsAllData())return Ya(e);var n=t._queryIdentifier;return e.views.get(n)}function Qa(e,t){return null!=Va(e,t)}function Ga(e){return null!=Ya(e)}function Ya(e){var t,n;try{for(var r=Hn(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ka=1,Xa=function(e){this.listenProvider_=e,this.syncPointTree_=new Ys(null),this.pendingWriteTree_={visibleWrites:Ks.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Ja(e,t,n,r,i){return function(e,t,n,r,i){Kn(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Xs(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?su(e,new qs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Za(e,t,n,r){!function(e,t,n,r){Kn(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Js(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Ys.fromObject(n);return su(e,new js({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function eu(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(ua(e.pendingWriteTree_,t)){var i=new Ys(null);return null!=r.snap?i=i.set(co(),!0):Ri(r.children,(function(e){i=i.set(new lo(e),!0)})),su(e,new Fs(r.path,i,n))}return[]}function tu(e,t,n){return su(e,new qs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function nu(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),s=[];if(o&&("default"===t._queryIdentifier||Qa(o,t))){var a=Wa(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=a.removed;s=a.events;var l=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return Ga(t)}));if(l&&!c){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&Ga(t))return[Ya(t)];var r=[];return t&&(r=Ba(t)),Ri(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<p.length;++d){var f=p[d],_=f.query,v=lu(e,f);e.listenProvider_.startListening(_u(_),cu(e,_),v.hashFn,v.onComplete)}}if(!c&&u.length>0&&!r)if(l){e.listenProvider_.stopListening(_u(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(hu(t));e.listenProvider_.stopListening(_u(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=hu(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return s}function ru(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=bo(e,r);i=i||Ha(t,n),o=o||Ga(t)}));var s,a=e.syncPointTree_.get(r);(a?(o=o||Ga(a),i=i||Ha(a,co())):(a=new qa,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=ns.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Ha(t,co());n&&(i=i.updateImmediateChild(e,n))})));var u=Qa(a,t);if(!u&&!t._queryParams.loadsAllData()){var l=hu(t);Kn(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var c=Ka++;e.queryToTagMap.set(l,c),e.tagToQueryMap.set(c,l)}var h=za(a,t,n,aa(e.pendingWriteTree_,r),i,s);if(!u&&!o){var p=Va(a,t);h=h.concat(function(e,t,n){var r=t._path,i=cu(e,t),o=lu(e,n),s=e.listenProvider_.startListening(_u(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)Kn(!Ga(a.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(e,t,n){if(!mo(e)&&t&&Ga(t))return[Ya(t).query];var r=[];return t&&(r=r.concat(Ba(t).map((function(e){return e.query})))),Ri(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(_u(c),cu(e,c))}return s}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,p))}return h}function iu(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Ha(n,bo(e,t));if(r)return r}));return pa(r,t,i,n,!0)}function ou(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=bo(e,n);r=r||Ha(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Ha(i,co()):(i=new qa,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,s=o?new Us(r,!0,!1):null;return function(e){return Qs(e.viewCache_)}(Ua(i,t,aa(e.pendingWriteTree_,t._path),o?s.getNode():ns.EMPTY_NODE,o))}function su(e,t){return au(t,e.syncPointTree_,null,aa(e.pendingWriteTree_,co()))}function au(e,t,n,r){if(mo(e.path))return uu(e,t,n,r);var i=t.get(co());null==n&&null!=i&&(n=Ha(i,co()));var o=[],s=ho(e.path),a=e.operationForChild(s),u=t.children.get(s);if(u&&a){var l=n?n.getImmediateChild(s):null,c=ma(r,s);o=o.concat(au(a,u,l,c))}return i&&(o=o.concat(ja(i,e,r,n))),o}function uu(e,t,n,r){var i=t.get(co());null==n&&null!=i&&(n=Ha(i,co()));var o=[];return t.children.inorderTraversal((function(t,i){var s=n?n.getImmediateChild(t):null,a=ma(r,t),u=e.operationForChild(t);u&&(o=o.concat(uu(u,i,s,a)))})),i&&(o=o.concat(ja(i,e,r,n))),o}function lu(e,t){var n=t.query,r=cu(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||ns.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=pu(e,n);if(r){var i=du(r),o=i.path,s=i.queryId,a=bo(o,t);return fu(e,o,new Ms(Ds(s),a))}return[]}(e,n._path,r):function(e,t){return su(e,new Ms({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return nu(e,n,null,i)}}}function cu(e,t){var n=hu(t);return e.queryToTagMap.get(n)}function hu(e){return e._path.toString()+"$"+e._queryIdentifier}function pu(e,t){return e.tagToQueryMap.get(t)}function du(e){var t=e.indexOf("$");return Kn(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new lo(e.substr(0,t))}}function fu(e,t,n){var r=e.syncPointTree_.get(t);return Kn(r,"Missing sync point for query tag that we're tracking"),ja(r,n,aa(e.pendingWriteTree_,t),null)}function _u(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Kn(Ma,"Reference.ts has not been loaded"),Ma)(e._repo,e._path):e}var vu=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),yu=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=go(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return iu(this.syncTree_,this.path_)},e}(),gu=function(e,t,n){return e&&"object"==typeof e?(Kn(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?mu(e[".sv"],t,n):"object"==typeof e[".sv"]?bu(e[".sv"],t):void Kn(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},mu=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Kn(!1,"Unexpected server value: "+e)}},bu=function(e,t,n){e.hasOwnProperty("increment")||Kn(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&Kn(!1,"Unexpected increment value: "+r);var i=t.node();if(Kn(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},wu=function(e,t,n,r){return ku(t,new yu(n,e),r)},Cu=function(e,t,n){return ku(e,new vu(t),n)};function ku(e,t,n){var r,i=e.getPriority().val(),o=gu(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var s=e,a=gu(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new Qo(a,is(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Qo(o))),u.forEachChild(Ko,(function(e,i){var o=ku(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var $u=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function xu(e,t){for(var n=t instanceof lo?t:new lo(t),r=e,i=ho(n);null!==i;){var o=_r(r.node.children,i)||{children:{},childCount:0};r=new $u(i,r,o),i=ho(n=fo(n))}return r}function Tu(e){return e.node.value}function Eu(e,t){e.node.value=t,Nu(e)}function Su(e){return e.node.childCount>0}function Iu(e,t){Ri(e.node.children,(function(n,r){t(new $u(n,e,r))}))}function Pu(e,t,n,r){n&&!r&&t(e),Iu(e,(function(e){Pu(e,t,!0,r)})),n&&r&&t(e)}function Ru(e){return new lo(null===e.parent?e.name:Ru(e.parent)+"/"+e.name)}function Nu(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Tu(e)&&!Su(e)}(n),i=fr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Nu(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Nu(e))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e.parent,e.name,e)}var Ou=/[\[\].#$\/\u0000-\u001F\u007F]/,Au=/[\[\].#$\u0000-\u001F\u007F]/,Du=10485760,Lu=function(e){return"string"==typeof e&&0!==e.length&&!Ou.test(e)},Fu=function(e){return"string"==typeof e&&0!==e.length&&!Au.test(e)},Mu=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!ki(e)||e&&"object"==typeof e&&fr(e,".sv")},qu=function(e,t,n,r){r&&void 0===t||ju(kr(e,"value"),t,n)},ju=function(e,t,n){var r=n instanceof lo?new $o(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+To(r));if("function"==typeof t)throw new Error(e+"contains a function "+To(r)+" with contents = "+t.toString());if(ki(t))throw new Error(e+"contains "+t.toString()+" "+To(r));if("string"==typeof t&&t.length>Du/3&&Tr(t)>Du)throw new Error(e+"contains a string greater than "+"10485760 utf8 bytes "+To(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(Ri(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!Lu(t)))throw new Error(e+" contains an invalid key ("+t+") "+To(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,a;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Tr(t),xo(e)}(r,t),ju(e,n,r),a=(s=r).parts_.pop(),s.byteLength_-=Tr(a),s.parts_.length>0&&(s.byteLength_-=1)})),i&&o)throw new Error(e+' contains ".value" child '+To(r)+" in addition to actual children.")}},Uu=function(e,t,n,r){if(!r||void 0!==t){var i=kr(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];Ri(t,(function(e,t){var r=new lo(e);if(ju(i,t,go(n,r)),".priority"===_o(r)&&!Mu(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=vo(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Lu(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(wo);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&ko(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,o)}},zu=function(e,t,n){if(!n||void 0!==t){if(ki(t))throw new Error(kr(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Mu(t))throw new Error(kr(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wu=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(kr(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Bu=function(e,t,n,r){if(!(r&&void 0===n||Lu(n)))throw new Error(kr(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Hu=function(e,t,n,r){if(!(r&&void 0===n||Fu(n)))throw new Error(kr(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vu=function(e,t){if(".info"===ho(t))throw new Error(e+" failed = Can't modify data under /.info/")},Qu=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Lu(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Fu(e)}(n))throw new Error(kr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Gu=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(kr(e,t)+"must be a boolean.")},Yu=function(){this.eventLists_=[],this.recursionDepth_=0};function Ku(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Co(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Xu(e,t,n){Ku(e,n),Zu(e,(function(e){return Co(e,t)}))}function Ju(e,t,n){Ku(e,n),Zu(e,(function(e){return ko(e,t)||ko(t,e)}))}function Zu(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(el(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function el(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();_i&&gi("event: "+n.toString()),Fi(r)}}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var tl="repo_interrupt",nl=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ss(),this.transactionQueueTree_=new $u,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function rl(e,t,n){if(e.stats_=Ki(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ts(e.repoInfo_,(function(t,n,r,i){sl(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return al(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pr(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new Ro(e.repoInfo_,t,(function(t,n,r,i){sl(e,t,n,r,i)}),(function(t){al(e,t)}),(function(t){!function(e,t){Ri(t,(function(t,n){ul(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=e.repoInfo_,i=function(){return new As(e.stats_,e.server_)},o=r.toString(),Yi[o]||(Yi[o]=i()),Yi[o]),e.infoData_=new Es,e.infoSyncTree_=new Xa({startListening:function(t,n,r,i){var o=[],s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=tu(e.infoSyncTree_,t._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ul(e,"connected",!1),e.serverSyncTree_=new Xa({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Ju(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function il(e){var t=e.infoData_.getNode(new lo(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ol(e){return(t=(t={timestamp:il(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function sl(e,t,n,r,i){e.dataUpdateCount++;var o=new lo(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var a=yr(n,(function(e){return is(e)}));s=function(e,t,n,r){var i=pu(e,r);if(i){var o=du(i),s=o.path,a=o.queryId,u=bo(s,t),l=Ys.fromObject(n);return fu(e,s,new js(Ds(a),u,l))}return[]}(e.serverSyncTree_,o,a,i)}else{var u=is(n);s=function(e,t,n,r){var i=pu(e,r);if(null!=i){var o=du(i),s=o.path,a=o.queryId,u=bo(s,t);return fu(e,s,new qs(Ds(a),u,n))}return[]}(e.serverSyncTree_,o,u,i)}else if(r){var l=yr(n,(function(e){return is(e)}));s=function(e,t,n){var r=Ys.fromObject(n);return su(e,new js({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{var c=is(n);s=tu(e.serverSyncTree_,o,c)}var h=o;s.length>0&&(h=ml(e,o)),Ju(e.eventQueue_,h,s)}function al(e,t){ul(e,"connected",t),!1===t&&function(e){_l(e,"onDisconnectEvents");var t=ol(e),n=Ss();Rs(e.onDisconnect_,co(),(function(r,i){var o=wu(r,i,e.serverSyncTree_,t);Is(n,r,o)}));var r=[];Rs(n,co(),(function(t,n){r=r.concat(tu(e.serverSyncTree_,t,n));var i=$l(e,t);ml(e,i)})),e.onDisconnect_=Ss(),Ju(e.eventQueue_,co(),r)}(e)}function ul(e,t,n){var r=new lo("/.info/"+t),i=is(n);e.infoData_.updateSnapshot(r,i);var o=tu(e.infoSyncTree_,r,i);Ju(e.eventQueue_,r,o)}function ll(e){return e.nextWriteId_++}function cl(e,t,n,r,i){_l(e,"set",{path:t.toString(),value:n,priority:r});var o=ol(e),s=is(n,r),a=iu(e.serverSyncTree_,t),u=Cu(s,a,o),l=ll(e),c=Ja(e.serverSyncTree_,t,u,l,!0);Ku(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||Ci("set at "+t+" failed: "+n);var s=eu(e.serverSyncTree_,l,!o);Ju(e.eventQueue_,t,s),vl(e,i,n,r)}));var h=$l(e,t);ml(e,h),Ju(e.eventQueue_,h,[])}function hl(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Ps(e.onDisconnect_,t),vl(e,n,r,i)}))}function pl(e,t,n,r){var i=is(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Is(e.onDisconnect_,t,i),vl(e,r,n,o)}))}function dl(e,t,n){var r;r=".info"===ho(t._path)?nu(e.infoSyncTree_,t,n):nu(e.serverSyncTree_,t,n),Xu(e.eventQueue_,t._path,r)}function fl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(tl)}function _l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),gi.apply(void 0,Qn([r],Vn(t)))}function vl(e,t,n,r){t&&Fi((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function yl(e,t,n){return iu(e.serverSyncTree_,t,n)||ns.EMPTY_NODE}function gl(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||kl(e,t),Tu(t)){var n=wl(e,t);Kn(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=yl(e,t,r),o=i,s=i.hash(),a=0;a<n.length;a++){var u=n[a];Kn(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=bo(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=t;e.server_.put(h.toString(),c,(function(r){_l(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(t){n[t].status=2,i=i.concat(eu(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},a=0;a<n.length;a++)s(a);kl(e,xu(e.transactionQueueTree_,t)),gl(e,e.transactionQueueTree_),Ju(e.eventQueue_,t,i);for(a=0;a<o.length;a++)Fi(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else{Ci("transaction at "+h.toString()+" failed: "+r);for(a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r}ml(e,t)}}),s)}(e,Ru(t),n)}else Su(t)&&Iu(t,(function(t){gl(e,t)}))}function ml(e,t){var n=bl(e,t),r=Ru(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var a,u,l=t[s],c=bo(n,l.path),h=!1;if(Kn(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,a=l.abortReason,i=i.concat(eu(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,a="maxretry",i=i.concat(eu(e.serverSyncTree_,l.currentWriteId,!0));else{var p=yl(e,l.path,o);l.currentInputSnapshot=p;var d=t[s].update(p.val());if(void 0!==d){ju("transaction failed: Data returned ",d,l.path);var f=is(d);"object"==typeof d&&null!=d&&fr(d,".priority")||(f=f.updatePriority(p.getPriority()));var _=l.currentWriteId,v=ol(e),y=Cu(f,p,v);l.currentOutputSnapshotRaw=f,l.currentOutputSnapshotResolved=y,l.currentWriteId=ll(e),o.splice(o.indexOf(_),1),i=(i=i.concat(Ja(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(eu(e.serverSyncTree_,_,!0))}else h=!0,a="nodata",i=i.concat(eu(e.serverSyncTree_,l.currentWriteId,!0))}Ju(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,u=t[s].unwatcher,setTimeout(u,Math.floor(0)),t[s].onComplete&&("nodata"===a?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(a),!1,null)}))))},a=0;a<t.length;a++)s(a);kl(e,e.transactionQueueTree_);for(a=0;a<r.length;a++)Fi(r[a]);gl(e,e.transactionQueueTree_)}(e,wl(e,n),r),r}function bl(e,t){var n,r=e.transactionQueueTree_;for(n=ho(t);null!==n&&void 0===Tu(r);)r=xu(r,n),n=ho(t=fo(t));return r}function wl(e,t){var n=[];return Cl(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Cl(e,t,n){var r=Tu(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Iu(t,(function(t){Cl(e,t,n)}))}function kl(e,t){var n=Tu(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Eu(t,n.length>0?n:void 0)}Iu(t,(function(t){kl(e,t)}))}function $l(e,t){var n=Ru(bl(e,t)),r=xu(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){xl(e,t)})),xl(e,r),Pu(r,(function(t){xl(e,t)})),n}function xl(e,t){var n=Tu(t);if(n){for(var r=[],i=[],o=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Kn(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(Kn(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(eu(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Eu(t,void 0):n.length=o+1,Ju(e.eventQueue_,Ru(t),i);for(s=0;s<r.length;s++)Fi(r[s])}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Tl=function(e,t){var n=El(e),r=n.namespace;"firebase.com"===n.domain&&wi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||wi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ci("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Hi(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new lo(n.pathString)}},El=function(e){var t="",n="",r="",i="",o="",s=!0,a="https",u=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(c,h)));var p=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Hn(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var a=s.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Ci("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(s="https"===a||"wss"===a,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var f=t.indexOf(".");r=t.substring(0,f).toLowerCase(),n=t.substring(f+1),o=r}"ns"in p&&(o=p.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Sl=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+pr(this.snapshot.exportVal())},e}(),Il=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Pl=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Kn(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Rl=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new rr;return hl(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Vu("OnDisconnect.remove",this._path);var e=new rr;return pl(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Vu("OnDisconnect.set",this._path),qu("OnDisconnect.set",e,this._path,!1);var t=new rr;return pl(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Vu("OnDisconnect.setWithPriority",this._path),qu("OnDisconnect.setWithPriority",e,this._path,!1),zu("OnDisconnect.setWithPriority",t,!1);var n=new rr;return function(e,t,n,r,i){var o=is(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Is(e.onDisconnect_,t,o),vl(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Vu("OnDisconnect.update",this._path),Uu("OnDisconnect.update",e,this._path,!1);var t=new rr;return function(e,t,n,r){if(vr(n))return gi("onDisconnect().update() called with empty data.  Don't do anything."),void vl(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&Ri(n,(function(n,r){var i=is(r);Is(e.onDisconnect_,go(t,n),i)})),vl(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Nl=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return mo(this._path)?null:_o(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ll(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=xs(this._queryParams),t=Ii(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return xs(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Er(t))instanceof e))return!1;var n=this._repo===t._repo,r=Co(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Ol(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Al(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Do){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==$i)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==xi)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ko){if(null!=t&&!Mu(t)||null!=n&&!Mu(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Kn(e.getIndex()instanceof as||e.getIndex()===us,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Dl(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ll=function(e){function t(t,n){return e.call(this,t,n,new bs,!1)||this}return Un(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=yo(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Nl),Fl=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new lo(t),r=jl(this.ref,t);return new e(this._node.getChild(n),r,Ko)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,jl(n.ref,r),Ko))}))},e.prototype.hasChild=function(e){var t=new lo(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Ml(e,t){return(e=Er(e))._checkNotDeleted("ref"),void 0!==t?jl(e._root,t):e._root}function ql(e,t){(e=Er(e))._checkNotDeleted("refFromURL");var n=Tl(t,e._repo.repoInfo_.nodeAdmin);Qu("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||wi("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Ml(e,n.path.toString())}function jl(e,t){var n,r,i,o;return null===ho((e=Er(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Hu(n,r,i,o)):Hu("child","path",t,!1),new Ll(e._repo,go(e._path,t))}function Ul(e,t){e=Er(e),Vu("push",e._path),qu("push",t,e._path,!0);var n,r=il(e._repo),i=cs(r),o=jl(e,i),s=jl(e,i);return n=null!=t?Wl(s,t).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function zl(e){return Vu("remove",e._path),Wl(e,null)}function Wl(e,t){e=Er(e),Vu("set",e._path),qu("set",t,e._path,!1);var n=new rr;return cl(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Bl(e,t){e=Er(e),Vu("setPriority",e._path),zu("setPriority",t,!1);var n=new rr;return cl(e._repo,go(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Hl(e,t,n){if(Vu("setWithPriority",e._path),qu("setWithPriority",t,e._path,!1),zu("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new rr;return cl(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Vl(e,t){Uu("update",t,e._path,!1);var n=new rr;return function(e,t,n,r){_l(e,"update",{path:t.toString(),value:n});var i=!0,o=ol(e),s={};if(Ri(n,(function(n,r){i=!1,s[n]=wu(go(t,n),is(r),e.serverSyncTree_,o)})),i)gi("update() called with empty data.  Don't do anything."),vl(0,r,"ok",void 0);else{var a=ll(e),u=Za(e.serverSyncTree_,t,s,a);Ku(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||Ci("update at "+t+" failed: "+n);var s=eu(e.serverSyncTree_,a,!o),u=s.length>0?ml(e,t):t;Ju(e.eventQueue_,u,s),vl(0,r,n,i)})),Ri(n,(function(n){var r=$l(e,go(t,n));ml(e,r)})),Ju(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ql(e){return function(e,t){var n=ou(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=is(n),i=tu(e.serverSyncTree_,t._path,r);return Xu(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return _l(e,"get for query "+pr(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Er(e))._repo,e).then((function(t){return new Fl(t,new Ll(e._repo,e._path),e._queryParams.getIndex())}))}var Gl=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Sl("value",this,new Fl(e.snapshotNode,new Ll(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Il(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Yl=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Il(this,e,t):null},e.prototype.createEvent=function(e,t){Kn(null!=e.childName,"Child events should have a childName.");var n=jl(new Ll(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Sl(e.type,this,new Fl(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function Kl(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(t,n){dl(e._repo,e,l),s(t,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var u=new Pl(n,o||void 0),l="value"===t?new Gl(u):new Yl(t,u);return function(e,t,n){var r;r=".info"===ho(t._path)?ru(e.infoSyncTree_,t,n):ru(e.serverSyncTree_,t,n),Xu(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return dl(e._repo,e,l)}}function Xl(e,t,n,r){return Kl(e,"value",t,n,r)}function Jl(e,t,n,r){return Kl(e,"child_added",t,n,r)}function Zl(e,t,n,r){return Kl(e,"child_changed",t,n,r)}function ec(e,t,n,r){return Kl(e,"child_moved",t,n,r)}function tc(e,t,n,r){return Kl(e,"child_removed",t,n,r)}function nc(e,t,n){var r=null,i=n?new Pl(n):null;"value"===t?r=new Gl(i):t&&(r=new Yl(t,i)),dl(e._repo,e,r)}var rc=function(){},ic=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Un(t,e),t.prototype._apply=function(e){qu("endAt",this._value,e._path,!0);var t=Cs(e._queryParams,this._value,this._key);if(Dl(t),Al(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nl(e._repo,e._path,t,e._orderByCalled)},t}(rc);function oc(e,t){return Bu("endAt","key",t,!0),new ic(e,t)}var sc=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Un(t,e),t.prototype._apply=function(e){qu("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Do?("string"==typeof t&&(t=ps(t)),r=Cs(e,t,n)):r=Cs(e,t,null==n?$i:ps(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Dl(t),Al(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Nl(e._repo,e._path,t,e._orderByCalled)},t}(rc);function ac(e,t){return Bu("endBefore","key",t,!0),new sc(e,t)}var uc=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Un(t,e),t.prototype._apply=function(e){qu("startAt",this._value,e._path,!0);var t=ws(e._queryParams,this._value,this._key);if(Dl(t),Al(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Nl(e._repo,e._path,t,e._orderByCalled)},t}(rc);function lc(e,t){return void 0===e&&(e=null),Bu("startAt","key",t,!0),new uc(e,t)}var cc=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Un(t,e),t.prototype._apply=function(e){qu("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Do?("string"==typeof t&&(t=hs(t)),r=ws(e,t,n)):r=ws(e,t,null==n?xi:hs(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Dl(t),Al(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Nl(e._repo,e._path,t,e._orderByCalled)},t}(rc);function hc(e,t){return Bu("startAfter","key",t,!0),new cc(e,t)}var pc=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Un(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nl(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(rc);function dc(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new pc(e)}var fc=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Un(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Nl(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(rc);function _c(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new fc(e)}var vc=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Un(t,e),t.prototype._apply=function(e){Ol(e,"orderByChild");var t=new lo(this._path);if(mo(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new as(t),r=ks(e._queryParams,n);return Al(r),new Nl(e._repo,e._path,r,!0)},t}(rc);function yc(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Hu("orderByChild","path",e,!1),new vc(e)}var gc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Un(t,e),t.prototype._apply=function(e){Ol(e,"orderByKey");var t=ks(e._queryParams,Do);return Al(t),new Nl(e._repo,e._path,t,!0)},t}(rc);function mc(){return new gc}var bc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Un(t,e),t.prototype._apply=function(e){Ol(e,"orderByPriority");var t=ks(e._queryParams,Ko);return Al(t),new Nl(e._repo,e._path,t,!0)},t}(rc);function wc(){return new bc}var Cc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Un(t,e),t.prototype._apply=function(e){Ol(e,"orderByValue");var t=ks(e._queryParams,us);return Al(t),new Nl(e._repo,e._path,t,!0)},t}(rc);function kc(){return new Cc}var $c=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Un(t,e),t.prototype._apply=function(e){if(qu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ic(this._value,this._key)._apply(new uc(this._value,this._key)._apply(e))},t}(rc);function xc(e,t){return Bu("equalTo","key",t,!0),new $c(e,t)}function Tc(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Er(e);try{for(var s=Hn(r),a=s.next();!a.done;a=s.next()){var u=a.value;o=u._apply(o)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o}!function(e){Kn(!Ra,"__referenceConstructor has already been defined"),Ra=e}(Ll),function(e){Kn(!Ma,"__referenceConstructor has already been defined"),Ma=e}(Ll);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ec={},Sc=!1;function Ic(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||wi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gi("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var s,a=Tl(o,i),u=a.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,o="http://"+l+"?ns="+u.namespace,u=(a=Tl(o,i)).repoInfo):s=!a.repoInfo.secure;var c=i&&s?new Ui(Ui.OWNER):new ji(e.name,e.options,t);Qu("Invalid Firebase Database URL",a),mo(a.path)||wi("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Ec[t.name];i||(i={},Ec[t.name]=i);var o=i[e.toURLString()];o&&wi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new nl(e,Sc,n,r),i[e.toURLString()]=o,o}(u,e,c,new qi(e.name,n));return new Pc(h,e)}var Pc=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(rl(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ll(this._repo,co())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=Ec[t])&&n[e.key]===e||wi("Database "+t+"("+e.repoInfo_+") has already been deleted."),fl(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&wi("Cannot call "+e+" on a deleted database.")},e}();function Rc(e,t,n,r){void 0===r&&(r={}),(e=Er(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&wi("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&wi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ui(Ui.OWNER);else if(r.mockUserToken){var s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=zn({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Zn.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Zn.encodeString(JSON.stringify(o),!1),""].join(".")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(r.mockUserToken,e.app.options.projectId);o=new Ui(s)}!function(e,t,n,r){e.repoInfo_=new Hi(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function Nc(e){(e=Er(e))._checkNotDeleted("goOffline"),fl(e._repo)}function Oc(e){var t;(e=Er(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(tl)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ac={".sv":"timestamp"};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Dc=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Lc(e,t,n){var r;if(e=Er(e),Vu("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new rr,s=Xl(e,(function(){}));return function(e,t,n,r,i,o){_l(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:pi(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=yl(e,t,void 0);s.currentInputSnapshot=a;var u=s.update(a.val());if(void 0===u)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ju("transaction failed: Data returned ",u,s.path),s.status=0;var l=xu(e.transactionQueueTree_,t),c=Tu(l)||[];c.push(s),Eu(l,c);var h=void 0;"object"==typeof u&&null!==u&&fr(u,".priority")?(h=_r(u,".priority"),Kn(Mu(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(iu(e.serverSyncTree_,t)||ns.EMPTY_NODE).getPriority().val();var p=ol(e),d=is(u,h),f=Cu(d,a,p);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=f,s.currentWriteId=ll(e);var _=Ja(e.serverSyncTree_,t,f,s.currentWriteId,s.applyLocally);Ju(e.eventQueue_,t,_),gl(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new Fl(r,new Ll(e._repo,e._path),Ko),o.resolve(new Dc(n,i)))}),s,i),o.promise}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Fc=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Cr("OnDisconnect.cancel",0,1,arguments.length),$r("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Cr("OnDisconnect.remove",0,1,arguments.length),$r("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Cr("OnDisconnect.set",1,2,arguments.length),$r("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Cr("OnDisconnect.setWithPriority",2,3,arguments.length),$r("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Cr("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Ci("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}$r("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Mc=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Cr("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),qc=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Cr("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Cr("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Cr("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Cr("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Cr("DataSnapshot.child",0,1,arguments.length),t=String(t),Hu("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Cr("DataSnapshot.hasChild",1,1,arguments.length),Hu("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Cr("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Cr("DataSnapshot.forEach",1,1,arguments.length),$r("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Cr("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Cr("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Cr("DataSnapshot.ref",0,0,arguments.length),new Uc(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),jc=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var o,s=this;Cr("Query.on",2,4,arguments.length),$r("Query.on","callback",n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(a.context,new qc(s.database,e),t)};u.userCallback=n,u.context=a.context;var l=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(t){case"value":return Xl(this._delegate,u,l),n;case"child_added":return Jl(this._delegate,u,l),n;case"child_removed":return tc(this._delegate,u,l),n;case"child_changed":return Zl(this._delegate,u,l),n;case"child_moved":return ec(this._delegate,u,l),n;default:throw new Error(kr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Cr("Query.off",0,3,arguments.length),Wu("Query.off",e,!0),$r("Query.off","callback",t,!0),xr("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,nc(this._delegate,e,r)}else nc(this._delegate,e)},e.prototype.get=function(){var e=this;return Ql(this._delegate).then((function(t){return new qc(e.database,t)}))},e.prototype.once=function(t,n,r,i){var o=this;Cr("Query.once",1,4,arguments.length),$r("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),a=new rr,u=function(e,t){var r=new qc(o.database,e);n&&n.call(s.context,r,t),a.resolve(r)};u.userCallback=n,u.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),a.reject(e)};switch(t){case"value":Xl(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Jl(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":tc(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":Zl(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":ec(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(kr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise},e.prototype.limitToFirst=function(t){return Cr("Query.limitToFirst",1,1,arguments.length),new e(this.database,Tc(this._delegate,dc(t)))},e.prototype.limitToLast=function(t){return Cr("Query.limitToLast",1,1,arguments.length),new e(this.database,Tc(this._delegate,_c(t)))},e.prototype.orderByChild=function(t){return Cr("Query.orderByChild",1,1,arguments.length),new e(this.database,Tc(this._delegate,yc(t)))},e.prototype.orderByKey=function(){return Cr("Query.orderByKey",0,0,arguments.length),new e(this.database,Tc(this._delegate,mc()))},e.prototype.orderByPriority=function(){return Cr("Query.orderByPriority",0,0,arguments.length),new e(this.database,Tc(this._delegate,wc()))},e.prototype.orderByValue=function(){return Cr("Query.orderByValue",0,0,arguments.length),new e(this.database,Tc(this._delegate,kc()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Cr("Query.startAt",0,2,arguments.length),new e(this.database,Tc(this._delegate,lc(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Cr("Query.startAfter",0,2,arguments.length),new e(this.database,Tc(this._delegate,hc(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Cr("Query.endAt",0,2,arguments.length),new e(this.database,Tc(this._delegate,oc(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Cr("Query.endBefore",0,2,arguments.length),new e(this.database,Tc(this._delegate,ac(t,n)))},e.prototype.equalTo=function(t,n){return Cr("Query.equalTo",1,2,arguments.length),new e(this.database,Tc(this._delegate,xc(t,n)))},e.prototype.toString=function(){return Cr("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Cr("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Cr("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,$r(e,"cancel",r.cancel,!0),r.context=n,xr(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(kr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Uc(this.database,new Ll(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Uc=function(e){function t(t,n){var r=e.call(this,t,new Nl(n._repo,n._path,new bs,!1))||this;return r.database=t,r._delegate=n,r}return Un(t,e),t.prototype.getKey=function(){return Cr("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Cr("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,jl(this._delegate,e))},t.prototype.getParent=function(){Cr("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Cr("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Cr("Reference.set",1,2,arguments.length),$r("Reference.set","onComplete",t,!0);var n=Wl(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Cr("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Ci("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vu("Reference.update",this._delegate._path),$r("Reference.update","onComplete",t,!0);var i=Vl(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){Cr("Reference.setWithPriority",2,3,arguments.length),$r("Reference.setWithPriority","onComplete",n,!0);var r=Hl(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Cr("Reference.remove",0,1,arguments.length),$r("Reference.remove","onComplete",e,!0);var t=zl(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Cr("Reference.transaction",1,3,arguments.length),$r("Reference.transaction","transactionUpdate",e,!1),$r("Reference.transaction","onComplete",t,!0),Gu("Reference.transaction","applyLocally",n,!0);var i=Lc(this._delegate,e,{applyLocally:n}).then((function(e){return new Mc(e.committed,new qc(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){Cr("Reference.setPriority",1,2,arguments.length),$r("Reference.setPriority","onComplete",t,!0);var n=Bl(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Cr("Reference.push",0,2,arguments.length),$r("Reference.push","onComplete",n,!0);var i=Ul(this._delegate,e),o=i.then((function(e){return new t(r.database,e)}));n&&o.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=o.then.bind(o),s.catch=o.catch.bind(o,void 0),s},t.prototype.onDisconnect=function(){return Vu("Reference.onDisconnect",this._delegate._path),new Fc(new Rl(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(jc),zc=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Rc(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Cr("database.ref",0,1,arguments.length),e instanceof Uc){var t=ql(this._delegate,e.toString());return new Uc(this,t)}t=Ml(this._delegate,e);return new Uc(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Cr(t,1,1,arguments.length);var n=ql(this._delegate,e);return new Uc(this,n)},e.prototype.goOffline=function(){return Cr("database.goOffline",0,0,arguments.length),Nc(this._delegate)},e.prototype.goOnline=function(){return Cr("database.goOnline",0,0,arguments.length),Oc(this._delegate)},e.ServerValue={TIMESTAMP:Ac,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Wc=Object.freeze({__proto__:null,forceLongPolling:function(){ro.forceDisallow(),eo.forceAllow()},forceWebSockets:function(){eo.forceDisallow()},isWebSocketsAvailable:function(){return ro.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Os(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);Ri(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,s=e.nodeAdmin,a=void 0!==s&&s;ii(r);var u=new Pr("auth-internal",new Nr("database-standalone"));return u.setComponent(new Sr("auth-internal",(function(){return i}),"PRIVATE")),{instance:new zc(Ic(t,u,void 0,n,a),t),namespace:o}}}),Bc=Ro;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Ro.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ro.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Hc=oo,Vc=Hi,Qc=Object.freeze({__proto__:null,DataConnection:Bc,RealTimeConnection:Hc,hijackHash:function(e){var t=Ro.prototype.put;return Ro.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Ro.prototype.put=t}},ConnectionTarget:Vc,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Sc=e}(e)}}),Gc=zc.ServerValue;!function(e){ii(e.SDK_VERSION),e.INTERNAL.registerComponent(new Sr("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new zc(Ic(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Uc,Query:jc,Database:zc,DataSnapshot:qc,enableLogging:yi,INTERNAL:Wc,ServerValue:Gc,TEST_ACCESS:Qc}).setMultipleInstances(!0)),e.registerVersion("@firebase/database","0.10.1")}(ni);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Yc="firebasestorage.googleapis.com",Kc=function(e){function t(n,r){var i=e.call(this,Xc(n),"Firebase Storage: "+r+" ("+Xc(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return Un(t,e),t.prototype._codeEquals=function(e){return Xc(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(ar);function Xc(e){return"storage/"+e}function Jc(){return new Kc("unknown","An unknown error occurred, please check the error payload for server response.")}function Zc(){return new Kc("canceled","User canceled the upload/download.")}function eh(){return new Kc("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function th(e){return new Kc("invalid-argument",e)}function nh(){return new Kc("app-deleted","The Firebase app was deleted.")}function rh(e){return new Kc("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ih(e,t){return new Kc("invalid-format","String does not match format '"+e+"': "+t)}function oh(e){throw new Kc("internal-error","Internal error: "+e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var sh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ah=function(e,t){this.data=e,this.contentType=t||null};function uh(e,t){switch(e){case sh.RAW:return new ah(lh(t));case sh.BASE64:case sh.BASE64URL:return new ah(ch(e,t));case sh.DATA_URL:return new ah((n=new hh(t)).base64?ch(sh.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw ih(sh.DATA_URL,"Malformed data URL.")}return lh(t)}(n.rest),function(e){return new hh(e).contentType}(t))}var n;throw Jc()}function lh(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ch(e,t){switch(e){case sh.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw ih(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case sh.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw ih(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(t){throw ih(e,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var hh=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw ih(sh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */};var ph,dh={STATE_CHANGED:"state_changed"},fh={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _h(e){switch(e){case"running":case"pausing":case"canceling":return fh.RUNNING;case"paused":return fh.PAUSED;case"success":return fh.SUCCESS;case"canceled":return fh.CANCELED;case"error":default:return fh.ERROR}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ph||(ph={}));
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var vh=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ph.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=ph.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=ph.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw oh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw oh("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw oh("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw oh("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),yh=function(){function e(){}return e.prototype.createXhrIo=function(){return new vh},e}(),gh=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(n){return new e(t,"")}if(""===r.path)return r;throw new Kc("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===Yc?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],l=0;l<u.length;l++){var c=u[l],h=c.regex.exec(t);if(h){var p=h[c.indices.bucket],d=h[c.indices.path];d||(d=""),r=new e(p,d),c.postModify(r);break}}if(null==r)throw function(e){return new Kc("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),mh=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function bh(e){return"string"==typeof e||e instanceof String}function wh(e){return Ch()&&e instanceof Blob}function Ch(){return"undefined"!=typeof Blob}function kh(e,t,n,r){if(r<t)throw th("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw th("Invalid value for '"+e+"'. Expected "+n+" or less.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function $h(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function xh(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Th=function(){function e(e,t,n,r,i,o,s,a,u,l,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=e.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(e){o(e)}else null!==s?((r=Jc()).serverResponse=s.getResponseText(),e.errorCallback_?o(e.errorCallback_(s,r)):o(r)):n.canceled?o(r=e.appDelete_?nh():Zc()):o(r=new Kc("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Eh(!1,null,!0)):this.backoffId_=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e,t,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var u=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function c(t){i=setTimeout((function(){i=null,e(h,a())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)l.call.apply(l,Qn([null,e],t));else{var i;a()||o?l.call.apply(l,Qn([null,e],t)):(r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),c(i))}}var p=!1;function d(e){p||(p=!0,u||(null!==i?(e||(s=2),clearTimeout(i),c(0)):e||(s=1)))}return c(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new Eh(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===ph.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var s=-1!==e.successCodes_.indexOf(o);t(!0,new Eh(s,n))}else{var a=n.getErrorCode()===ph.ABORT;t(!1,new Eh(!1,null,a))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Eh=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Sh(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ih(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Sh();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Ch())return new Blob(e);throw new Kc("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ph=function(){function e(e,t){var n=0,r="";wh(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(wh(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Ch()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Ih.apply(null,r))}var i=t.map((function(e){return bh(e)?uh(sh.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)s[a++]=e[t]})),new e(s,!0)},e.prototype.uploadData=function(){return this.data_},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Rh(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Nh(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Oh(e,t){return t}var Ah=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Oh},Dh=null;function Lh(){if(Dh)return Dh;var e=[];e.push(new Ah("bucket")),e.push(new Ah("generation")),e.push(new Ah("metageneration")),e.push(new Ah("name","fullPath",!0));var t=new Ah("name");t.xform=function(e,t){return function(e){return!bh(e)||e.length<2?e:Nh(e)}(t)},e.push(t);var n=new Ah("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ah("timeCreated")),e.push(new Ah("updated")),e.push(new Ah("md5Hash",null,!0)),e.push(new Ah("cacheControl",null,!0)),e.push(new Ah("contentDisposition",null,!0)),e.push(new Ah("contentEncoding",null,!0)),e.push(new Ah("contentLanguage",null,!0)),e.push(new Ah("contentType",null,!0)),e.push(new Ah("metadata","customMetadata",!0)),Dh=e}function Fh(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,t[s.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new gh(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Mh(e,t,n){var r=Rh(t);return null===r?null:Fh(e,r,n)}function qh(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function jh(e,t,n){var r=Rh(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=e._makeStorageReference(new gh(t,s));r.prefixes.push(a)}if(n.items)for(var u=0,l=n.items;u<l.length;u++){var c=l[u];a=e._makeStorageReference(new gh(t,c.name)),r.items.push(a)}return r}(e,t,r)}var Uh=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function zh(e){if(!e)throw Jc()}function Wh(e,t){return function(n,r){var i=Mh(e,r,t);return zh(null!==i),i}}function Bh(e,t){return function(n,r){var i=Mh(e,r,t);return zh(null!==i),function(e,t,n){var r=Rh(t);if(null===r)return null;if(!bh(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return $h("/b/"+o(r)+"/o/"+o(i),n)+xh({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Hh(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Kc("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Kc("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Kc("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Kc("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Vh(e){var t=Hh(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Kc("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Qh(e,t,n){var r=$h(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Uh(r,"GET",Wh(e,n),i);return o.errorHandler=Vh(t),o}function Gh(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=$h(t.bucketOnlyServerUrl(),e.host),a=e.maxOperationRetryTime,u=new Uh(s,"GET",function(e,t){return function(n,r){var i=jh(e,t,r);return zh(null!==i),i}}(e,t.bucket),a);return u.urlParams=o,u.errorHandler=Hh(t),u}function Yh(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Kh=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Xh(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){zh(!1)}return zh(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Jh=262144;function Zh(e,t,n,r,i,o,s,a){var u=new Kh(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Kc("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,p=h+c,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,p);if(null===f)throw eh();var _=t.maxUploadRetryTime,v=new Uh(n,"POST",(function(e,n){var i,s=Xh(e,["active","final"]),a=u.current+c,l=r.size();return i="final"===s?Wh(t,o)(e,n):null,new Kh(a,l,"final"===s,i)}),_);return v.headers=d,v.body=f.uploadData(),v.progressCallback=a||null,v.errorHandler=Hh(e),v}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ep=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function tp(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var np=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Lh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s=Yh(t,r,i),a={name:s.fullPath},u=$h(o,e.host),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=qh(s,n),h=e.maxUploadRetryTime,p=new Uh(u,"POST",(function(e){var t;Xh(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){zh(!1)}return zh(bh(t)),t}),h);return p.urlParams=a,p.headers=l,p.body=c,p.errorHandler=Hh(t),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Uh(n,"POST",(function(e){var t=Xh(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){zh(!1)}n||zh(!1);var i=Number(n);return zh(!isNaN(i)),new Kh(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Hh(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Jh*this._chunkMultiplier,n=new Kh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=Zh(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var a=e._ref.storage._makeRequest(s,i,o);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Jh*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Qh(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;var u=Yh(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+qh(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=Ph.getBlob(l,r,c);if(null===h)throw eh();var p={name:u.fullPath},d=$h(o,e.host),f=e.maxUploadRetryTime,_=new Uh(d,"POST",Wh(e,n),f);return _.urlParams=p,_.headers=s,_.body=h.uploadData(),_.errorHandler=Hh(t),_}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Zc(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=_h(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new ep(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(_h(this._state)){case fh.SUCCESS:tp(this._resolve.bind(null,this.snapshot))();break;case fh.CANCELED:case fh.ERROR:tp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(_h(this._state)){case fh.RUNNING:case fh.PAUSED:e.next&&tp(e.next.bind(e,this.snapshot))();break;case fh.SUCCESS:e.complete&&tp(e.complete.bind(e))();break;case fh.CANCELED:case fh.ERROR:e.error&&tp(e.error.bind(e,this._error))();break;default:e.error&&tp(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),rp=function(){function e(e,t){this._service=e,this._location=t instanceof gh?t:gh.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new gh(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Nh(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new gh(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw rh(e)},e}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ip(e){var t={prefixes:[],items:[]};return op(e,t).then((function(){return t}))}function op(e,t,n){return Wn(this,void 0,void 0,(function(){var r,i,o;return Bn(this,(function(s){switch(s.label){case 0:return[4,sp(e,{pageToken:n})];case 1:return r=s.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,op(e,t,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function sp(e,t){return Wn(this,void 0,void 0,(function(){var n,r;return Bn(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&kh("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Gh(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function ap(e,t){return Wn(this,void 0,void 0,(function(){var n;return Bn(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=$h(t.fullServerUrl(),e.host),o=qh(n,r),s=e.maxOperationRetryTime,a=new Uh(i,"PATCH",Wh(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Vh(t),a}(e.storage,e._location,t,Lh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function up(e){return Wn(this,void 0,void 0,(function(){var t;return Bn(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=$h(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Uh(r,"GET",Bh(e,n),i);return o.errorHandler=Vh(t),o}(e.storage,e._location,Lh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Kc("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function lp(e){return Wn(this,void 0,void 0,(function(){var t;return Bn(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=$h(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Uh(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Vh(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function cp(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new gh(e._location.bucket,n);return new rp(e.storage,r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function hp(e){return/^[A-Za-z]+:\/\//.test(e)}function pp(e,t){if(e instanceof _p){var n=e;if(null==n._bucket)throw new Kc("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new rp(n,n._bucket);return null!=t?pp(r,t):r}if(void 0!==t){if(t.includes(".."))throw th('`path` param cannot contain ".."');return cp(e,t)}return e}function dp(e,t){if(t&&hp(t)){if(e instanceof _p)return new rp(e,t);throw th("To use ref(service, url), the first argument must be a Storage instance.")}return pp(e,t)}function fp(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:gh.makeFromBucketSpec(n,e)}var _p=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Yc,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?gh.makeFromBucketSpec(i,this._host):fp(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=gh.makeFromBucketSpec(this._url,e):this._bucket=fp(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){kh("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){kh("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Wn(this,void 0,void 0,(function(){var e,t;return Bn(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return Wn(this,void 0,void 0,(function(){var e;return Bn(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new rp(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new mh(nh());var i=function(e,t,n,r,i,o){var s=xh(e.urlParams),a=e.url+s,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Th(a,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return Wn(this,void 0,void 0,(function(){var t,n,r;return Bn(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vp(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new np(e,new Ph(t),n)}(e=Er(e),t,n)}function yp(e){return function(e){return Wn(this,void 0,void 0,(function(){var t;return Bn(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Qh(e.storage,e._location,Lh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Er(e))}function gp(e,t){return dp(e=Er(e),t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var mp=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),bp=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new mp(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new mp(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new mp(e,i,i._ref))}:{next:t.next?function(e){return t.next(new mp(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),wp=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Cp(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Cp(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Cp=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return cp(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new bp(vp(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=sh.RAW),this._throwIfRoot("putString");var r=uh(t,e),i=zn({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new bp(new np(this._delegate,new Ph(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return ip(e=Er(e))}(this._delegate).then((function(t){return new wp(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return sp(e=Er(e),t)}(this._delegate,e||void 0).then((function(e){return new wp(e,t.storage)}))},e.prototype.getMetadata=function(){return yp(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return ap(e=Er(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return up(e=Er(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return lp(e=Er(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw rh(e)},e}(),kp=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(hp(e))throw th("ref() expected a child path but got a URL, use refFromURL instead.");return new Cp(gp(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!hp(e))throw th("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gh.makeFromUrl(e,this._delegate.host)}catch(e){throw th("refFromUrl() expected a valid full URL but got an invalid one.")}return new Cp(gp(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function $p(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new kp(r,new _p(r,i,o,new yh,n,ni.SDK_VERSION))}!function(e){var t={TaskState:fh,TaskEvent:dh,StringFormat:sh,Storage:_p,Reference:Cp};e.INTERNAL.registerComponent(new Sr("storage",$p,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.5.2")}(ni);const xp={apiKey:"AIzaSyDlp_ud7BFK9kKtMC0w_faVn6TyTVESyys",authDomain:"noimin-fuurin-wedding.firebaseapp.com",databaseURL:"https://noimin-fuurin-wedding-default-rtdb.firebaseio.com",projectId:"noimin-fuurin-wedding",storageBucket:"noimin-fuurin-wedding.appspot.com",messagingSenderId:"243666008631",appId:"1:243666008631:web:d0438bc4cf9904a0c75db2"};0===ni.apps.length&&ni.initializeApp(xp);const Tp=ni.storage().ref(),Ep=ni.database();function Sp(e){let t;return{c(){t=k("画像ファイル(必須)")},m(e,n){m(e,t,n)},d(e){e&&b(t)}}}function Ip(e){let t,n,r,i;return n=new Dt({props:{fluid:!0,src:e[0],alt:"image",class:"my-2"}}),{c(){t=C("div"),ge(n.$$.fragment)},m(e,r){m(e,t,r),me(n,t,null),i=!0},p(e,t){const r={};1&t&&(r.src=e[0]),n.$set(r)},i(e){i||(he(n.$$.fragment,e),Z((()=>{r||(r=fe(t,qe,{},!0)),r.run(1)})),i=!0)},o(e){pe(n.$$.fragment,e),r||(r=fe(t,qe,{},!1)),r.run(0),i=!1},d(e){e&&b(t),be(n),e&&r&&r.end()}}}function Pp(e){let t,n,r,i,o,s;t=new yn({props:{$$slots:{default:[Sp]},$$scope:{ctx:e}}}),r=new fn({props:{id:"image-file",type:"file",name:"img",accept:"image/*",required:!0}}),r.$on("change",e[1]);let a=e[0]&&Ip(e);return{c(){ge(t.$$.fragment),n=$(),ge(r.$$.fragment),i=$(),a&&a.c(),o=x()},m(e,u){me(t,e,u),m(e,n,u),me(r,e,u),m(e,i,u),a&&a.m(e,u),m(e,o,u),s=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),e[0]?a?(a.p(e,n),1&n&&he(a,1)):(a=Ip(e),a.c(),he(a,1),a.m(o.parentNode,o)):a&&(le(),pe(a,1,1,(()=>{a=null})),ce())},i(e){s||(he(t.$$.fragment,e),he(r.$$.fragment,e),he(a),s=!0)},o(e){pe(t.$$.fragment,e),pe(r.$$.fragment,e),pe(a),s=!1},d(e){be(t,e),e&&b(n),be(r,e),e&&b(i),a&&a.d(e),e&&b(o)}}}function Rp(e){let t;return{c(){t=k("投稿者名 (空欄可　20文字以内)")},m(e,n){m(e,t,n)},d(e){e&&b(t)}}}function Np(e){let t,n,r,i;return t=new yn({props:{$$slots:{default:[Rp]},$$scope:{ctx:e}}}),r=new fn({props:{id:"name",type:"text",name:"name",maxlength:"20",size:"20"}}),{c(){ge(t.$$.fragment),n=$(),ge(r.$$.fragment)},m(e,o){me(t,e,o),m(e,n,o),me(r,e,o),i=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){i||(he(t.$$.fragment,e),he(r.$$.fragment,e),i=!0)},o(e){pe(t.$$.fragment,e),pe(r.$$.fragment,e),i=!1},d(e){be(t,e),e&&b(n),be(r,e)}}}function Op(e){let t;return{c(){t=k("一言コメント (空欄可　200文字以内)")},m(e,n){m(e,t,n)},d(e){e&&b(t)}}}function Ap(e){let t,n,r,i;return t=new yn({props:{$$slots:{default:[Op]},$$scope:{ctx:e}}}),r=new fn({props:{id:"comment",type:"textarea",name:"comment",maxlength:"200",rows:"5",cols:"40"}}),{c(){ge(t.$$.fragment),n=$(),ge(r.$$.fragment)},m(e,o){me(t,e,o),m(e,n,o),me(r,e,o),i=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){i||(he(t.$$.fragment,e),he(r.$$.fragment,e),i=!0)},o(e){pe(t.$$.fragment,e),pe(r.$$.fragment,e),i=!1},d(e){be(t,e),e&&b(n),be(r,e)}}}function Dp(e){let t;return{c(){t=k("投稿する")},m(e,n){m(e,t,n)},d(e){e&&b(t)}}}function Lp(e){let t,n,r,i,o,s,a,u,l,c,h,p;return o=new Nt({props:{$$slots:{default:[Pp]},$$scope:{ctx:e}}}),a=new Nt({props:{$$slots:{default:[Np]},$$scope:{ctx:e}}}),l=new Nt({props:{$$slots:{default:[Ap]},$$scope:{ctx:e}}}),h=new et({props:{id:"submit",class:"honokamin",$$slots:{default:[Dp]},$$scope:{ctx:e}}}),h.$on("click",e[2]),{c(){t=C("main"),n=C("h2"),n.textContent="画像を投稿する",r=$(),i=C("form"),ge(o.$$.fragment),s=$(),ge(a.$$.fragment),u=$(),ge(l.$$.fragment),c=$(),ge(h.$$.fragment),E(n,"class","honokamin text-dark mb-3"),E(i,"method","post"),E(i,"onsubmit","return false"),E(i,"enctype","multipart/form-data"),E(t,"class","conatiner honokamin text-dark")},m(e,d){m(e,t,d),g(t,n),g(t,r),g(t,i),me(o,i,null),g(i,s),me(a,i,null),g(i,u),me(l,i,null),g(i,c),me(h,i,null),p=!0},p(e,[t]){const n={};129&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const r={};128&t&&(r.$$scope={dirty:t,ctx:e}),a.$set(r);const i={};128&t&&(i.$$scope={dirty:t,ctx:e}),l.$set(i);const s={};128&t&&(s.$$scope={dirty:t,ctx:e}),h.$set(s)},i(e){p||(he(o.$$.fragment,e),he(a.$$.fragment,e),he(l.$$.fragment,e),he(h.$$.fragment,e),p=!0)},o(e){pe(o.$$.fragment,e),pe(a.$$.fragment,e),pe(l.$$.fragment,e),pe(h.$$.fragment,e),p=!1},d(e){e&&b(t),be(o),be(a),be(l),be(h)}}}function Fp(e,t,n){let r,i=null;const o=(e,t)=>("0".repeat(t)+String(e)).slice(-t);return[i,e=>{r=e.target.files[0];var t=new FileReader;t.onload=()=>n(0,i=t.result),t.readAsDataURL(r)},e=>{if(!r)return void alert("画像ファイルを選択してください");const t=new Date,n=Math.floor(1e5*Math.random()),i=`${t.getFullYear()}${o(t.getMonth()+1,2)}${o(t.getDate()+1,2)}${o(t.getHours()+1,2)}${o(t.getMinutes()+1,2)}${o(t.getSeconds()+1,2)}_${n}`,s=r.name.split(".").slice(-1)[0],a=Tp.child(`img/${i}.${s}`);(()=>{const e=document.getElementById("submit");e.disabled=!0,e.innerHTML="投稿中……"})(),a.put(r).then((e=>{e.ref.getDownloadURL().then((e=>{Ep.ref(`img/${i}`).set({url:e,name:document.getElementById("name").value,comment:document.getElementById("comment").value}),(()=>{const e=document.getElementById("submit");e.disabled=!1,e.innerHTML="投稿する"})(),alert("画像のアップロードが完了しました！")}))}))}]}class Mp extends Ce{constructor(e){super(),we(this,e,Fp,Lp,a,{})}}function qp(e){let t,n,r,i,o,s,a,u,l,c,h,p=e[0][e[1]].comment+"",d=e[0][e[1]].name+"";return{c(){t=C("div"),n=C("img"),o=$(),s=C("div"),a=C("p"),u=k(p),l=k(" (投稿者: "),c=k(d),h=k(" さん)"),E(n,"id","slideshow-img"),n.src!==(r=e[0][e[1]].url)&&E(n,"src",r),E(n,"alt",i=e[0][e[1]].comment),E(n,"class","svelte-19isaor"),E(t,"id","slideshow-img-container"),E(t,"class","svelte-19isaor"),E(a,"id","slideshow-text"),E(s,"id","slideshow-text-container"),E(s,"class","svelte-19isaor")},m(e,r){m(e,t,r),g(t,n),m(e,o,r),m(e,s,r),g(s,a),g(a,u),g(a,l),g(a,c),g(a,h)},p(e,t){3&t&&n.src!==(r=e[0][e[1]].url)&&E(n,"src",r),3&t&&i!==(i=e[0][e[1]].comment)&&E(n,"alt",i),3&t&&p!==(p=e[0][e[1]].comment+"")&&P(u,p),3&t&&d!==(d=e[0][e[1]].name+"")&&P(c,d)},d(e){e&&b(t),e&&b(o),e&&b(s)}}}function jp(t){let n,r=t[1]<t[0].length&&qp(t);return{c(){n=C("main"),r&&r.c(),E(n,"class","svelte-19isaor")},m(e,t){m(e,n,t),r&&r.m(n,null)},p(e,[t]){e[1]<e[0].length?r?r.p(e,t):(r=qp(e),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:e,o:e,d(e){e&&b(n),r&&r.d()}}}function Up(e,t,n){const r=Ep.ref("img");let i=[],o=0;r.on("value",(e=>{n(0,i=Object.values(e.val()))}),(e=>{console.log(e),n(0,i=[])}));const s=()=>{var e,t;n(1,(e=0,t=i.length,o=Math.floor(Math.random()*(t-e)+e)))};return z((()=>{s(),setInterval(s,1e4)})),[i,o]}class zp extends Ce{constructor(e){super(),we(this,e,Up,jp,a,{})}}function Wp(e,t,n){const r=e.slice();return r[2]=t[n].url,r[3]=t[n].comment,r[4]=t[n].name,r}function Bp(e){let t,n,r,i=e[3]&&Hp(e),o=e[4]&&Gp(e);return{c(){i&&i.c(),t=$(),o&&o.c(),n=x()},m(e,s){i&&i.m(e,s),m(e,t,s),o&&o.m(e,s),m(e,n,s),r=!0},p(e,r){e[3]?i?(i.p(e,r),1&r&&he(i,1)):(i=Hp(e),i.c(),he(i,1),i.m(t.parentNode,t)):i&&(le(),pe(i,1,1,(()=>{i=null})),ce()),e[4]?o?(o.p(e,r),1&r&&he(o,1)):(o=Gp(e),o.c(),he(o,1),o.m(n.parentNode,n)):o&&(le(),pe(o,1,1,(()=>{o=null})),ce())},i(e){r||(he(i),he(o),r=!0)},o(e){pe(i),pe(o),r=!1},d(e){i&&i.d(e),e&&b(t),o&&o.d(e),e&&b(n)}}}function Hp(e){let t,n;return t=new st({props:{$$slots:{default:[Qp]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,n){const r={};129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function Vp(e){let t,n=e[3]+"";return{c(){t=k(n)},m(e,n){m(e,t,n)},p(e,r){1&r&&n!==(n=e[3]+"")&&P(t,n)},d(e){e&&b(t)}}}function Qp(e){let t,n;return t=new pt({props:{$$slots:{default:[Vp]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,n){const r={};129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function Gp(e){let t,n;return t=new lt({props:{$$slots:{default:[Yp]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,n){const r={};129&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function Yp(e){let t,n,r=e[4]+"";return{c(){t=k(r),n=k(" さん")},m(e,r){m(e,t,r),m(e,n,r)},p(e,n){1&n&&r!==(r=e[4]+"")&&P(t,r)},d(e){e&&b(t),e&&b(n)}}}function Kp(e){let t,n,r,i,o,s,a=(e[3]||e[4])&&Bp(e);return{c(){t=C("img"),i=$(),a&&a.c(),o=x(),E(t,"class","card-img-top"),t.src!==(n=e[2])&&E(t,"src",n),E(t,"alt",r=e[3])},m(e,n){m(e,t,n),m(e,i,n),a&&a.m(e,n),m(e,o,n),s=!0},p(e,i){(!s||1&i&&t.src!==(n=e[2]))&&E(t,"src",n),(!s||1&i&&r!==(r=e[3]))&&E(t,"alt",r),e[3]||e[4]?a?(a.p(e,i),1&i&&he(a,1)):(a=Bp(e),a.c(),he(a,1),a.m(o.parentNode,o)):a&&(le(),pe(a,1,1,(()=>{a=null})),ce())},i(e){s||(he(a),s=!0)},o(e){pe(a),s=!1},d(e){e&&b(t),e&&b(i),a&&a.d(e),e&&b(o)}}}function Xp(e){let t,n,r,i;return n=new rt({props:{$$slots:{default:[Kp]},$$scope:{ctx:e}}}),{c(){t=C("div"),ge(n.$$.fragment),r=$(),E(t,"class","col")},m(e,o){m(e,t,o),me(n,t,null),g(t,r),i=!0},p(e,t){const r={};129&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){i||(he(n.$$.fragment,e),i=!0)},o(e){pe(n.$$.fragment,e),i=!1},d(e){e&&b(t),be(n)}}}function Jp(e){let t,n,r,i=e[0],o=[];for(let t=0;t<i.length;t+=1)o[t]=Xp(Wp(e,i,t));const s=e=>pe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=C("main"),n=C("div");for(let e=0;e<o.length;e+=1)o[e].c();E(n,"class","row row-cols-1 row-cols-md-3 g-4")},m(e,i){m(e,t,i),g(t,n);for(let e=0;e<o.length;e+=1)o[e].m(n,null);r=!0},p(e,[t]){if(1&t){let r;for(i=e[0],r=0;r<i.length;r+=1){const s=Wp(e,i,r);o[r]?(o[r].p(s,t),he(o[r],1)):(o[r]=Xp(s),o[r].c(),he(o[r],1),o[r].m(n,null))}for(le(),r=i.length;r<o.length;r+=1)s(r);ce()}},i(e){if(!r){for(let e=0;e<i.length;e+=1)he(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)pe(o[e]);r=!1},d(e){e&&b(t),w(o,e)}}}function Zp(e,t,n){const r=Ep.ref("img");let i=[];return r.on("value",(e=>{n(0,i=Object.values(e.val()))}),(e=>{console.log(e),n(0,i=[])})),[i]}class ed extends Ce{constructor(e){super(),we(this,e,Zp,Jp,a,{})}}function td(e){let t,n,r,i;return{c(){var e,o,s;t=C("img"),r=$(),i=C("span"),i.textContent="Wedding Pictures",t.src!==(n="./site_icon.png")&&E(t,"src","./site_icon.png"),E(t,"width","36"),E(t,"alt","brand"),e="margin-right",o="10px",t.style.setProperty(e,o,s?"important":""),E(i,"class","navbar-item svelte-1og1xnt")},m(e,n){m(e,t,n),m(e,r,n),m(e,i,n)},d(e){e&&b(t),e&&b(r),e&&b(i)}}}function nd(e){let t;return{c(){t=C("span"),t.textContent="Slideshow",E(t,"class","navbar-item svelte-1og1xnt")},m(e,n){m(e,t,n)},d(e){e&&b(t)}}}function rd(e){let t,n;return t=new Nn({props:{href:"/#/slideshow",$$slots:{default:[nd]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function id(e){let t;return{c(){t=C("span"),t.textContent="All Photos",E(t,"class","navbar-item svelte-1og1xnt")},m(e,n){m(e,t,n)},d(e){e&&b(t)}}}function od(e){let t,n;return t=new Nn({props:{href:"/#/photos",$$slots:{default:[id]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function sd(e){let t;return{c(){t=C("span"),t.textContent="Upload",E(t,"class","navbar-item svelte-1og1xnt")},m(e,n){m(e,t,n)},d(e){e&&b(t)}}}function ad(e){let t,n;return t=new Nn({props:{href:"/",$$slots:{default:[sd]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function ud(e){let t,n,r,i,o,s;return t=new In({props:{$$slots:{default:[rd]},$$scope:{ctx:e}}}),r=new In({props:{$$slots:{default:[od]},$$scope:{ctx:e}}}),o=new In({props:{$$slots:{default:[ad]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment),n=$(),ge(r.$$.fragment),i=$(),ge(o.$$.fragment)},m(e,a){me(t,e,a),m(e,n,a),me(r,e,a),m(e,i,a),me(o,e,a),s=!0},p(e,n){const i={};8&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const s={};8&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s);const a={};8&n&&(a.$$scope={dirty:n,ctx:e}),o.$set(a)},i(e){s||(he(t.$$.fragment,e),he(r.$$.fragment,e),he(o.$$.fragment,e),s=!0)},o(e){pe(t.$$.fragment,e),pe(r.$$.fragment,e),pe(o.$$.fragment,e),s=!1},d(e){be(t,e),e&&b(n),be(r,e),e&&b(i),be(o,e)}}}function ld(e){let t,n;return t=new bn({props:{class:"ms-auto",navbar:!0,style:"margin-right: 15px;",$$slots:{default:[ud]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function cd(e){let t,n,r,i,o,s;return t=new Dn({props:{href:"/",class:"mx-3",$$slots:{default:[td]},$$scope:{ctx:e}}}),r=new qn({props:{color:"primary"}}),r.$on("click",e[2]),o=new He({props:{isOpen:e[0],navbar:!0,expand:"md",$$slots:{default:[ld]},$$scope:{ctx:e}}}),o.$on("update",e[1]),{c(){ge(t.$$.fragment),n=$(),ge(r.$$.fragment),i=$(),ge(o.$$.fragment)},m(e,a){me(t,e,a),m(e,n,a),me(r,e,a),m(e,i,a),me(o,e,a),s=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const i={};1&n&&(i.isOpen=e[0]),8&n&&(i.$$scope={dirty:n,ctx:e}),o.$set(i)},i(e){s||(he(t.$$.fragment,e),he(r.$$.fragment,e),he(o.$$.fragment,e),s=!0)},o(e){pe(t.$$.fragment,e),pe(r.$$.fragment,e),pe(o.$$.fragment,e),s=!1},d(e){be(t,e),e&&b(n),be(r,e),e&&b(i),be(o,e)}}}function hd(e){let t,n;return t=new Tn({props:{color:"primary",light:!0,expand:"md",class:"julietta-massie navbar-font",style:"padding-bottom: 5px;",$$slots:{default:[cd]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){me(t,e,r),n=!0},p(e,[n]){const r={};9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function pd(e,t,n){let r=!1;return[r,e=>n(0,r=e.detail.isOpen),()=>n(0,r=!r)]}class dd extends Ce{constructor(e){super(),we(this,e,pd,hd,a,{})}}function fd(t){let n,r;return n=new Ae({props:{routes:t[0]}}),{c(){ge(n.$$.fragment)},m(e,t){me(n,e,t),r=!0},p:e,i(e){r||(he(n.$$.fragment,e),r=!0)},o(e){pe(n.$$.fragment,e),r=!1},d(e){be(n,e)}}}function _d(e){let t,n,r,i;return t=new dd({}),r=new _t({props:{class:"mt-4 mb-5",$$slots:{default:[fd]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment),n=$(),ge(r.$$.fragment)},m(e,o){me(t,e,o),m(e,n,o),me(r,e,o),i=!0},p(e,[t]){const n={};2&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){i||(he(t.$$.fragment,e),he(r.$$.fragment,e),i=!0)},o(e){pe(t.$$.fragment,e),pe(r.$$.fragment,e),i=!1},d(e){be(t,e),e&&b(n),be(r,e)}}}function vd(e){return[{"/":Mp,"/slideshow":zp,"/photos":ed,"*":Mp}]}return new class extends Ce{constructor(e){super(),we(this,e,vd,_d,a,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
