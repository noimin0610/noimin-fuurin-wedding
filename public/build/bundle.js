var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function o(e){e.forEach(r)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(e,t,n,r){if(e){const i=l(e,t,n,r);return e[0](i)}}function l(e,t,r,i){return e[1]&&i?n(r.ctx.slice(),e[1](i(t))):r.ctx}function c(e,t,n,r,i,o,s){const a=function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(t,r,i,o);if(a){const i=l(t,n,r,s);e.p(i,a)}}function h(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function p(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}const d="undefined"!=typeof window;let f=d?()=>window.performance.now():()=>Date.now(),_=d?e=>requestAnimationFrame(e):e;const v=new Set;function y(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&_(y)}function m(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function b(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function k(){return $(" ")}function x(){return $("")}function T(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function S(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:E(e,r,t[r])}function I(e){return""===e?null:+e}function P(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function R(e,t){e.value=null==t?"":t}function N(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function O(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];r.selected=~t.indexOf(r.__value)}}function A(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const D=new Set;let L,F=0;function M(e,t,n,r,i,o,s,a=0){const u=16.666/r;let l="{\n";for(let e=0;e<=1;e+=u){const r=t+(n-t)*o(e);l+=100*e+`%{${s(r,1-r)}}\n`}const c=l+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(c)}_${a}`,p=e.ownerDocument;D.add(p);const d=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(C("style")).sheet),f=p.__svelte_rules||(p.__svelte_rules={});f[h]||(f[h]=!0,d.insertRule(`@keyframes ${h} ${c}`,d.cssRules.length));const _=e.style.animation||"";return e.style.animation=`${_?`${_}, `:""}${h} ${r}ms linear ${i}ms 1 both`,F+=1,h}function q(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-r.length;i&&(e.style.animation=r.join(", "),F-=i,F||_((()=>{F||(D.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),D.clear())})))}function j(e){L=e}function U(){if(!L)throw new Error("Function called outside component initialization");return L}function z(e){U().$$.on_mount.push(e)}function W(e){U().$$.on_destroy.push(e)}function B(){const e=U();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=A(t,n);r.slice().forEach((t=>{t.call(e,i)}))}}}function H(e){return U().$$.context.get(e)}function V(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const Q=[],G=[],Y=[],K=[],X=Promise.resolve();let J=!1;function Z(){J||(J=!0,X.then(ie))}function ee(e){Y.push(e)}function te(e){K.push(e)}let ne=!1;const re=new Set;function ie(){if(!ne){ne=!0;do{for(let e=0;e<Q.length;e+=1){const t=Q[e];j(t),oe(t.$$)}for(j(null),Q.length=0;G.length;)G.pop()();for(let e=0;e<Y.length;e+=1){const t=Y[e];re.has(t)||(re.add(t),t())}Y.length=0}while(Q.length);for(;K.length;)K.pop()();J=!1,ne=!1,re.clear()}}function oe(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ee)}}let se;function ae(e,t,n){e.dispatchEvent(A(`${t?"intro":"outro"}${n}`))}const ue=new Set;let le;function ce(){le={r:0,c:[],p:le}}function he(){le.r||o(le.c),le=le.p}function pe(e,t){e&&e.i&&(ue.delete(e),e.i(t))}function de(e,t,n,r){if(e&&e.o){if(ue.has(e))return;ue.add(e),le.c.push((()=>{ue.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const fe={duration:0};function _e(n,r,i,a){let u=r(n,i),l=a?0:1,c=null,h=null,p=null;function d(){p&&q(n,p)}function m(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(r){const{delay:i=0,duration:s=300,easing:a=t,tick:g=e,css:b}=u||fe,w={start:f()+i,b:r};r||(w.group=le,le.r+=1),c||h?h=w:(b&&(d(),p=M(n,l,r,s,i,a,b)),r&&g(0,1),c=m(w,s),ee((()=>ae(n,r,"start"))),function(e){let t;0===v.size&&_(y),new Promise((n=>{v.add(t={c:e,f:n})}))}((e=>{if(h&&e>h.start&&(c=m(h,s),h=null,ae(n,c.b,"start"),b&&(d(),p=M(n,l,c.b,c.duration,0,a,u.css))),c)if(e>=c.end)g(l=c.b,1-l),ae(n,c.b,"end"),h||(c.b?d():--c.group.r||o(c.group.c)),c=null;else if(e>=c.start){const t=e-c.start;l=c.a+c.d*a(t/c.duration),g(l,1-l)}return!(!c&&!h)})))}return{run(e){s(u)?(se||(se=Promise.resolve(),se.then((()=>{se=null}))),se).then((()=>{u=u(),g(e)})):g(e)},end(){d(),c=h=null}}}function ve(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const s=e[o],a=t[o];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)i[e]||(n[e]=a[e],i[e]=1);e[o]=a}else for(const e in s)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function ye(e){return"object"==typeof e&&null!==e?e:{}}function me(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function ge(e){e&&e.c()}function be(e,t,n,i){const{fragment:a,on_mount:u,on_destroy:l,after_update:c}=e.$$;a&&a.m(t,n),i||ee((()=>{const t=u.map(r).filter(s);l?l.push(...t):o(t),e.$$.on_mount=[]})),c.forEach(ee)}function we(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ce(t,n,r,s,a,u,l=[-1]){const c=L;j(t);const h=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:n.context||[]),callbacks:i(),dirty:l,skip_bound:!1};let p=!1;if(h.ctx=r?r(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(Q.push(e),Z(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!s&&s(h.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);h.fragment&&h.fragment.l(e),e.forEach(b)}else h.fragment&&h.fragment.c();n.intro&&pe(t.$$.fragment),be(t,n.target,n.anchor,n.customElement),ie()}j(c)}class $e{$destroy(){we(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ke=[];function xe(e,t){return{subscribe:Te(e,t).subscribe}}function Te(t,n=e){let r;const i=[];function o(e){if(a(t,e)&&(t=e,r)){const e=!ke.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),ke.push(n,t)}if(e){for(let e=0;e<ke.length;e+=2)ke[e][0](ke[e+1]);ke.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(s,a=e){const u=[s,a];return i.push(u),1===i.length&&(r=n(o)||e),s(t),()=>{const e=i.indexOf(u);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}function Ee(t,n,r){const i=!Array.isArray(t),a=i?[t]:t,u=n.length<2;return xe(r,(t=>{let r=!1;const l=[];let c=0,h=e;const p=()=>{if(c)return;h();const r=n(i?l[0]:l,t);u?t(r):h=s(r)?r:e},d=a.map(((t,n)=>function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(t,(e=>{l[n]=e,c&=~(1<<n),r&&p()}),(()=>{c|=1<<n}))));return r=!0,p(),function(){o(d),h()}}))}function Se(e){let t,r,i;const o=[e[2]];var s=e[0];function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return s&&(t=new s(a()),t.$on("routeEvent",e[7])),{c(){t&&ge(t.$$.fragment),r=x()},m(e,n){t&&be(t,e,n),g(e,r,n),i=!0},p(e,n){const i=4&n?ve(o,[ye(e[2])]):{};if(s!==(s=e[0])){if(t){ce();const e=t;de(e.$$.fragment,1,0,(()=>{we(e,1)})),he()}s?(t=new s(a()),t.$on("routeEvent",e[7]),ge(t.$$.fragment),pe(t.$$.fragment,1),be(t,r.parentNode,r)):t=null}else s&&t.$set(i)},i(e){i||(t&&pe(t.$$.fragment,e),i=!0)},o(e){t&&de(t.$$.fragment,e),i=!1},d(e){e&&b(r),t&&we(t,e)}}}function Ie(e){let t,r,i;const o=[{params:e[1]},e[2]];var s=e[0];function a(e){let t={};for(let e=0;e<o.length;e+=1)t=n(t,o[e]);return{props:t}}return s&&(t=new s(a()),t.$on("routeEvent",e[6])),{c(){t&&ge(t.$$.fragment),r=x()},m(e,n){t&&be(t,e,n),g(e,r,n),i=!0},p(e,n){const i=6&n?ve(o,[2&n&&{params:e[1]},4&n&&ye(e[2])]):{};if(s!==(s=e[0])){if(t){ce();const e=t;de(e.$$.fragment,1,0,(()=>{we(e,1)})),he()}s?(t=new s(a()),t.$on("routeEvent",e[6]),ge(t.$$.fragment),pe(t.$$.fragment,1),be(t,r.parentNode,r)):t=null}else s&&t.$set(i)},i(e){i||(t&&pe(t.$$.fragment,e),i=!0)},o(e){t&&de(t.$$.fragment,e),i=!1},d(e){e&&b(r),t&&we(t,e)}}}function Pe(e){let t,n,r,i;const o=[Ie,Se],s=[];function a(e,t){return e[1]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=x()},m(e,n){s[t].m(e,n),g(e,r,n),i=!0},p(e,[i]){let u=t;t=a(e),t===u?s[t].p(e,i):(ce(),de(s[u],1,1,(()=>{s[u]=null})),he(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),pe(n,1),n.m(r.parentNode,r))},i(e){i||(pe(n),i=!0)},o(e){de(n),i=!1},d(e){s[t].d(e),e&&b(r)}}}function Re(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const n=t.indexOf("?");let r="";return n>-1&&(r=t.substr(n+1),t=t.substr(0,n)),{location:t,querystring:r}}const Ne=xe(null,(function(e){e(Re());const t=()=>{e(Re())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}));Ee(Ne,(e=>e.location)),Ee(Ne,(e=>e.querystring));const Oe=Te(void 0);function Ae(e,t,n){let{routes:r={}}=t,{prefix:i=""}=t,{restoreScrollState:o=!1}=t;class s{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:r}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,s=[],a="",u=e.split("/");for(u[0]||u.shift();i=u.shift();)"*"===(n=i[0])?(s.push("wild"),a+="/(.*)"):":"===n?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.component,this.conditions=t.conditions||[],this.userData=t.userData,this.props=t.props||{}):(this.component=()=>Promise.resolve(t),this.conditions=[],this.props={}),this._pattern=n,this._keys=r}match(e){if(i)if("string"==typeof i){if(!e.startsWith(i))return null;e=e.substr(i.length)||"/"}else if(i instanceof RegExp){const t=e.match(i);if(!t||!t[0])return null;e=e.substr(t[0].length)||"/"}const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const n={};let r=0;for(;r<this._keys.length;){try{n[this._keys[r]]=decodeURIComponent(t[r+1]||"")||null}catch(e){n[this._keys[r]]=null}r++}return n}async checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!await this.conditions[t](e))return!1;return!0}}const a=[];r instanceof Map?r.forEach(((e,t)=>{a.push(new s(t,e))})):Object.keys(r).forEach((e=>{a.push(new s(e,r[e]))}));let u=null,l=null,c={};const h=B();async function p(e,t){await(Z(),X),h(e,t)}let d=null,f=null;var _;o&&(f=e=>{d=e.state&&e.state.__svelte_spa_router_scrollY?e.state:null},window.addEventListener("popstate",f),_=()=>{d?window.scrollTo(d.__svelte_spa_router_scrollX,d.__svelte_spa_router_scrollY):window.scrollTo(0,0)},U().$$.after_update.push(_));let v=null,y=null;const m=Ne.subscribe((async e=>{v=e;let t=0;for(;t<a.length;){const r=a[t].match(e.location);if(!r){t++;continue}const i={route:a[t].path,location:e.location,querystring:e.querystring,userData:a[t].userData,params:r&&"object"==typeof r&&Object.keys(r).length?r:null};if(!await a[t].checkConditions(i))return n(0,u=null),y=null,void p("conditionsFailed",i);p("routeLoading",Object.assign({},i));const o=a[t].component;if(y!=o){o.loading?(n(0,u=o.loading),y=o,n(1,l=o.loadingParams),n(2,c={}),p("routeLoaded",Object.assign({},i,{component:u,name:u.name,params:l}))):(n(0,u=null),y=null);const t=await o();if(e!=v)return;n(0,u=t&&t.default||t),y=o}return r&&"object"==typeof r&&Object.keys(r).length?n(1,l=r):n(1,l=null),n(2,c=a[t].props),void p("routeLoaded",Object.assign({},i,{component:u,name:u.name,params:l})).then((()=>{Oe.set(l)}))}n(0,u=null),y=null,Oe.set(void 0)}));return W((()=>{m(),f&&window.removeEventListener("popstate",f)})),e.$$set=e=>{"routes"in e&&n(3,r=e.routes),"prefix"in e&&n(4,i=e.prefix),"restoreScrollState"in e&&n(5,o=e.restoreScrollState)},e.$$.update=()=>{32&e.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[u,l,c,r,i,o,function(t){V(e,t)},function(t){V(e,t)}]}class De extends $e{constructor(e){super(),Ce(this,e,Ae,Pe,a,{routes:3,prefix:4,restoreScrollState:5})}}function Le(e){const t=typeof e;return null!=e&&("object"==t||"function"==t)}function Fe(e,t,n){return!0===n||""===n?e?"col":`col-${t}`:"auto"===n?e?"col-auto":`col-${t}-auto`:e?`col-${n}`:`col-${t}-${n}`}function Me(e){let t="";if("string"==typeof e||"number"==typeof e)t+=e;else if("object"==typeof e)if(Array.isArray(e))t=e.map(Me).filter(Boolean).join(" ");else for(let n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function qe(...e){return e.map(Me).filter(Boolean).join(" ")}function je(e){const t=e-1;return t*t*t+1}function Ue(e,{delay:n=0,duration:r=400,easing:i=t}={}){const o=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:i,css:e=>"opacity: "+e*o}}function ze(e,{delay:t=0,duration:n=400,easing:r=je}={}){const i=getComputedStyle(e),o=+i.opacity,s=parseFloat(i.height),a=parseFloat(i.paddingTop),u=parseFloat(i.paddingBottom),l=parseFloat(i.marginTop),c=parseFloat(i.marginBottom),h=parseFloat(i.borderTopWidth),p=parseFloat(i.borderBottomWidth);return{delay:t,duration:n,easing:r,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*o};height: ${e*s}px;padding-top: ${e*a}px;padding-bottom: ${e*u}px;margin-top: ${e*l}px;margin-bottom: ${e*c}px;border-top-width: ${e*h}px;border-bottom-width: ${e*p}px;`}}const We=["touchstart","click"];function Be(e){let t,r,i,a,l,h;const p=e[15].default,d=u(p,e,e[14],null);let f=[{style:r=e[1]?void 0:"overflow: hidden;"},e[8],{class:e[7]}],_={};for(let e=0;e<f.length;e+=1)_=n(_,f[e]);return{c(){t=C("div"),d&&d.c(),S(t,_)},m(n,r){g(n,t,r),d&&d.m(t,null),a=!0,l||(h=[T(t,"introstart",e[16]),T(t,"introend",e[17]),T(t,"outrostart",e[18]),T(t,"outroend",e[19]),T(t,"introstart",(function(){s(e[2])&&e[2].apply(this,arguments)})),T(t,"introend",(function(){s(e[3])&&e[3].apply(this,arguments)})),T(t,"outrostart",(function(){s(e[4])&&e[4].apply(this,arguments)})),T(t,"outroend",(function(){s(e[5])&&e[5].apply(this,arguments)}))],l=!0)},p(n,i){e=n,d&&d.p&&(!a||16384&i)&&c(d,p,e,e[14],i,null,null),S(t,_=ve(f,[(!a||2&i&&r!==(r=e[1]?void 0:"overflow: hidden;"))&&{style:r},256&i&&e[8],(!a||128&i)&&{class:e[7]}]))},i(e){a||(pe(d,e),e&&ee((()=>{i||(i=_e(t,ze,{},!0)),i.run(1)})),a=!0)},o(e){de(d,e),e&&(i||(i=_e(t,ze,{},!1)),i.run(0)),a=!1},d(e){e&&b(t),d&&d.d(e),e&&i&&i.end(),l=!1,o(h)}}}function He(e){let t,n,r,i;ee(e[20]);let o=e[0]&&Be(e);return{c(){o&&o.c(),t=x()},m(s,a){o&&o.m(s,a),g(s,t,a),n=!0,r||(i=T(window,"resize",e[20]),r=!0)},p(e,[n]){e[0]?o?(o.p(e,n),1&n&&pe(o,1)):(o=Be(e),o.c(),pe(o,1),o.m(t.parentNode,t)):o&&(ce(),de(o,1,1,(()=>{o=null})),he())},i(e){n||(pe(o),n=!0)},o(e){de(o),n=!1},d(e){o&&o.d(e),e&&b(t),r=!1,i()}}}function Ve(e,t,r){let i;const o=["isOpen","class","navbar","onEntering","onEntered","onExiting","onExited","expand","toggler"];let s=p(t,o),{$$slots:a={},$$scope:u}=t;const l=B();let{isOpen:c=!1}=t,{class:d=""}=t,{navbar:f=!1}=t,{onEntering:_=(()=>l("opening"))}=t,{onEntered:v=(()=>l("open"))}=t,{onExiting:y=(()=>l("closing"))}=t,{onExited:m=(()=>l("close"))}=t,{expand:g=!1}=t,{toggler:b=null}=t;z((()=>((e,t)=>{let n;if("string"==typeof e&&"undefined"!=typeof window&&document&&document.createElement){let r=document.querySelectorAll(e);if(r.length||(r=document.querySelectorAll(`#${e}`)),!r.length)throw new Error(`The target '${e}' could not be identified in the dom, tip: check spelling`);We.forEach((e=>{r.forEach((n=>{n.addEventListener(e,t)}))})),n=()=>{We.forEach((e=>{r.forEach((n=>{n.removeEventListener(e,t)}))}))}}return()=>{"function"==typeof n&&(n(),n=void 0)}})(b,(()=>r(0,c=!c)))));let w=0,C=!1;const $={};function k(){l("update",c)}return $.xs=0,$.sm=576,$.md=768,$.lg=992,$.xl=1200,e.$$set=e=>{t=n(n({},t),h(e)),r(8,s=p(t,o)),"isOpen"in e&&r(0,c=e.isOpen),"class"in e&&r(9,d=e.class),"navbar"in e&&r(1,f=e.navbar),"onEntering"in e&&r(2,_=e.onEntering),"onEntered"in e&&r(3,v=e.onEntered),"onExiting"in e&&r(4,y=e.onExiting),"onExited"in e&&r(5,m=e.onExited),"expand"in e&&r(10,g=e.expand),"toggler"in e&&r(11,b=e.toggler),"$$scope"in e&&r(14,u=e.$$scope)},e.$$.update=()=>{514&e.$$.dirty&&r(7,i=qe(d,f&&"navbar-collapse")),13379&e.$$.dirty&&f&&g&&(w>=$[g]&&!c?(r(0,c=!0),r(12,C=!0),k()):w<$[g]&&C&&(r(0,c=!1),r(12,C=!1),k()))},[c,f,_,v,y,m,w,i,s,d,g,b,C,$,u,a,function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(){r(6,w=window.innerWidth)}]}class Qe extends $e{constructor(e){super(),Ce(this,e,Ve,He,a,{isOpen:0,class:9,navbar:1,onEntering:2,onEntered:3,onExiting:4,onExited:5,expand:10,toggler:11})}}function Ge(e){let t,r,i,o,s;const a=e[18].default,l=u(a,e,e[17],null),h=l||function(e){let t,n,r,i;const o=[Xe,Ke],s=[];function a(e,t){return e[1]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=x()},m(e,n){s[t].m(e,n),g(e,r,n),i=!0},p(e,i){let u=t;t=a(e),t===u?s[t].p(e,i):(ce(),de(s[u],1,1,(()=>{s[u]=null})),he(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),pe(n,1),n.m(r.parentNode,r))},i(e){i||(pe(n),i=!0)},o(e){de(n),i=!1},d(e){s[t].d(e),e&&b(r)}}}(e);let p=[e[9],{class:e[7]},{disabled:e[2]},{value:e[5]},{"aria-label":r=e[6]||e[8]},{style:e[4]}],d={};for(let e=0;e<p.length;e+=1)d=n(d,p[e]);return{c(){t=C("button"),h&&h.c(),S(t,d)},m(n,r){g(n,t,r),h&&h.m(t,null),e[22](t),i=!0,o||(s=T(t,"click",e[20]),o=!0)},p(e,n){l?l.p&&(!i||131072&n)&&c(l,a,e,e[17],n,null,null):h&&h.p&&131074&n&&h.p(e,n),S(t,d=ve(p,[512&n&&e[9],(!i||128&n)&&{class:e[7]},(!i||4&n)&&{disabled:e[2]},(!i||32&n)&&{value:e[5]},(!i||320&n&&r!==(r=e[6]||e[8]))&&{"aria-label":r},(!i||16&n)&&{style:e[4]}]))},i(e){i||(pe(h,e),i=!0)},o(e){de(h,e),i=!1},d(n){n&&b(t),h&&h.d(n),e[22](null),o=!1,s()}}}function Ye(e){let t,r,i,o,s,a,u;const l=[Ze,Je],c=[];function h(e,t){return e[1]?0:1}r=h(e),i=c[r]=l[r](e);let p=[e[9],{class:e[7]},{disabled:e[2]},{href:e[3]},{"aria-label":o=e[6]||e[8]},{style:e[4]}],d={};for(let e=0;e<p.length;e+=1)d=n(d,p[e]);return{c(){t=C("a"),i.c(),S(t,d)},m(n,i){g(n,t,i),c[r].m(t,null),e[21](t),s=!0,a||(u=T(t,"click",e[19]),a=!0)},p(e,n){let a=r;r=h(e),r===a?c[r].p(e,n):(ce(),de(c[a],1,1,(()=>{c[a]=null})),he(),i=c[r],i?i.p(e,n):(i=c[r]=l[r](e),i.c()),pe(i,1),i.m(t,null)),S(t,d=ve(p,[512&n&&e[9],(!s||128&n)&&{class:e[7]},(!s||4&n)&&{disabled:e[2]},(!s||8&n)&&{href:e[3]},(!s||320&n&&o!==(o=e[6]||e[8]))&&{"aria-label":o},(!s||16&n)&&{style:e[4]}]))},i(e){s||(pe(i),s=!0)},o(e){de(i),s=!1},d(n){n&&b(t),c[r].d(),e[21](null),a=!1,u()}}}function Ke(e){let t;const n=e[18].default,r=u(n,e,e[17],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||131072&i)&&c(r,n,e,e[17],i,null,null)},i(e){t||(pe(r,e),t=!0)},o(e){de(r,e),t=!1},d(e){r&&r.d(e)}}}function Xe(t){let n;return{c(){n=$(t[1])},m(e,t){g(e,n,t)},p(e,t){2&t&&P(n,e[1])},i:e,o:e,d(e){e&&b(n)}}}function Je(e){let t;const n=e[18].default,r=u(n,e,e[17],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||131072&i)&&c(r,n,e,e[17],i,null,null)},i(e){t||(pe(r,e),t=!0)},o(e){de(r,e),t=!1},d(e){r&&r.d(e)}}}function Ze(t){let n;return{c(){n=$(t[1])},m(e,t){g(e,n,t)},p(e,t){2&t&&P(n,e[1])},i:e,o:e,d(e){e&&b(n)}}}function et(e){let t,n,r,i;const o=[Ye,Ge],s=[];function a(e,t){return e[3]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=x()},m(e,n){s[t].m(e,n),g(e,r,n),i=!0},p(e,[i]){let u=t;t=a(e),t===u?s[t].p(e,i):(ce(),de(s[u],1,1,(()=>{s[u]=null})),he(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),pe(n,1),n.m(r.parentNode,r))},i(e){i||(pe(n),i=!0)},o(e){de(n),i=!1},d(e){s[t].d(e),e&&b(r)}}}function tt(e,t,r){let i,o,s;const a=["class","active","block","children","close","color","disabled","href","inner","outline","size","style","value"];let u=p(t,a),{$$slots:l={},$$scope:c}=t,{class:d=""}=t,{active:f=!1}=t,{block:_=!1}=t,{children:v}=t,{close:y=!1}=t,{color:m="secondary"}=t,{disabled:g=!1}=t,{href:b=""}=t,{inner:w}=t,{outline:C=!1}=t,{size:$=null}=t,{style:k=""}=t,{value:x=""}=t;return e.$$set=e=>{r(23,t=n(n({},t),h(e))),r(9,u=p(t,a)),"class"in e&&r(10,d=e.class),"active"in e&&r(11,f=e.active),"block"in e&&r(12,_=e.block),"children"in e&&r(1,v=e.children),"close"in e&&r(13,y=e.close),"color"in e&&r(14,m=e.color),"disabled"in e&&r(2,g=e.disabled),"href"in e&&r(3,b=e.href),"inner"in e&&r(0,w=e.inner),"outline"in e&&r(15,C=e.outline),"size"in e&&r(16,$=e.size),"style"in e&&r(4,k=e.style),"value"in e&&r(5,x=e.value),"$$scope"in e&&r(17,c=e.$$scope)},e.$$.update=()=>{r(6,i=t["aria-label"]),130048&e.$$.dirty&&r(7,o=qe(d,y?"btn-close":"btn",y||`btn${C?"-outline":""}-${m}`,!!$&&`btn-${$}`,!!_&&"d-block w-100",{active:f})),8192&e.$$.dirty&&r(8,s=y?"Close":null)},t=h(t),[w,v,g,b,k,x,i,o,s,u,d,f,_,y,m,C,$,c,l,function(t){V(e,t)},function(t){V(e,t)},function(e){G[e?"unshift":"push"]((()=>{w=e,r(0,w)}))},function(e){G[e?"unshift":"push"]((()=>{w=e,r(0,w)}))}]}class nt extends $e{constructor(e){super(),Ce(this,e,tt,et,a,{class:10,active:11,block:12,children:1,close:13,color:14,disabled:2,href:3,inner:0,outline:15,size:16,style:4,value:5})}}function rt(e){let t,r,i,o;const s=e[9].default,a=u(s,e,e[8],null);let l=[e[2],{class:e[1]},{style:e[0]}],h={};for(let e=0;e<l.length;e+=1)h=n(h,l[e]);return{c(){t=C("div"),a&&a.c(),S(t,h)},m(n,s){g(n,t,s),a&&a.m(t,null),r=!0,i||(o=T(t,"click",e[10]),i=!0)},p(e,[n]){a&&a.p&&(!r||256&n)&&c(a,s,e,e[8],n,null,null),S(t,h=ve(l,[4&n&&e[2],(!r||2&n)&&{class:e[1]},(!r||1&n)&&{style:e[0]}]))},i(e){r||(pe(a,e),r=!0)},o(e){de(a,e),r=!1},d(e){e&&b(t),a&&a.d(e),i=!1,o()}}}function it(e,t,r){let i;const o=["class","body","color","inverse","outline","style"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{body:c=!1}=t,{color:d=""}=t,{inverse:f=!1}=t,{outline:_=!1}=t,{style:v=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(2,s=p(t,o)),"class"in e&&r(3,l=e.class),"body"in e&&r(4,c=e.body),"color"in e&&r(5,d=e.color),"inverse"in e&&r(6,f=e.inverse),"outline"in e&&r(7,_=e.outline),"style"in e&&r(0,v=e.style),"$$scope"in e&&r(8,u=e.$$scope)},e.$$.update=()=>{248&e.$$.dirty&&r(1,i=qe(l,"card",!!f&&"text-white",!!c&&"card-body",!!d&&`${_?"border":"bg"}-${d}`))},[v,i,s,l,c,d,f,_,u,a,function(t){V(e,t)}]}class ot extends $e{constructor(e){super(),Ce(this,e,it,rt,a,{class:3,body:4,color:5,inverse:6,outline:7,style:0})}}function st(e){let t,r;const i=e[4].default,o=u(i,e,e[3],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||8&n)&&c(o,i,e,e[3],n,null,null),S(t,a=ve(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function at(e,t,r){let i;const o=["class"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"$$scope"in e&&r(3,u=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&r(0,i=qe(l,"card-body"))},[i,s,l,u,a]}class ut extends $e{constructor(e){super(),Ce(this,e,at,st,a,{class:2})}}function lt(e){let t,r;const i=e[4].default,o=u(i,e,e[3],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||8&n)&&c(o,i,e,e[3],n,null,null),S(t,a=ve(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function ct(e,t,r){let i;const o=["class"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"$$scope"in e&&r(3,u=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&r(0,i=qe(l,"card-footer"))},[i,s,l,u,a]}class ht extends $e{constructor(e){super(),Ce(this,e,ct,lt,a,{class:2})}}function pt(e){let t,r;const i=e[4].default,o=u(i,e,e[3],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("p"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||8&n)&&c(o,i,e,e[3],n,null,null),S(t,a=ve(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function dt(e,t,r){let i;const o=["class"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"$$scope"in e&&r(3,u=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&r(0,i=qe(l,"card-text"))},[i,s,l,u,a]}class ft extends $e{constructor(e){super(),Ce(this,e,dt,pt,a,{class:2})}}function _t(e){let t,r,i;const o=e[10].default,s=u(o,e,e[9],null);let a=[e[1],{class:r=e[0].join(" ")}],l={};for(let e=0;e<a.length;e+=1)l=n(l,a[e]);return{c(){t=C("div"),s&&s.c(),S(t,l)},m(e,n){g(e,t,n),s&&s.m(t,null),i=!0},p(e,[n]){s&&s.p&&(!i||512&n)&&c(s,o,e,e[9],n,null,null),S(t,l=ve(a,[2&n&&e[1],{class:r}]))},i(e){i||(pe(s,e),i=!0)},o(e){de(s,e),i=!1},d(e){e&&b(t),s&&s.d(e)}}}function vt(e,t,r){const i=["class","xs","sm","md","lg","xl","xxl"];let o=p(t,i),{$$slots:s={},$$scope:a}=t,{class:u=""}=t,{xs:l}=t,{sm:c}=t,{md:d}=t,{lg:f}=t,{xl:_}=t,{xxl:v}=t;const y=[],m={xs:l,sm:c,md:d,lg:f,xl:_,xxl:v};return Object.keys(m).forEach((e=>{const t=m[e];if(!t&&""!==t)return;const n="xs"===e;if(Le(t)){const r=n?"-":`-${e}-`,i=Fe(n,e,t.size);(t.size||""===t.size)&&y.push(i),t.push&&y.push(`push${r}${t.push}`),t.pull&&y.push(`pull${r}${t.pull}`),t.offset&&y.push(`offset${r}${t.offset}`)}else y.push(Fe(n,e,t))})),y.length||y.push("col"),u&&y.push(u),e.$$set=e=>{t=n(n({},t),h(e)),r(1,o=p(t,i)),"class"in e&&r(2,u=e.class),"xs"in e&&r(3,l=e.xs),"sm"in e&&r(4,c=e.sm),"md"in e&&r(5,d=e.md),"lg"in e&&r(6,f=e.lg),"xl"in e&&r(7,_=e.xl),"xxl"in e&&r(8,v=e.xxl),"$$scope"in e&&r(9,a=e.$$scope)},[y,o,u,l,c,d,f,_,v,a,s]}class yt extends $e{constructor(e){super(),Ce(this,e,vt,_t,a,{class:2,xs:3,sm:4,md:5,lg:6,xl:7,xxl:8})}}function mt(e){let t,r;const i=e[10].default,o=u(i,e,e[9],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||512&n)&&c(o,i,e,e[9],n,null,null),S(t,a=ve(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function gt(e,t,r){let i;const o=["class","sm","md","lg","xl","xxl","fluid"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{sm:c}=t,{md:d}=t,{lg:f}=t,{xl:_}=t,{xxl:v}=t,{fluid:y=!1}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"sm"in e&&r(3,c=e.sm),"md"in e&&r(4,d=e.md),"lg"in e&&r(5,f=e.lg),"xl"in e&&r(6,_=e.xl),"xxl"in e&&r(7,v=e.xxl),"fluid"in e&&r(8,y=e.fluid),"$$scope"in e&&r(9,u=e.$$scope)},e.$$.update=()=>{508&e.$$.dirty&&r(0,i=qe(l,{"container-sm":c,"container-md":d,"container-lg":f,"container-xl":_,"container-xxl":v,"container-fluid":y,container:!(c||d||f||_||v||y)}))},[i,s,l,c,d,f,_,v,y,u,a]}class bt extends $e{constructor(e){super(),Ce(this,e,gt,mt,a,{class:2,sm:3,md:4,lg:5,xl:6,xxl:7,fluid:8})}}const wt=e=>({}),Ct=e=>({});function $t(e){let t,r,i,s=[e[11],{class:e[9]},{id:e[10]},{type:"checkbox"},{disabled:e[3]},{name:e[5]},{__value:e[7]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("input"),S(t,a)},m(n,o){g(n,t,o),t.checked=e[0],e[38](t),r||(i=[T(t,"blur",e[28]),T(t,"change",e[29]),T(t,"focus",e[30]),T(t,"input",e[31]),T(t,"change",e[37])],r=!0)},p(e,n){S(t,a=ve(s,[2048&n[0]&&e[11],512&n[0]&&{class:e[9]},1024&n[0]&&{id:e[10]},{type:"checkbox"},8&n[0]&&{disabled:e[3]},32&n[0]&&{name:e[5]},128&n[0]&&{__value:e[7]}])),1&n[0]&&(t.checked=e[0])},d(n){n&&b(t),e[38](null),r=!1,o(i)}}}function kt(e){let t,r,i,s=[e[11],{class:e[9]},{id:e[10]},{type:"checkbox"},{disabled:e[3]},{name:e[5]},{__value:e[7]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("input"),S(t,a)},m(n,o){g(n,t,o),t.checked=e[0],e[36](t),r||(i=[T(t,"blur",e[24]),T(t,"change",e[25]),T(t,"focus",e[26]),T(t,"input",e[27]),T(t,"change",e[35])],r=!0)},p(e,n){S(t,a=ve(s,[2048&n[0]&&e[11],512&n[0]&&{class:e[9]},1024&n[0]&&{id:e[10]},{type:"checkbox"},8&n[0]&&{disabled:e[3]},32&n[0]&&{name:e[5]},128&n[0]&&{__value:e[7]}])),1&n[0]&&(t.checked=e[0])},d(n){n&&b(t),e[36](null),r=!1,o(i)}}}function xt(e){let t,r,i,s=[e[11],{class:e[9]},{id:e[10]},{type:"radio"},{disabled:e[3]},{name:e[5]},{__value:e[7]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("input"),S(t,a),e[33][0].push(t)},m(n,o){g(n,t,o),t.checked=t.__value===e[1],e[34](t),r||(i=[T(t,"blur",e[20]),T(t,"change",e[21]),T(t,"focus",e[22]),T(t,"input",e[23]),T(t,"change",e[32])],r=!0)},p(e,n){S(t,a=ve(s,[2048&n[0]&&e[11],512&n[0]&&{class:e[9]},1024&n[0]&&{id:e[10]},{type:"radio"},8&n[0]&&{disabled:e[3]},32&n[0]&&{name:e[5]},128&n[0]&&{__value:e[7]}])),2&n[0]&&(t.checked=t.__value===e[1])},d(n){n&&b(t),e[33][0].splice(e[33][0].indexOf(t),1),e[34](null),r=!1,o(i)}}}function Tt(e){let t,n;const r=e[19].label,i=u(r,e,e[18],Ct),o=i||function(e){let t;return{c(){t=$(e[4])},m(e,n){g(e,t,n)},p(e,n){16&n[0]&&P(t,e[4])},d(e){e&&b(t)}}}(e);return{c(){t=C("label"),o&&o.c(),E(t,"class","form-check-label"),E(t,"for",e[10])},m(e,r){g(e,t,r),o&&o.m(t,null),n=!0},p(e,s){i?i.p&&(!n||262144&s[0])&&c(i,r,e,e[18],s,wt,Ct):o&&o.p&&16&s[0]&&o.p(e,s),(!n||1024&s[0])&&E(t,"for",e[10])},i(e){n||(pe(o,e),n=!0)},o(e){de(o,e),n=!1},d(e){e&&b(t),o&&o.d(e)}}}function Et(e){let t,n,r;function i(e,t){return"radio"===e[6]?xt:"switch"===e[6]?kt:$t}let o=i(e),s=o(e),a=e[4]&&Tt(e);return{c(){t=C("div"),s.c(),n=k(),a&&a.c(),E(t,"class",e[8])},m(e,i){g(e,t,i),s.m(t,null),m(t,n),a&&a.m(t,null),r=!0},p(e,u){o===(o=i(e))&&s?s.p(e,u):(s.d(1),s=o(e),s&&(s.c(),s.m(t,n))),e[4]?a?(a.p(e,u),16&u[0]&&pe(a,1)):(a=Tt(e),a.c(),pe(a,1),a.m(t,null)):a&&(ce(),de(a,1,1,(()=>{a=null})),he()),(!r||256&u[0])&&E(t,"class",e[8])},i(e){r||(pe(a),r=!0)},o(e){de(a),r=!1},d(e){e&&b(t),s.d(),a&&a.d()}}}function St(e,t,r){let i,o,s;const a=["class","checked","disabled","group","id","inline","inner","invalid","label","name","size","type","valid","value"];let u=p(t,a),{$$slots:l={},$$scope:c}=t,{class:d=""}=t,{checked:f=!1}=t,{disabled:_=!1}=t,{group:v}=t,{id:y}=t,{inline:m=!1}=t,{inner:g}=t,{invalid:b=!1}=t,{label:w=""}=t,{name:C=""}=t,{size:$=""}=t,{type:k="checkbox"}=t,{valid:x=!1}=t,{value:T}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(11,u=p(t,a)),"class"in e&&r(12,d=e.class),"checked"in e&&r(0,f=e.checked),"disabled"in e&&r(3,_=e.disabled),"group"in e&&r(1,v=e.group),"id"in e&&r(13,y=e.id),"inline"in e&&r(14,m=e.inline),"inner"in e&&r(2,g=e.inner),"invalid"in e&&r(15,b=e.invalid),"label"in e&&r(4,w=e.label),"name"in e&&r(5,C=e.name),"size"in e&&r(16,$=e.size),"type"in e&&r(6,k=e.type),"valid"in e&&r(17,x=e.valid),"value"in e&&r(7,T=e.value),"$$scope"in e&&r(18,c=e.$$scope)},e.$$.update=()=>{86080&e.$$.dirty[0]&&r(8,i=qe(d,"form-check",{"form-switch":"switch"===k,"form-check-inline":m,[`form-control-${$}`]:$})),163840&e.$$.dirty[0]&&r(9,o=qe("form-check-input",{"is-invalid":b,"is-valid":x})),8208&e.$$.dirty[0]&&r(10,s=y||w)},[f,v,g,_,w,C,k,T,i,o,s,u,d,y,m,b,$,x,c,l,function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(){v=this.__value,r(1,v)},[[]],function(e){G[e?"unshift":"push"]((()=>{g=e,r(2,g)}))},function(){f=this.checked,r(0,f)},function(e){G[e?"unshift":"push"]((()=>{g=e,r(2,g)}))},function(){f=this.checked,r(0,f)},function(e){G[e?"unshift":"push"]((()=>{g=e,r(2,g)}))}]}class It extends $e{constructor(e){super(),Ce(this,e,St,Et,a,{class:12,checked:0,disabled:3,group:1,id:13,inline:14,inner:2,invalid:15,label:4,name:5,size:16,type:6,valid:17,value:7},[-1,-1])}}function Pt(e){let t,r;const i=e[6].default,o=u(i,e,e[5],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||32&n)&&c(o,i,e,e[5],n,null,null),S(t,a=ve(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function Rt(e,t,r){const i=["class","valid","tooltip"];let o,s=p(t,i),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{valid:c}=t,{tooltip:d=!1}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,i)),"class"in e&&r(2,l=e.class),"valid"in e&&r(3,c=e.valid),"tooltip"in e&&r(4,d=e.tooltip),"$$scope"in e&&r(5,u=e.$$scope)},e.$$.update=()=>{if(28&e.$$.dirty){const e=d?"tooltip":"feedback";r(0,o=qe(l,c?`valid-${e}`:`invalid-${e}`))}},[o,s,l,c,d,u,a]}class Nt extends $e{constructor(e){super(),Ce(this,e,Rt,Pt,a,{class:2,valid:3,tooltip:4})}}function Ot(e){let t,r;const i=e[9].default,o=u(i,e,e[8],null);let s=[e[2],{class:e[1]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,n){o&&o.p&&(!r||256&n)&&c(o,i,e,e[8],n,null,null),S(t,a=ve(s,[4&n&&e[2],(!r||2&n)&&{class:e[1]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function At(e){let t,r;const i=e[9].default,o=u(i,e,e[8],null);let s=[e[2],{class:e[1]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("fieldset"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,n){o&&o.p&&(!r||256&n)&&c(o,i,e,e[8],n,null,null),S(t,a=ve(s,[4&n&&e[2],(!r||2&n)&&{class:e[1]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function Dt(e){let t,n,r,i;const o=[At,Ot],s=[];function a(e,t){return"fieldset"===e[0]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=x()},m(e,n){s[t].m(e,n),g(e,r,n),i=!0},p(e,[i]){let u=t;t=a(e),t===u?s[t].p(e,i):(ce(),de(s[u],1,1,(()=>{s[u]=null})),he(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),pe(n,1),n.m(r.parentNode,r))},i(e){i||(pe(n),i=!0)},o(e){de(n),i=!1},d(e){s[t].d(e),e&&b(r)}}}function Lt(e,t,r){let i;const o=["class","check","disabled","inline","row","tag"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{check:c=!1}=t,{disabled:d=!1}=t,{inline:f=!1}=t,{row:_=!1}=t,{tag:v=null}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(2,s=p(t,o)),"class"in e&&r(3,l=e.class),"check"in e&&r(4,c=e.check),"disabled"in e&&r(5,d=e.disabled),"inline"in e&&r(6,f=e.inline),"row"in e&&r(7,_=e.row),"tag"in e&&r(0,v=e.tag),"$$scope"in e&&r(8,u=e.$$scope)},e.$$.update=()=>{248&e.$$.dirty&&r(1,i=qe(l,"mb-3",{row:_,"form-check":c,"form-check-inline":c&&f,disabled:c&&d}))},[v,i,s,l,c,d,f,_,u,a]}class Ft extends $e{constructor(e){super(),Ce(this,e,Lt,Dt,a,{class:3,check:4,disabled:5,inline:6,row:7,tag:0})}}function Mt(t){let r,i=[{alt:t[0]},t[2],{class:t[1]}],o={};for(let e=0;e<i.length;e+=1)o=n(o,i[e]);return{c(){r=C("img"),S(r,o)},m(e,t){g(e,r,t)},p(e,[t]){S(r,o=ve(i,[1&t&&{alt:e[0]},4&t&&e[2],2&t&&{class:e[1]}]))},i:e,o:e,d(e){e&&b(r)}}}function qt(e,t,r){let i;const o=["class","alt","figure","fluid","thumbnail"];let s=p(t,o),{class:a=""}=t,{alt:u}=t,{figure:l=H("figure")}=t,{fluid:c=!1}=t,{thumbnail:d=!1}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(2,s=p(t,o)),"class"in e&&r(3,a=e.class),"alt"in e&&r(0,u=e.alt),"figure"in e&&r(4,l=e.figure),"fluid"in e&&r(5,c=e.fluid),"thumbnail"in e&&r(6,d=e.thumbnail)},e.$$.update=()=>{120&e.$$.dirty&&r(1,i=qe(a,{"figure-img":l,"img-fluid":c,"img-thumbnail":d}))},[u,i,s,a,l,c,d]}class jt extends $e{constructor(e){super(),Ce(this,e,qt,Mt,a,{class:3,alt:0,figure:4,fluid:5,thumbnail:6})}}function Ut(e,t,n){const r=e.slice();return r[210]=t[n],r}function zt(e){let t,r,i,s;const a=e[24].default,l=u(a,e,e[209],null);let h=[e[21],{class:e[18]},{name:e[13]},{disabled:e[8]},{readonly:e[15]}],p={};for(let e=0;e<h.length;e+=1)p=n(p,h[e]);return{c(){t=C("select"),l&&l.c(),S(t,p),void 0===e[6]&&ee((()=>e[207].call(t)))},m(n,o){g(n,t,o),l&&l.m(t,null),p.multiple&&O(t,p.value),N(t,e[6]),e[208](t),r=!0,i||(s=[T(t,"blur",e[156]),T(t,"change",e[157]),T(t,"focus",e[158]),T(t,"input",e[159]),T(t,"change",e[207])],i=!0)},p(e,n){l&&l.p&&(!r||8388608&n[6])&&c(l,a,e,e[209],n,null,null),S(t,p=ve(h,[2097152&n[0]&&e[21],(!r||262144&n[0])&&{class:e[18]},(!r||8192&n[0])&&{name:e[13]},(!r||256&n[0])&&{disabled:e[8]},(!r||32768&n[0])&&{readonly:e[15]}])),2400512&n[0]&&p.multiple&&O(t,p.value),64&n[0]&&N(t,e[6])},i(e){r||(pe(l,e),r=!0)},o(e){de(l,e),r=!1},d(n){n&&b(t),l&&l.d(n),e[208](null),i=!1,o(s)}}}function Wt(t){let r,i,s,a=[t[21],{class:t[18]},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("textarea"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[206](r),i||(s=[T(r,"blur",t[149]),T(r,"change",t[150]),T(r,"focus",t[151]),T(r,"input",t[152]),T(r,"keydown",t[153]),T(r,"keypress",t[154]),T(r,"keyup",t[155]),T(r,"input",t[205])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[206](null),i=!1,o(s)}}}function Bt(e){let t,n,r,i;const o=[cn,ln,un,an,sn,on,rn,nn,tn,en,Zt,Jt,Xt,Kt,Yt,Gt,Qt,Vt,Ht],s=[];function a(e,t){return"text"===e[16]?0:"password"===e[16]?1:"color"===e[16]?2:"email"===e[16]?3:"file"===e[16]?4:"checkbox"===e[16]||"radio"===e[16]||"switch"===e[16]?5:"url"===e[16]?6:"number"===e[16]?7:"date"===e[16]?8:"time"===e[16]?9:"datetime"===e[16]?10:"datetime-local"===e[16]?11:"month"===e[16]?12:"color"===e[16]?13:"range"===e[16]?14:"search"===e[16]?15:"tel"===e[16]?16:"week"===e[16]?17:18}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=x()},m(e,n){s[t].m(e,n),g(e,r,n),i=!0},p(e,i){let u=t;t=a(e),t===u?s[t].p(e,i):(ce(),de(s[u],1,1,(()=>{s[u]=null})),he(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),pe(n,1),n.m(r.parentNode,r))},i(e){i||(pe(n),i=!0)},o(e){de(n),i=!1},d(e){s[t].d(e),e&&b(r)}}}function Ht(t){let r,i,s,a=[t[21],{type:t[16]},{readOnly:t[15]},{class:t[18]},{name:t[13]},{disabled:t[8]},{placeholder:t[14]},{value:t[6]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),r.value=u.value,i||(s=[T(r,"blur",t[144]),T(r,"change",t[20]),T(r,"focus",t[145]),T(r,"input",t[20]),T(r,"keydown",t[146]),T(r,"keypress",t[147]),T(r,"keyup",t[148])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],65536&t[0]&&{type:e[16]},32768&t[0]&&{readOnly:e[15]},262144&t[0]&&{class:e[18]},8192&t[0]&&{name:e[13]},256&t[0]&&{disabled:e[8]},16384&t[0]&&{placeholder:e[14]},64&t[0]&&r.value!==e[6]&&{value:e[6]}])),"value"in u&&(r.value=u.value)},i:e,o:e,d(e){e&&b(r),i=!1,o(s)}}}function Vt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"week"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[204](r),i||(s=[T(r,"blur",t[137]),T(r,"change",t[138]),T(r,"focus",t[139]),T(r,"input",t[140]),T(r,"keydown",t[141]),T(r,"keypress",t[142]),T(r,"keyup",t[143]),T(r,"input",t[203])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"week"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[204](null),i=!1,o(s)}}}function Qt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"tel"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[202](r),i||(s=[T(r,"blur",t[130]),T(r,"change",t[131]),T(r,"focus",t[132]),T(r,"input",t[133]),T(r,"keydown",t[134]),T(r,"keypress",t[135]),T(r,"keyup",t[136]),T(r,"input",t[201])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"tel"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[202](null),i=!1,o(s)}}}function Gt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"search"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[200](r),i||(s=[T(r,"blur",t[123]),T(r,"change",t[124]),T(r,"focus",t[125]),T(r,"input",t[126]),T(r,"keydown",t[127]),T(r,"keypress",t[128]),T(r,"keyup",t[129]),T(r,"input",t[199])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"search"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[200](null),i=!1,o(s)}}}function Yt(t){let r,i,s,a=[t[21],{type:"range"},{readOnly:t[15]},{class:t[18]},{name:t[13]},{disabled:t[8]},{placeholder:t[14]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[198](r),i||(s=[T(r,"blur",t[116]),T(r,"change",t[117]),T(r,"focus",t[118]),T(r,"input",t[119]),T(r,"keydown",t[120]),T(r,"keypress",t[121]),T(r,"keyup",t[122]),T(r,"change",t[197]),T(r,"input",t[197])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],{type:"range"},32768&t[0]&&{readOnly:e[15]},262144&t[0]&&{class:e[18]},8192&t[0]&&{name:e[13]},256&t[0]&&{disabled:e[8]},16384&t[0]&&{placeholder:e[14]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[198](null),i=!1,o(s)}}}function Kt(t){let r,i,s,a=[t[21],{type:"color"},{readOnly:t[15]},{class:t[18]},{name:t[13]},{disabled:t[8]},{placeholder:t[14]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[196](r),i||(s=[T(r,"blur",t[109]),T(r,"change",t[110]),T(r,"focus",t[111]),T(r,"input",t[112]),T(r,"keydown",t[113]),T(r,"keypress",t[114]),T(r,"keyup",t[115]),T(r,"input",t[195])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],{type:"color"},32768&t[0]&&{readOnly:e[15]},262144&t[0]&&{class:e[18]},8192&t[0]&&{name:e[13]},256&t[0]&&{disabled:e[8]},16384&t[0]&&{placeholder:e[14]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[196](null),i=!1,o(s)}}}function Xt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"month"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[194](r),i||(s=[T(r,"blur",t[102]),T(r,"change",t[103]),T(r,"focus",t[104]),T(r,"input",t[105]),T(r,"keydown",t[106]),T(r,"keypress",t[107]),T(r,"keyup",t[108]),T(r,"input",t[193])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"month"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[194](null),i=!1,o(s)}}}function Jt(t){let r,i,s,a=[t[21],{class:t[18]},{type:"datetime-local"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[192](r),i||(s=[T(r,"blur",t[95]),T(r,"change",t[96]),T(r,"focus",t[97]),T(r,"input",t[98]),T(r,"keydown",t[99]),T(r,"keypress",t[100]),T(r,"keyup",t[101]),T(r,"input",t[191])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"datetime-local"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[192](null),i=!1,o(s)}}}function Zt(t){let r,i,s,a=[t[21],{type:"datetime"},{readOnly:t[15]},{class:t[18]},{name:t[13]},{disabled:t[8]},{placeholder:t[14]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[190](r),i||(s=[T(r,"blur",t[88]),T(r,"change",t[89]),T(r,"focus",t[90]),T(r,"input",t[91]),T(r,"keydown",t[92]),T(r,"keypress",t[93]),T(r,"keyup",t[94]),T(r,"input",t[189])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],{type:"datetime"},32768&t[0]&&{readOnly:e[15]},262144&t[0]&&{class:e[18]},8192&t[0]&&{name:e[13]},256&t[0]&&{disabled:e[8]},16384&t[0]&&{placeholder:e[14]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[190](null),i=!1,o(s)}}}function en(t){let r,i,s,a=[t[21],{class:t[18]},{type:"time"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[188](r),i||(s=[T(r,"blur",t[81]),T(r,"change",t[82]),T(r,"focus",t[83]),T(r,"input",t[84]),T(r,"keydown",t[85]),T(r,"keypress",t[86]),T(r,"keyup",t[87]),T(r,"input",t[187])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"time"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[188](null),i=!1,o(s)}}}function tn(t){let r,i,s,a=[t[21],{class:t[18]},{type:"date"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[186](r),i||(s=[T(r,"blur",t[74]),T(r,"change",t[75]),T(r,"focus",t[76]),T(r,"input",t[77]),T(r,"keydown",t[78]),T(r,"keypress",t[79]),T(r,"keyup",t[80]),T(r,"input",t[185])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"date"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[186](null),i=!1,o(s)}}}function nn(t){let r,i,s,a=[t[21],{class:t[18]},{type:"number"},{readOnly:t[15]},{name:t[13]},{disabled:t[8]},{placeholder:t[14]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[184](r),i||(s=[T(r,"blur",t[67]),T(r,"change",t[68]),T(r,"focus",t[69]),T(r,"input",t[70]),T(r,"keydown",t[71]),T(r,"keypress",t[72]),T(r,"keyup",t[73]),T(r,"input",t[183])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"number"},32768&t[0]&&{readOnly:e[15]},8192&t[0]&&{name:e[13]},256&t[0]&&{disabled:e[8]},16384&t[0]&&{placeholder:e[14]}])),64&t[0]&&I(r.value)!==e[6]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[184](null),i=!1,o(s)}}}function rn(t){let r,i,s,a=[t[21],{class:t[18]},{type:"url"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[182](r),i||(s=[T(r,"blur",t[60]),T(r,"change",t[61]),T(r,"focus",t[62]),T(r,"input",t[63]),T(r,"keydown",t[64]),T(r,"keypress",t[65]),T(r,"keyup",t[66]),T(r,"input",t[181])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"url"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[182](null),i=!1,o(s)}}}function on(e){let t,r,i,o,s;const a=[e[21],{class:e[7]},{size:e[0]},{type:e[16]},{disabled:e[8]},{invalid:e[10]},{label:e[11]},{name:e[13]},{placeholder:e[14]},{readonly:e[15]},{valid:e[17]}];function u(t){e[170](t)}function l(t){e[171](t)}function c(t){e[172](t)}let h={};for(let e=0;e<a.length;e+=1)h=n(h,a[e]);return void 0!==e[2]&&(h.checked=e[2]),void 0!==e[4]&&(h.group=e[4]),void 0!==e[6]&&(h.value=e[6]),t=new It({props:h}),G.push((()=>me(t,"checked",u))),G.push((()=>me(t,"group",l))),G.push((()=>me(t,"value",c))),e[173](t),t.$on("blur",e[174]),t.$on("change",e[175]),t.$on("focus",e[176]),t.$on("input",e[177]),t.$on("keydown",e[178]),t.$on("keypress",e[179]),t.$on("keyup",e[180]),{c(){ge(t.$$.fragment)},m(e,n){be(t,e,n),s=!0},p(e,n){const s=2354561&n[0]?ve(a,[2097152&n[0]&&ye(e[21]),128&n[0]&&{class:e[7]},1&n[0]&&{size:e[0]},65536&n[0]&&{type:e[16]},256&n[0]&&{disabled:e[8]},1024&n[0]&&{invalid:e[10]},2048&n[0]&&{label:e[11]},8192&n[0]&&{name:e[13]},16384&n[0]&&{placeholder:e[14]},32768&n[0]&&{readonly:e[15]},131072&n[0]&&{valid:e[17]}]):{};!r&&4&n[0]&&(r=!0,s.checked=e[2],te((()=>r=!1))),!i&&16&n[0]&&(i=!0,s.group=e[4],te((()=>i=!1))),!o&&64&n[0]&&(o=!0,s.value=e[6],te((()=>o=!1))),t.$set(s)},i(e){s||(pe(t.$$.fragment,e),s=!0)},o(e){de(t.$$.fragment,e),s=!1},d(n){e[173](null),we(t,n)}}}function sn(t){let r,i,s,a=[t[21],{class:t[18]},{type:"file"},{disabled:t[8]},{invalid:t[10]},{multiple:t[12]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{valid:t[17]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),t[169](r),i||(s=[T(r,"blur",t[53]),T(r,"change",t[54]),T(r,"focus",t[55]),T(r,"input",t[56]),T(r,"keydown",t[57]),T(r,"keypress",t[58]),T(r,"keyup",t[59]),T(r,"change",t[168])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"file"},256&t[0]&&{disabled:e[8]},1024&t[0]&&{invalid:e[10]},4096&t[0]&&{multiple:e[12]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},131072&t[0]&&{valid:e[17]}]))},i:e,o:e,d(e){e&&b(r),t[169](null),i=!1,o(s)}}}function an(t){let r,i,s,a=[t[21],{class:t[18]},{type:"email"},{disabled:t[8]},{multiple:t[12]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[167](r),i||(s=[T(r,"blur",t[46]),T(r,"change",t[47]),T(r,"focus",t[48]),T(r,"input",t[49]),T(r,"keydown",t[50]),T(r,"keypress",t[51]),T(r,"keyup",t[52]),T(r,"input",t[166])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"email"},256&t[0]&&{disabled:e[8]},4096&t[0]&&{multiple:e[12]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&r.value!==e[6]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[167](null),i=!1,o(s)}}}function un(t){let r,i,s,a=[t[21],{class:t[18]},{type:"color"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[165](r),i||(s=[T(r,"blur",t[39]),T(r,"change",t[40]),T(r,"focus",t[41]),T(r,"input",t[42]),T(r,"keydown",t[43]),T(r,"keypress",t[44]),T(r,"keyup",t[45]),T(r,"input",t[164])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"color"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]}])),64&t[0]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[165](null),i=!1,o(s)}}}function ln(t){let r,i,s,a=[t[21],{class:t[18]},{type:"password"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[163](r),i||(s=[T(r,"blur",t[32]),T(r,"change",t[33]),T(r,"focus",t[34]),T(r,"input",t[35]),T(r,"keydown",t[36]),T(r,"keypress",t[37]),T(r,"keyup",t[38]),T(r,"input",t[162])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"password"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&r.value!==e[6]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[163](null),i=!1,o(s)}}}function cn(t){let r,i,s,a=[t[21],{class:t[18]},{type:"text"},{disabled:t[8]},{name:t[13]},{placeholder:t[14]},{readOnly:t[15]},{size:t[1]}],u={};for(let e=0;e<a.length;e+=1)u=n(u,a[e]);return{c(){r=C("input"),S(r,u)},m(e,n){g(e,r,n),R(r,t[6]),t[161](r),i||(s=[T(r,"blur",t[25]),T(r,"change",t[26]),T(r,"focus",t[27]),T(r,"input",t[28]),T(r,"keydown",t[29]),T(r,"keypress",t[30]),T(r,"keyup",t[31]),T(r,"input",t[160])],i=!0)},p(e,t){S(r,u=ve(a,[2097152&t[0]&&e[21],262144&t[0]&&{class:e[18]},{type:"text"},256&t[0]&&{disabled:e[8]},8192&t[0]&&{name:e[13]},16384&t[0]&&{placeholder:e[14]},32768&t[0]&&{readOnly:e[15]},2&t[0]&&{size:e[1]}])),64&t[0]&&r.value!==e[6]&&R(r,e[6])},i:e,o:e,d(e){e&&b(r),t[161](null),i=!1,o(s)}}}function hn(e){let t,n,r,i,o;const s=[dn,pn],a=[];function u(e,n){return 512&n[0]&&(t=!!Array.isArray(e[9])),t?0:1}return n=u(e,[-1]),r=a[n]=s[n](e),{c(){r.c(),i=x()},m(e,t){a[n].m(e,t),g(e,i,t),o=!0},p(e,t){let o=n;n=u(e,t),n===o?a[n].p(e,t):(ce(),de(a[o],1,1,(()=>{a[o]=null})),he(),r=a[n],r?r.p(e,t):(r=a[n]=s[n](e),r.c()),pe(r,1),r.m(i.parentNode,i))},i(e){o||(pe(r),o=!0)},o(e){de(r),o=!1},d(e){a[n].d(e),e&&b(i)}}}function pn(e){let t,n;return t=new Nt({props:{valid:e[17],$$slots:{default:[fn]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.valid=e[17]),512&n[0]|8388608&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function dn(e){let t,n,r=e[9],i=[];for(let t=0;t<r.length;t+=1)i[t]=vn(Ut(e,r,t));const o=e=>de(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=x()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);g(e,t,r),n=!0},p(e,n){if(131584&n[0]){let s;for(r=e[9],s=0;s<r.length;s+=1){const o=Ut(e,r,s);i[s]?(i[s].p(o,n),pe(i[s],1)):(i[s]=vn(o),i[s].c(),pe(i[s],1),i[s].m(t.parentNode,t))}for(ce(),s=r.length;s<i.length;s+=1)o(s);he()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)pe(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)de(i[e]);n=!1},d(e){w(i,e),e&&b(t)}}}function fn(e){let t;return{c(){t=$(e[9])},m(e,n){g(e,t,n)},p(e,n){512&n[0]&&P(t,e[9])},d(e){e&&b(t)}}}function _n(e){let t,n=e[210]+"";return{c(){t=$(n)},m(e,n){g(e,t,n)},p(e,r){512&r[0]&&n!==(n=e[210]+"")&&P(t,n)},d(e){e&&b(t)}}}function vn(e){let t,n;return t=new Nt({props:{valid:e[17],$$slots:{default:[_n]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.valid=e[17]),512&n[0]|8388608&n[6]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function yn(e){let t,n,r,i,o;const s=[Bt,Wt,zt],a=[];function u(e,t){return"input"===e[19]?0:"textarea"===e[19]?1:"select"!==e[19]||e[12]?-1:2}~(t=u(e))&&(n=a[t]=s[t](e));let l=e[9]&&hn(e);return{c(){n&&n.c(),r=k(),l&&l.c(),i=x()},m(e,n){~t&&a[t].m(e,n),g(e,r,n),l&&l.m(e,n),g(e,i,n),o=!0},p(e,o){let c=t;t=u(e),t===c?~t&&a[t].p(e,o):(n&&(ce(),de(a[c],1,1,(()=>{a[c]=null})),he()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=s[t](e),n.c()),pe(n,1),n.m(r.parentNode,r)):n=null),e[9]?l?(l.p(e,o),512&o[0]&&pe(l,1)):(l=hn(e),l.c(),pe(l,1),l.m(i.parentNode,i)):l&&(ce(),de(l,1,1,(()=>{l=null})),he())},i(e){o||(pe(n),pe(l),o=!0)},o(e){de(n),de(l),o=!1},d(e){~t&&a[t].d(e),e&&b(r),l&&l.d(e),e&&b(i)}}}function mn(e,t,r){const i=["class","bsSize","checked","color","disabled","feedback","files","group","inner","invalid","label","multiple","name","placeholder","plaintext","readonly","size","type","valid","value"];let o,s,a=p(t,i),{$$slots:u={},$$scope:l}=t,{class:c=""}=t,{bsSize:d}=t,{checked:f=!1}=t,{color:_}=t,{disabled:v}=t,{feedback:y}=t,{files:m}=t,{group:g}=t,{inner:b}=t,{invalid:w=!1}=t,{label:C}=t,{multiple:$}=t,{name:k=""}=t,{placeholder:x=""}=t,{plaintext:T=!1}=t,{readonly:E}=t,{size:S}=t,{type:P="text"}=t,{valid:R=!1}=t,{value:N=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(21,a=p(t,i)),"class"in e&&r(7,c=e.class),"bsSize"in e&&r(0,d=e.bsSize),"checked"in e&&r(2,f=e.checked),"color"in e&&r(22,_=e.color),"disabled"in e&&r(8,v=e.disabled),"feedback"in e&&r(9,y=e.feedback),"files"in e&&r(3,m=e.files),"group"in e&&r(4,g=e.group),"inner"in e&&r(5,b=e.inner),"invalid"in e&&r(10,w=e.invalid),"label"in e&&r(11,C=e.label),"multiple"in e&&r(12,$=e.multiple),"name"in e&&r(13,k=e.name),"placeholder"in e&&r(14,x=e.placeholder),"plaintext"in e&&r(23,T=e.plaintext),"readonly"in e&&r(15,E=e.readonly),"size"in e&&r(1,S=e.size),"type"in e&&r(16,P=e.type),"valid"in e&&r(17,R=e.valid),"value"in e&&r(6,N=e.value),"$$scope"in e&&r(209,l=e.$$scope)},e.$$.update=()=>{if(12780675&e.$$.dirty[0]){const e=new RegExp("\\D","g");let t=!1,n="form-control";switch(r(19,s="input"),P){case"color":n="form-control form-control-color";break;case"range":n="form-range";break;case"select":n="form-select",r(19,s="select");break;case"textarea":r(19,s="textarea");break;case"button":case"reset":case"submit":n=`btn btn-${_||"secondary"}`,t=!0;break;case"hidden":case"image":n=void 0;break;default:n="form-control",r(19,s="input")}T&&(n=`${n}-plaintext`,r(19,s="input")),S&&e.test(S)&&(console.warn('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r(0,d=S),r(1,S=void 0)),r(18,o=qe(c,n,{"is-invalid":w,"is-valid":R,[`form-control-${d}`]:d&&!t,[`btn-${d}`]:d&&t}))}},[d,S,f,m,g,b,N,c,v,y,w,C,$,k,x,E,P,R,o,s,e=>{r(6,N=e.target.value)},a,_,T,u,function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){m=this.files,N=this.value,r(3,m),r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(e){f=e,r(2,f)},function(e){g=e,r(4,g)},function(e){N=e,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=I(this.value),r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=I(this.value),r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=this.value,r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},function(){N=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),r(6,N)},function(e){G[e?"unshift":"push"]((()=>{b=e,r(5,b)}))},l]}class gn extends $e{constructor(e){super(),Ce(this,e,mn,yn,a,{class:7,bsSize:0,checked:2,color:22,disabled:8,feedback:9,files:3,group:4,inner:5,invalid:10,label:11,multiple:12,name:13,placeholder:14,plaintext:23,readonly:15,size:1,type:16,valid:17,value:6},[-1,-1,-1,-1,-1,-1,-1])}}function bn(e){let t,r;const i=e[15].default,o=u(i,e,e[14],null);let s=[e[2],{class:e[1]},{for:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("label"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||16384&n)&&c(o,i,e,e[14],n,null,null),S(t,a=ve(s,[4&n&&e[2],(!r||2&n)&&{class:e[1]},(!r||1&n)&&{for:e[0]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function wn(e,t,r){let i;const o=["class","hidden","check","size","for","xs","sm","md","lg","xl","xxl","widths"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{hidden:c=!1}=t,{check:d=!1}=t,{size:f=""}=t,{for:_=null}=t,{xs:v=""}=t,{sm:y=""}=t,{md:m=""}=t,{lg:g=""}=t,{xl:b=""}=t,{xxl:w=""}=t;const C={xs:v,sm:y,md:m,lg:g,xl:b,xxl:w};let{widths:$=Object.keys(C)}=t;const k=[];return $.forEach((e=>{let n=t[e];if(!n&&""!==n)return;const r="xs"===e;let i;if(Le(n)){const t=r?"-":`-${e}-`;i=Fe(r,e,n.size),k.push(qe({[i]:n.size||""===n.size,[`order${t}${n.order}`]:n.order||0===n.order,[`offset${t}${n.offset}`]:n.offset||0===n.offset}))}else i=Fe(r,e,n),k.push(i)})),e.$$set=e=>{r(18,t=n(n({},t),h(e))),r(2,s=p(t,o)),"class"in e&&r(3,l=e.class),"hidden"in e&&r(4,c=e.hidden),"check"in e&&r(5,d=e.check),"size"in e&&r(6,f=e.size),"for"in e&&r(0,_=e.for),"xs"in e&&r(7,v=e.xs),"sm"in e&&r(8,y=e.sm),"md"in e&&r(9,m=e.md),"lg"in e&&r(10,g=e.lg),"xl"in e&&r(11,b=e.xl),"xxl"in e&&r(12,w=e.xxl),"widths"in e&&r(13,$=e.widths),"$$scope"in e&&r(14,u=e.$$scope)},e.$$.update=()=>{120&e.$$.dirty&&r(1,i=qe(l,!!c&&"visually-hidden",!!d&&"form-check-label",!!f&&`col-form-label-${f}`,k,k.length?"col-form-label":"form-label"))},t=h(t),[_,i,s,l,c,d,f,v,y,m,g,b,w,$,u,a]}class Cn extends $e{constructor(e){super(),Ce(this,e,wn,bn,a,{class:3,hidden:4,check:5,size:6,for:0,xs:7,sm:8,md:9,lg:10,xl:11,xxl:12,widths:13})}}function $n(e){let t,r;const i=e[12].default,o=u(i,e,e[11],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("ul"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||2048&n)&&c(o,i,e,e[11],n,null,null),S(t,a=ve(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function kn(e,t,r){let i;const o=["class","tabs","pills","vertical","horizontal","justified","fill","navbar","card"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{tabs:c=!1}=t,{pills:d=!1}=t,{vertical:f=!1}=t,{horizontal:_=""}=t,{justified:v=!1}=t,{fill:y=!1}=t,{navbar:m=!1}=t,{card:g=!1}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"tabs"in e&&r(3,c=e.tabs),"pills"in e&&r(4,d=e.pills),"vertical"in e&&r(5,f=e.vertical),"horizontal"in e&&r(6,_=e.horizontal),"justified"in e&&r(7,v=e.justified),"fill"in e&&r(8,y=e.fill),"navbar"in e&&r(9,m=e.navbar),"card"in e&&r(10,g=e.card),"$$scope"in e&&r(11,u=e.$$scope)},e.$$.update=()=>{2044&e.$$.dirty&&r(0,i=qe(l,m?"navbar-nav":"nav",!!_&&`justify-content-${_}`,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":`flex-${e}-column`)}(f),{"nav-tabs":c,"card-header-tabs":g&&c,"nav-pills":d,"card-header-pills":g&&d,"nav-justified":v,"nav-fill":y}))},[i,s,l,c,d,f,_,v,y,m,g,u,a]}class xn extends $e{constructor(e){super(),Ce(this,e,kn,$n,a,{class:2,tabs:3,pills:4,vertical:5,horizontal:6,justified:7,fill:8,navbar:9,card:10})}}function Tn(e){let t;const n=e[10].default,r=u(n,e,e[11],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||2048&i)&&c(r,n,e,e[11],i,null,null)},i(e){t||(pe(r,e),t=!0)},o(e){de(r,e),t=!1},d(e){r&&r.d(e)}}}function En(e){let t,n;return t=new bt({props:{fluid:"fluid"===e[0],$$slots:{default:[Sn]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.fluid="fluid"===e[0]),2048&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function Sn(e){let t;const n=e[10].default,r=u(n,e,e[11],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||2048&i)&&c(r,n,e,e[11],i,null,null)},i(e){t||(pe(r,e),t=!0)},o(e){de(r,e),t=!1},d(e){r&&r.d(e)}}}function In(e){let t,r,i,o;const s=[En,Tn],a=[];function u(e,t){return e[0]?0:1}r=u(e),i=a[r]=s[r](e);let l=[e[2],{class:e[1]}],c={};for(let e=0;e<l.length;e+=1)c=n(c,l[e]);return{c(){t=C("nav"),i.c(),S(t,c)},m(e,n){g(e,t,n),a[r].m(t,null),o=!0},p(e,[n]){let h=r;r=u(e),r===h?a[r].p(e,n):(ce(),de(a[h],1,1,(()=>{a[h]=null})),he(),i=a[r],i?i.p(e,n):(i=a[r]=s[r](e),i.c()),pe(i,1),i.m(t,null)),S(t,c=ve(l,[4&n&&e[2],(!o||2&n)&&{class:e[1]}]))},i(e){o||(pe(i),o=!0)},o(e){de(i),o=!1},d(e){e&&b(t),a[r].d()}}}function Pn(e,t,r){let i;const o=["class","container","color","dark","expand","fixed","light","sticky"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{container:c="fluid"}=t,{color:d=""}=t,{dark:f=!1}=t,{expand:_=""}=t,{fixed:v=""}=t,{light:y=!1}=t,{sticky:m=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(2,s=p(t,o)),"class"in e&&r(3,l=e.class),"container"in e&&r(0,c=e.container),"color"in e&&r(4,d=e.color),"dark"in e&&r(5,f=e.dark),"expand"in e&&r(6,_=e.expand),"fixed"in e&&r(7,v=e.fixed),"light"in e&&r(8,y=e.light),"sticky"in e&&r(9,m=e.sticky),"$$scope"in e&&r(11,u=e.$$scope)},e.$$.update=()=>{1016&e.$$.dirty&&r(1,i=qe(l,"navbar",function(e){return!1!==e&&(!0===e||"xs"===e?"navbar-expand":`navbar-expand-${e}`)}(_),{"navbar-light":y,"navbar-dark":f,[`bg-${d}`]:d,[`fixed-${v}`]:v,[`sticky-${m}`]:m}))},[c,i,s,l,d,f,_,v,y,m,a,u]}class Rn extends $e{constructor(e){super(),Ce(this,e,Pn,In,a,{class:3,container:0,color:4,dark:5,expand:6,fixed:7,light:8,sticky:9})}}function Nn(e){let t,r;const i=e[5].default,o=u(i,e,e[4],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("li"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||16&n)&&c(o,i,e,e[4],n,null,null),S(t,a=ve(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function On(e,t,r){let i;const o=["class","active"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{active:c=!1}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"active"in e&&r(3,c=e.active),"$$scope"in e&&r(4,u=e.$$scope)},e.$$.update=()=>{12&e.$$.dirty&&r(0,i=qe(l,"nav-item",!!c&&"active"))},[i,s,l,c,u,a]}class An extends $e{constructor(e){super(),Ce(this,e,On,Nn,a,{class:2,active:3})}}function Dn(e){let t,r,i,s;const a=e[8].default,l=u(a,e,e[7],null);let h=[e[3],{href:e[0]},{class:e[1]}],p={};for(let e=0;e<h.length;e+=1)p=n(p,h[e]);return{c(){t=C("a"),l&&l.c(),S(t,p)},m(n,o){g(n,t,o),l&&l.m(t,null),r=!0,i||(s=[T(t,"click",e[9]),T(t,"click",e[2])],i=!0)},p(e,[n]){l&&l.p&&(!r||128&n)&&c(l,a,e,e[7],n,null,null),S(t,p=ve(h,[8&n&&e[3],(!r||1&n)&&{href:e[0]},(!r||2&n)&&{class:e[1]}]))},i(e){r||(pe(l,e),r=!0)},o(e){de(l,e),r=!1},d(e){e&&b(t),l&&l.d(e),i=!1,o(s)}}}function Ln(e,t,r){let i;const o=["class","disabled","active","href"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{disabled:c=!1}=t,{active:d=!1}=t,{href:f="#"}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(3,s=p(t,o)),"class"in e&&r(4,l=e.class),"disabled"in e&&r(5,c=e.disabled),"active"in e&&r(6,d=e.active),"href"in e&&r(0,f=e.href),"$$scope"in e&&r(7,u=e.$$scope)},e.$$.update=()=>{112&e.$$.dirty&&r(1,i=qe(l,"nav-link",{disabled:c,active:d}))},[f,i,function(e){if(c)return e.preventDefault(),void e.stopImmediatePropagation();"#"===f&&e.preventDefault()},s,l,c,d,u,a,function(t){V(e,t)}]}class Fn extends $e{constructor(e){super(),Ce(this,e,Ln,Dn,a,{class:4,disabled:5,active:6,href:0})}}function Mn(e){let t,r,i,o;const s=e[5].default,a=u(s,e,e[4],null);let l=[e[2],{class:e[1]},{href:e[0]}],h={};for(let e=0;e<l.length;e+=1)h=n(h,l[e]);return{c(){t=C("a"),a&&a.c(),S(t,h)},m(n,s){g(n,t,s),a&&a.m(t,null),r=!0,i||(o=T(t,"click",e[6]),i=!0)},p(e,[n]){a&&a.p&&(!r||16&n)&&c(a,s,e,e[4],n,null,null),S(t,h=ve(l,[4&n&&e[2],(!r||2&n)&&{class:e[1]},(!r||1&n)&&{href:e[0]}]))},i(e){r||(pe(a,e),r=!0)},o(e){de(a,e),r=!1},d(e){e&&b(t),a&&a.d(e),i=!1,o()}}}function qn(e,t,r){let i;const o=["class","href"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{href:c="/"}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(2,s=p(t,o)),"class"in e&&r(3,l=e.class),"href"in e&&r(0,c=e.href),"$$scope"in e&&r(4,u=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&r(1,i=qe(l,"navbar-brand"))},[c,i,s,l,u,a,function(t){V(e,t)}]}class jn extends $e{constructor(e){super(),Ce(this,e,qn,Mn,a,{class:3,href:0})}}function Un(e){let t;const n=e[3].default,r=u(n,e,e[5],null),i=r||function(e){let t;return{c(){t=C("span"),E(t,"class","navbar-toggler-icon")},m(e,n){g(e,t,n)},d(e){e&&b(t)}}}();return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,i){r&&r.p&&(!t||32&i)&&c(r,n,e,e[5],i,null,null)},i(e){t||(pe(i,e),t=!0)},o(e){de(i,e),t=!1},d(e){i&&i.d(e)}}}function zn(e){let t,r;const i=[e[1],{class:e[0]}];let o={$$slots:{default:[Un]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)o=n(o,i[e]);return t=new nt({props:o}),t.$on("click",e[4]),{c(){ge(t.$$.fragment)},m(e,n){be(t,e,n),r=!0},p(e,[n]){const r=3&n?ve(i,[2&n&&ye(e[1]),1&n&&{class:e[0]}]):{};32&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){r||(pe(t.$$.fragment,e),r=!0)},o(e){de(t.$$.fragment,e),r=!1},d(e){we(t,e)}}}function Wn(e,t,r){let i;const o=["class"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"$$scope"in e&&r(5,u=e.$$scope)},e.$$.update=()=>{4&e.$$.dirty&&r(0,i=qe(l,"navbar-toggler"))},[i,s,l,a,function(t){V(e,t)},u]}class Bn extends $e{constructor(e){super(),Ce(this,e,Wn,zn,a,{class:2})}}function Hn(e){let t,r;const i=e[7].default,o=u(i,e,e[6],null);let s=[e[1],{class:e[0]}],a={};for(let e=0;e<s.length;e+=1)a=n(a,s[e]);return{c(){t=C("div"),o&&o.c(),S(t,a)},m(e,n){g(e,t,n),o&&o.m(t,null),r=!0},p(e,[n]){o&&o.p&&(!r||64&n)&&c(o,i,e,e[6],n,null,null),S(t,a=ve(s,[2&n&&e[1],(!r||1&n)&&{class:e[0]}]))},i(e){r||(pe(o,e),r=!0)},o(e){de(o,e),r=!1},d(e){e&&b(t),o&&o.d(e)}}}function Vn(e,t,r){let i;const o=["class","noGutters","form","cols"];let s=p(t,o),{$$slots:a={},$$scope:u}=t,{class:l=""}=t,{noGutters:c=!1}=t,{form:d=!1}=t,{cols:f=0}=t;return e.$$set=e=>{t=n(n({},t),h(e)),r(1,s=p(t,o)),"class"in e&&r(2,l=e.class),"noGutters"in e&&r(3,c=e.noGutters),"form"in e&&r(4,d=e.form),"cols"in e&&r(5,f=e.cols),"$$scope"in e&&r(6,u=e.$$scope)},e.$$.update=()=>{60&e.$$.dirty&&r(0,i=qe(l,c?"gx-0":null,d?"form-row":"row",...function(e){const t=parseInt(e);if(isNaN(t)){if("object"==typeof e)return["xs","sm","md","lg","xl"].map((t=>{const n="xs"===t?"-":`-${t}-`,r=e[t];return"number"==typeof r&&r>0?`row-cols${n}${r}`:null})).filter((e=>!!e))}else if(t>0)return[`row-cols-${t}`];return[]}(f)))},[i,s,l,c,d,f,u,a]}class Qn extends $e{constructor(e){super(),Ce(this,e,Vn,Hn,a,{class:2,noGutters:3,form:4,cols:5})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Gn=function(e,t){return(Gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function Yn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Gn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Kn=function(){return(Kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Xn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Jn(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Zn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function er(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function tr(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var nr=!1,rr="${JSCORE_VERSION}",ir=function(e,t){if(!e)throw or(t)},or=function(e){return new Error("Firebase Database ("+rr+") INTERNAL ASSERT FAILED: "+e)},sr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ar={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|a>>4,p=(15&a)<<2|l>>6,d=63&l;u||(d=64,s||(p=64)),r.push(n[c],n[h],n[p],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(sr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var l=o<<2|s>>4;if(r.push(l),64!==a){var c=s<<4&240|a>>2;if(r.push(c),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ur=function(e){try{return ar.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function lr(e){return cr(void 0,e)}function cr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=cr(e[n],t[n]));return e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var hr=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function pr(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function dr(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function fr(){return!0===nr}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _r=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,vr.prototype.create),o}return Yn(t,e),t}(Error),vr=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?yr(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new _r(i,a,r);return u},e}();function yr(e,t){return e.replace(mr,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var mr=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function gr(e){return JSON.parse(e)}function br(e){return JSON.stringify(e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var wr=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=gr(ur(o[0])||""),n=gr(ur(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Cr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $r(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function kr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xr(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Tr=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),s=1518500249):(o=u^l^c,s=1859775393):r<60?(o=u&l|c&(u|l),s=2400959708):(o=u^l^c,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function Er(e,t){var n=new Sr(e,t);return n.subscribe.bind(n)}var Sr=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ir),void 0===r.error&&(r.error=Ir),void 0===r.complete&&(r.complete=Ir);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Ir(){}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Pr=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Rr(e,t){return e+" failed: "+t+" argument "}function Nr(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Rr(e,t)+"must be a valid function.")}function Or(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Rr(e,t)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ar=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Dr(e){return e&&e._delegate?e._delegate:e}var Lr=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Fr="[DEFAULT]",Mr=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=Fr);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new hr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=Kn({identifier:Fr,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch(e){}try{for(var r=Zn(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=er(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService({instanceIdentifier:u});a.resolve(l)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Fr),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Xn(this,void 0,void 0,(function(){var e;return Jn(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(tr(tr([],er(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),er(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Fr),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?Fr:r,o=e.options,s=void 0===o?{}:o,a=this.normalizeInstanceIdentifier(i);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:a,options:s});try{for(var l=Zn(this.instancesDeferred.entries()),c=l.next();!c.done;c=l.next()){var h=er(c.value,2),p=h[0],d=h[1];a===this.normalizeInstanceIdentifier(p)&&d.resolve(u)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(u,a),u},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var i=Zn(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var s=o.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Fr?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Fr:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var qr,jr=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Mr(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Ur(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zr,Wr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zr||(zr={}));var Br,Hr={debug:zr.DEBUG,verbose:zr.VERBOSE,info:zr.INFO,warn:zr.WARN,error:zr.ERROR,silent:zr.SILENT},Vr=zr.INFO,Qr=((qr={})[zr.DEBUG]="log",qr[zr.VERBOSE]="log",qr[zr.INFO]="info",qr[zr.WARN]="warn",qr[zr.ERROR]="error",qr),Gr=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=Qr[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Ur(["["+i+"]  "+e.name+":"],n))}},Yr=function(){function e(e){this.name=e,this._logLevel=Vr,this._logHandler=Gr,this._userLogHandler=null,Wr.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in zr))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?Hr[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ur([this,zr.DEBUG],e)),this._logHandler.apply(this,Ur([this,zr.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ur([this,zr.VERBOSE],e)),this._logHandler.apply(this,Ur([this,zr.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ur([this,zr.INFO],e)),this._logHandler.apply(this,Ur([this,zr.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ur([this,zr.WARN],e)),this._logHandler.apply(this,Ur([this,zr.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Ur([this,zr.ERROR],e)),this._logHandler.apply(this,Ur([this,zr.ERROR],e))},e}();function Kr(e){Wr.forEach((function(t){t.setLogLevel(e)}))}var Xr,Jr=((Br={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Br["bad-app-name"]="Illegal App name: '{$appName}",Br["duplicate-app"]="Firebase App named '{$appName}' already exists",Br["app-deleted"]="Firebase App named '{$appName}' already deleted",Br["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Br["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Br),Zr=new vr("app","Firebase",Jr),ei="@firebase/app",ti="[DEFAULT]",ni=((Xr={})[ei]="fire-core",Xr["@firebase/analytics"]="fire-analytics",Xr["@firebase/app-check"]="fire-app-check",Xr["@firebase/auth"]="fire-auth",Xr["@firebase/database"]="fire-rtdb",Xr["@firebase/functions"]="fire-fn",Xr["@firebase/installations"]="fire-iid",Xr["@firebase/messaging"]="fire-fcm",Xr["@firebase/performance"]="fire-perf",Xr["@firebase/remote-config"]="fire-rc",Xr["@firebase/storage"]="fire-gcs",Xr["@firebase/firestore"]="fire-fst",Xr["fire-js"]="fire-js",Xr["firebase-wrapper"]="fire-js-all",Xr),ri=new Yr("@firebase/app"),ii=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=lr(e),this.container=new jr(t.name),this._addComponent(new Lr("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=ti),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=ti),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){ri.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Zr.create("app-deleted",{appName:this.name_})},e}();ii.prototype.name&&ii.prototype.options||ii.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function oi(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=ti);var s=o.name;if("string"!=typeof s||!s)throw Zr.create("bad-app-name",{appName:String(s)});if(Cr(t,s))throw Zr.create("duplicate-app",{appName:s});var a=new e(n,o,r);return t[s]=a,a},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=ni[e])&&void 0!==r?r:e;n&&(i+="-"+n);var s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void ri.warn(u.join(" "))}o(new Lr(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:Kr,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw Zr.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Hr[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:zr[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=Wr;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!Cr(t,e=e||ti))throw Zr.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return ri.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var a=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[s])throw Zr.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&cr(a,o.serviceProps),r[s]=a,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,l=Object.keys(t);u<l.length;u++){var c=l[u];t[c]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var si=function e(){var t=oi(ii);return t.INTERNAL=Kn(Kn({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){cr(t,e)},createSubscribe:Er,ErrorFactory:vr,deepExtend:cr}),t}(),ai=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){ri.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ui=self.firebase.SDK_VERSION;ui&&ui.indexOf("LITE")>=0&&ri.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var li=si.initializeApp;si.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dr()&&ri.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),li.apply(void 0,e)};var ci=si;!function(e,t){e.INTERNAL.registerComponent(new Lr("platform-logger",(function(e){return new ai(e)}),"PRIVATE")),e.registerVersion(ei,"0.6.22",t),e.registerVersion("fire-js","")}(ci);
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
ci.registerVersion("firebase","8.6.2","app");var hi="";function pi(e){hi=e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var di,fi=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),br(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:gr(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),_i=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Cr(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),vi=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fi(t)}}catch(e){}return new _i},yi=vi("localStorage"),mi=vi("sessionStorage"),gi=new Yr("@firebase/database"),bi=(di=1,function(){return di++}),wi=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,ir(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Tr;n.update(t);var r=n.digest();return ar.encodeByteArray(r)},Ci=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Ci.apply(null,i):n+="object"==typeof i?br(i):i,n+=" "}return n},$i=null,ki=!0,xi=function(e,t){ir(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(gi.logLevel=zr.VERBOSE,$i=gi.log.bind(gi),t&&mi.set("logging_enabled",!0)):"function"==typeof e?$i=e:($i=null,mi.remove("logging_enabled"))},Ti=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===ki&&(ki=!1,null===$i&&!0===mi.get("logging_enabled")&&xi(!0)),$i){var n=Ci.apply(null,e);$i(n)}},Ei=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Ti.apply(void 0,tr([e],er(t)))}},Si=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Ci.apply(void 0,tr([],er(e)));gi.error(n)},Ii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Ci.apply(void 0,tr([],er(e)));throw gi.error(n),new Error(n)},Pi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Ci.apply(void 0,tr([],er(e)));gi.warn(n)},Ri=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ni="[MIN_NAME]",Oi="[MAX_NAME]",Ai=function(e,t){if(e===t)return 0;if(e===Ni||t===Oi)return-1;if(t===Ni||e===Oi)return 1;var n=Bi(e),r=Bi(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Di=function(e,t){return e===t?0:e<t?-1:1},Li=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+br(t))},Fi=function(e){if("object"!=typeof e||null===e)return br(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=br(t[i]),r+=":",r+=Fi(e[t[i]]);return r+="}"},Mi=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qi(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var ji=function(e){ir(!Ri(e),"Invalid JSON number");var t,n,r,i,o,s=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();var u=a.join(""),l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var Ui=new RegExp("^-?(0*)\\d{1,10}$"),zi=-2147483648,Wi=2147483647,Bi=function(e){if(Ui.test(e)){var t=Number(e);if(t>=zi&&t<=Wi)return t}return null},Hi=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw Pi("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Vi=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},Qi=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){Pi('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),Gi=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Ti("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pi(e)},e}(),Yi=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),Ki=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xi="websocket",Ji="long_polling",Zi=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yi.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yi.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function eo(e,t,n){var r;if(ir("string"==typeof t,"typeof type must == string"),ir("object"==typeof n,"typeof params must == object"),t===Xi)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Ji)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return qi(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var to=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Cr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return lr(this.counters_)},e}(),no={},ro={};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function io(e){var t=e.toString();return no[t]||(no[t]=new to),no[t]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var oo=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&Hi((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),so="start",ao="close",uo=function(){function e(e,t,n,r,i,o,s){var a=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ei(e),this.stats_=io(t),this.urlFn=function(e){return a.appCheckToken&&(e.ac=a.appCheckToken),eo(t,Ji,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new oo(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new lo((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=er(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===so)n.id=o,n.password=s;else{if(i!==ao)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=er(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&Ki.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=br(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n,r=(n=sr(t),ar.encodeByteArray(n,!0)),i=Mi(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(e){var t=br(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),lo=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=bi(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){Ti("frame writing exception"),e.stack&&Ti(e.stack),Ti(e)}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ti("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Ti("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),co=null;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */"undefined"!=typeof MozWebSocket?co=MozWebSocket:"undefined"!=typeof WebSocket&&(co=WebSocket);var ho=function(){function e(t,n,r,i,o,s,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ei(this.connId),this.stats_=io(n),this.connURL=e.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&Ki.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),eo(e,Xi,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yi.set("previous_websocket_failure",!0);try{if(fr());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new co(this.connURL,[],r)}}catch(e){this.log_("Error instantiating WebSocket.");var i=e.message||e.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==co&&!e.forceDisallow_},e.previouslyFailed=function(){return yi.isInMemoryStorage||!0===yi.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){yi.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=gr(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(ir(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=br(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Mi(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),po=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[uo,ho]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ho&&ho.isAvailable(),o=i&&!ho.previouslyFailed();if(t.webSocketOnly&&(i||Pi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ho];else{var s=this.transports_=[];try{for(var a=Zn(e.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var l=u.value;l&&l.isAvailable()&&s.push(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),fo=function(){function e(e,t,n,r,i,o,s,a,u,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ei("c:"+this.id+":"),this.transportManager_=new po(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Vi((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=Li("t",e),n=Li("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=Li("t",e),n=Li("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=Li("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Si("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Si("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Pi("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Vi((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vi((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),_o=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),vo=function(){function e(e){this.allowedEvents_=e,this.listeners_={},ir(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=tr([],er(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){ir(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),yo=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||pr()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Yn(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return ir("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(vo),mo=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function go(){return new mo("")}function bo(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function wo(e){return e.pieces_.length-e.pieceNum_}function Co(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new mo(e.pieces_,t)}function $o(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ko(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function xo(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new mo(t,0)}function To(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof mo)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new mo(n,0)}function Eo(e){return e.pieceNum_>=e.pieces_.length}function So(e,t){var n=bo(e),r=bo(t);if(null===n)return t;if(n===r)return So(Co(e),Co(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Io(e,t){for(var n=ko(e,0),r=ko(t,0),i=0;i<n.length&&i<r.length;i++){var o=Ai(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Po(e,t){if(wo(e)!==wo(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ro(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(wo(e)>wo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var No=function(e,t){this.errorPrefix_=t,this.parts_=ko(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Ar(this.parts_[n]);Oo(this)};function Oo(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ao(e))}function Ao(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Do,Lo,Fo=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Yn(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return ir("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(vo),Mo=1e3,qo=function(e){function t(n,r,i,o,s,a,u,l){var c=e.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=s,c.authTokenProvider_=a,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=t.nextPersistentConnectionId_++,c.log_=Ei("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Mo,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!fr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Fo.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&yo.getInstance().on("online",c.onOnline_,c),c}return Yn(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(br(i)),ir(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new hr,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ir(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ir(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};e.tag&&(s.q=r._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;t.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&Cr(e,"w")){var n=$r(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Pi("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t;(e&&40===e.length||"object"==typeof(t=wr(e).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e,t=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(e=wr(n).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(e){var r=e.s,i=e.d||"error";t.authToken_===n&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ir(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+br(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Si("Unrecognized action received from server: "+br(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;ir(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Mo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Mo),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Xn(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,l,c,h,p,d,f,_=this;return Jn(this,(function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,s=!1,a=null,u=function(){a?a.close():(s=!0,r())},l=function(e){ir(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)},this.realtime_={close:u,sendRequest:l},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)])];case 2:return h=er.apply(void 0,[v.sent(),2]),p=h[0],d=h[1],s?Ti("getToken() completed but was canceled"):(Ti("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=d&&d.token,a=new fo(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){Pi(e+" ("+_.repoInfo_.toString()+")"),_.interrupt("server_kill")}),o)),[3,4];case 3:return f=v.sent(),this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&Pi(f),u()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){Ti("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){Ti("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kr(this.interruptReasons_)&&(this.reconnectDelay_=Mo,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return Fi(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new mo(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){Ti("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){Ti("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Zn(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,Zn(s.values())),u=a.next();!u.done;u=a.next()){var l=u.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},t.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+hi.replace(/\./g,"-")]=1,pr()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=yo.getInstance().currentlyOnline();return kr(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(_o),jo=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Uo=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new jo(Ni,e),r=new jo(Ni,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return jo.MIN},e}(),zo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Do},set:function(e){Do=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return Ai(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw or("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return jo.MIN},t.prototype.maxPost=function(){return new jo(Oi,Do)},t.prototype.makePost=function(e,t){return ir("string"==typeof e,"KeyIndex indexValue must always be a string."),new jo(e,Do)},t.prototype.toString=function(){return".key"},t}(Uo),Wo=new zo,Bo=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ho=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Qo.EMPTY_NODE,this.right=null!=o?o:Qo.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Qo.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Qo.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Vo=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ho(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Qo=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ho.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ho.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Bo(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Bo(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Bo(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Bo(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Vo,e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Go(e,t){return Ai(e.name,t.name)}function Yo(e,t){return Ai(e,t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ko,Xo,Jo,Zo=function(e){return"number"==typeof e?"number:"+ji(e):"string:"+e},es=function(e){if(e.isLeafNode()){var t=e.val();ir("string"==typeof t||"number"==typeof t||"object"==typeof t&&Cr(t,".sv"),"Priority must be a string or number.")}else ir(e===Lo||e.isEmpty(),"priority of unexpected type.");ir(e===Lo||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ts=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ir(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),es(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ko},set:function(e){Ko=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Eo(t)?this:".priority"===bo(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=bo(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ir(".priority"!==r||1===wo(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Co(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Zo(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?ji(this.value_):this.value_,this.lazyHash_=wi(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ir(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return ir(i>=0,"Unknown leaf type: "+n),ir(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var ns,rs,is=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Ai(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return jo.MIN},t.prototype.maxPost=function(){return new jo(Oi,new ts("[PRIORITY-POST]",Jo))},t.prototype.makePost=function(e,t){var n=Xo(e);return new jo(t,new ts("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Uo)),os=Math.log(2),ss=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/os,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),as=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,s,a=r-t;if(0===a)return null;if(1===a)return o=e[t],s=n?n(o):o,new Ho(s,o.node,Ho.BLACK,null,null);var u=parseInt(a/2,10)+t,l=i(t,u),c=i(u+1,r);return o=e[u],s=n?n(o):o,new Ho(s,o.node,Ho.BLACK,l,c)},o=function(t){for(var r=null,o=null,s=e.length,a=function(t,r){var o=s-t,a=s;s-=t;var l=i(o+1,a),c=e[o],h=n?n(c):c;u(new Ho(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?a(h,Ho.BLACK):(a(h,Ho.BLACK),a(h,Ho.RED))}return o}(new ss(e.length));return new Qo(r||t,o)},us={},ls=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return ir(us&&is,"ChildrenNode.ts has not been loaded"),ns=ns||new e({".priority":us},{".priority":is})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=$r(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qo?t:null},e.prototype.hasIndex=function(e){return Cr(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){ir(t!==Wo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(jo.Wrap),a=s.getNext();a;)o=o||t.isDefinedOn(a.node),i.push(a),a=s.getNext();r=o?as(i,t.getCompare()):us;var u=t.toString(),l=Kn({},this.indexSet_);l[u]=t;var c=Kn({},this.indexes_);return c[u]=r,new e(c,l)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(xr(this.indexes_,(function(e,i){var o=$r(r.indexSet_,i);if(ir(o,"Missing index implementation for "+i),e===us){if(o.isDefinedOn(t.node)){for(var s=[],a=n.getIterator(jo.Wrap),u=a.getNext();u;)u.name!==t.name&&s.push(u),u=a.getNext();return s.push(t),as(s,o.getCompare())}return us}var l=n.get(t.name),c=e;return l&&(c=c.remove(new jo(t.name,l))),c.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(xr(this.indexes_,(function(e){if(e===us)return e;var r=n.get(t.name);return r?e.remove(new jo(t.name,r)):e})),this.indexSet_)},e}(),cs=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&es(this.priorityNode_),this.children_.isEmpty()&&ir(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return rs||(rs=new e(new Qo(Yo),null,ls.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||rs},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?rs:t},e.prototype.getChild=function(e){var t=bo(e);return null===t?this:this.getImmediateChild(t).getChild(Co(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(ir(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new jo(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?rs:this.priorityNode_;return new e(i,s,o)},e.prototype.updateChild=function(e,t){var n=bo(e);if(null===n)return t;ir(".priority"!==bo(e)||1===wo(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Co(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(is,(function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Zo(this.getPriority().val())+":"),this.forEachChild(is,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":wi(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new jo(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new jo(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new jo(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,jo.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,jo.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hs?-1:0},e.prototype.withIndex=function(t){if(t===Wo||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Wo||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(is),r=t.getIterator(is),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Wo?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),hs=new(function(e){function t(){return e.call(this,new Qo(Yo),cs.EMPTY_NODE,ls.Default)||this}return Yn(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return cs.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(cs));Object.defineProperties(jo,{MIN:{value:new jo(Ni,cs.EMPTY_NODE)},MAX:{value:new jo(Oi,hs)}}),zo.__EMPTY_NODE=cs.EMPTY_NODE,ts.__childrenNodeConstructor=cs,Lo=hs,function(e){Jo=e}(hs);function ps(e,t){if(void 0===t&&(t=null),null===e)return cs.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),ir(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new ts(e,ps(t));if(e instanceof Array){var n=cs.EMPTY_NODE;return qi(e,(function(t,r){if(Cr(e,t)&&"."!==t.substring(0,1)){var i=ps(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ps(t))}var r=[],i=!1;if(qi(e,(function(e,t){if("."!==e.substring(0,1)){var n=ps(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new jo(e,n)))}})),0===r.length)return cs.EMPTY_NODE;var o=as(r,Go,(function(e){return e.name}),Yo);if(i){var s=as(r,is.getCompare());return new cs(o,ps(t),new ls({".priority":s},{".priority":is}))}return new cs(o,ps(t),ls.Default)}!function(e){Xo=e}(ps);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var ds,fs,_s=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,ir(!Eo(t)&&".priority"!==bo(t),"Can't create PathIndex with empty path or .priority key"),n}return Yn(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Ai(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ps(e),r=cs.EMPTY_NODE.updateChild(this.indexPath_,n);return new jo(t,r)},t.prototype.maxPost=function(){var e=cs.EMPTY_NODE.updateChild(this.indexPath_,hs);return new jo(Oi,e)},t.prototype.toString=function(){return ko(this.indexPath_,0).join("/")},t}(Uo),vs=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?Ai(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return jo.MIN},t.prototype.maxPost=function(){return jo.MAX},t.prototype.makePost=function(e,t){var n=ps(e);return new jo(t,n)},t.prototype.toString=function(){return".value"},t}(Uo)),ys="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ms=(ds=0,fs=[],function(e){var t,n=e===ds;ds=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=ys.charAt(e%64),e=Math.floor(e/64);ir(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===fs[t];t--)fs[t]=0;fs[t]++}else for(t=0;t<12;t++)fs[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=ys.charAt(fs[t]);return ir(20===i.length,"nextPushId: Length should be 20."),i}),gs=function(e){if("2147483647"===e)return"-";var t=Bi(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return Oi;var o=n[i],s=ys.charAt(ys.indexOf(o)+1);return n[i]=s,n.slice(0,i+1).join("")},bs=function(e){if("-2147483648"===e)return Ni;var t=Bi(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=ys.charAt(ys.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ws(e){return{type:"value",snapshotNode:e}}function Cs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function $s(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ks(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var xs=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){ir(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange($s(t,s)):ir(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Cs(t,n)):o.trackChildChange(ks(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(is,(function(e,r){t.hasChild(e)||n.trackChildChange($s(e,r))})),t.isLeafNode()||t.forEachChild(is,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ks(t,r,i))}else n.trackChildChange(Cs(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?cs.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Ts=function(){function e(t){this.indexedFilter_=new xs(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new jo(t,n))||(n=cs.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=cs.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(cs.EMPTY_NODE);var i=this;return t.forEachChild(is,(function(e,t){i.matches(new jo(e,t))||(r=r.updateImmediateChild(e,cs.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Es=function(){function e(e){this.rangedFilter_=new Ts(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new jo(t,n))||(n=cs.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=cs.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=cs.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(cs.EMPTY_NODE);var a=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){s=i.getNext();!h&&l(a,s)<=0&&(h=!0),h&&o<this.limit_&&l(s,u)<=0?o++:r=r.updateImmediateChild(s.name,cs.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(e,t){return s(t,e)}}else o=this.index_.getCompare();var a=e;ir(a.numChildren()===this.limit_,"");var u=new jo(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(a.hasChild(t)){for(var h=a.getImmediateChild(t),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===t||a.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:o(p,u);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(ks(t,n,h)),a.updateImmediateChild(t,n);null!=i&&i.trackChildChange($s(t,h));var f=a.updateImmediateChild(t,cs.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(Cs(p.name,p.node)),f.updateImmediateChild(p.name,p.node)):f}return n.isEmpty()?e:c&&o(l,u)>=0?(null!=i&&(i.trackChildChange($s(l.name,l.node)),i.trackChildChange(Cs(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,cs.EMPTY_NODE)):e},e}(),Ss=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=is}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return ir(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return ir(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ni},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return ir(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return ir(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return ir(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===is},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Is(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ps(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Rs(e,t){var n=e.copy();return n.index_=t,n}function Ns(e){var t,n={};return e.isDefault()||(e.index_===is?t="$priority":e.index_===vs?t="$value":e.index_===Wo?t="$key":(ir(e.index_ instanceof _s,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=br(t),e.startSet_&&(n.startAt=br(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+br(e.indexStartName_))),e.endSet_&&(n.endAt=br(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+br(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Os(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==is&&(t.i=e.index_.toString()),t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var As=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=Ei("p:rest:"),o.listens_={},o}return Yn(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(ir(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var a=t.getListenId_(e,r),u={};this.listens_[a]=u;var l=Ns(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(s,n,!1,r),$r(o.listens_,a)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Ns(e._queryParams),r=e._path.toString(),i=new hr;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=er(i,2),s=o[0],a=o[1];s&&s.accessToken&&(t.auth=s.accessToken),a&&a.token&&(t.ac=a.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}(t);r.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=gr(l.responseText)}catch(e){Pi("Failed to parse JSON response for "+u+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&Pi("Got unsuccessful REST response for "+u+" Status: "+l.status),n(l.status);n=null}},l.open("GET",u,!0),l.send()}))},t}(_o),Ds=function(){function e(){this.rootNode_=cs.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Ls(){return{value:null,children:new Map}}function Fs(e,t,n){if(Eo(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=bo(t);e.children.has(r)||e.children.set(r,Ls()),Fs(e.children.get(r),t=Co(t),n)}}function Ms(e,t){if(Eo(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(is,(function(t,n){Fs(e,new mo(t),n)})),Ms(e,t)}if(e.children.size>0){var r=bo(t);if(t=Co(t),e.children.has(r))Ms(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function qs(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,(function(e,r){qs(r,new mo(t.toString()+"/"+e),n)}))}var js,Us=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Kn({},e);return this.last_&&qi(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),zs=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Us(e);var n=1e4+2e4*Math.random();Vi(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;qi(t,(function(t,i){i>0&&Cr(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Vi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ws(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(js||(js={}));var Bs,Hs=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=js.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Eo(this.path)){if(null!=this.affectedTree.value)return ir(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new mo(t));return new e(go(),n,this.revert)}return ir(bo(this.path)===t,"operationForChild called for unrelated child."),new e(Co(this.path),this.affectedTree,this.revert)},e}(),Vs=function(){function e(e,t){this.source=e,this.path=t,this.type=js.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Eo(this.path)?new e(this.source,go()):new e(this.source,Co(this.path))},e}(),Qs=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=js.OVERWRITE}return e.prototype.operationForChild=function(t){return Eo(this.path)?new e(this.source,go(),this.snap.getImmediateChild(t)):new e(this.source,Co(this.path),this.snap)},e}(),Gs=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=js.MERGE}return e.prototype.operationForChild=function(t){if(Eo(this.path)){var n=this.children.subtree(new mo(t));return n.isEmpty()?null:n.value?new Qs(this.source,go(),n.value):new e(this.source,go(),n)}return ir(bo(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Co(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Ys=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Eo(e))return this.isFullyInitialized()&&!this.filtered_;var t=bo(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ks=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Xs(e,t,n,r,i,o){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw or("Should only compare child_ events.");var r=new jo(t.childName,t.snapshotNode),i=new jo(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Js(e,t){return{eventCache:e,serverCache:t}}function Zs(e,t,n,r){return Js(new Ys(t,n,r),e.serverCache)}function ea(e,t,n,r){return Js(e.eventCache,new Ys(t,n,r))}function ta(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function na(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ra=function(){function e(e,t){void 0===t&&(Bs||(Bs=new Qo(Di)),t=Bs),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return qi(t,(function(e,t){n=n.set(new mo(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:go(),value:this.value};if(Eo(e))return null;var n=bo(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Co(e),t);return null!=i?{path:To(new mo(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Eo(t))return this;var n=bo(t),r=this.children.get(n);return null!==r?r.subtree(Co(t)):new e(null)},e.prototype.set=function(t,n){if(Eo(t))return new e(n,this.children);var r=bo(t),i=(this.children.get(r)||new e(null)).set(Co(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Eo(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=bo(t),r=this.children.get(n);if(r){var i=r.remove(Co(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Eo(e))return this.value;var t=bo(e),n=this.children.get(t);return n?n.get(Co(e)):null},e.prototype.setTree=function(t,n){if(Eo(t))return n;var r=bo(t),i=(this.children.get(r)||new e(null)).setTree(Co(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(go(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(To(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,go(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Eo(e))return null;var i=bo(e),o=this.children.get(i);return o?o.findOnPath_(Co(e),To(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,go(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Eo(t))return this;this.value&&r(n,this.value);var i=bo(t),o=this.children.get(i);return o?o.foreachOnPath_(Co(t),To(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(go(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(To(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),ia=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new ra(null))},e}();function oa(e,t,n){if(Eo(t))return new ia(new ra(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=So(i,t);return o=o.updateChild(s,n),new ia(e.writeTree_.set(i,o))}var a=new ra(n),u=e.writeTree_.setTree(t,a);return new ia(u)}function sa(e,t,n){var r=e;return qi(n,(function(e,n){r=oa(r,To(t,e),n)})),r}function aa(e,t){if(Eo(t))return ia.empty();var n=e.writeTree_.setTree(t,new ra(null));return new ia(n)}function ua(e,t){return null!=la(e,t)}function la(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(So(n.path,t)):null}function ca(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(is,(function(e,n){t.push(new jo(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new jo(e,n.value))})),t}function ha(e,t){if(Eo(t))return e;var n=la(e,t);return new ia(null!=n?new ra(n):e.writeTree_.subtree(t))}function pa(e){return e.writeTree_.isEmpty()}function da(e,t){return fa(go(),e.writeTree_,t)}function fa(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ir(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=fa(To(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(To(e,".priority"),r)),n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function _a(e,t){return Sa(t,e)}function va(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ir(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,s=e.allWrites.length-1;i&&s>=0;){var a=e.allWrites[s];a.visible&&(s>=n&&ya(a,r.path)?i=!1:Ro(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=ga(e.allWrites,ma,go()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=aa(e.visibleWrites,r.path):qi(r.children,(function(t){e.visibleWrites=aa(e.visibleWrites,To(r.path,t))}));return!0}return!1}function ya(e,t){if(e.snap)return Ro(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ro(To(e.path,n),t))return!0;return!1}function ma(e){return e.visible}function ga(e,t,n){for(var r=ia.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var s=o.path,a=void 0;if(o.snap)Ro(n,s)?r=oa(r,a=So(n,s),o.snap):Ro(s,n)&&(a=So(s,n),r=oa(r,go(),o.snap.getChild(a)));else{if(!o.children)throw or("WriteRecord should have .snap or .children");if(Ro(n,s))r=sa(r,a=So(n,s),o.children);else if(Ro(s,n))if(Eo(a=So(s,n)))r=sa(r,go(),o.children);else{var u=$r(o.children,bo(a));if(u){var l=u.getChild(Co(a));r=oa(r,go(),l)}}}}}return r}function ba(e,t,n,r,i){if(r||i){var o=ha(e.visibleWrites,t);if(!i&&pa(o))return n;if(i||null!=n||ua(o,go())){return da(ga(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ro(e.path,t)||Ro(t,e.path))}),t),n||cs.EMPTY_NODE)}return null}var s=la(e.visibleWrites,t);if(null!=s)return s;var a=ha(e.visibleWrites,t);return pa(a)?n:null!=n||ua(a,go())?da(a,n||cs.EMPTY_NODE):null}function wa(e,t,n,r){return ba(e.writeTree,e.treePath,t,n,r)}function Ca(e,t){return function(e,t,n){var r=cs.EMPTY_NODE,i=la(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(is,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=ha(e.visibleWrites,t);return n.forEachChild(is,(function(e,t){var n=da(ha(o,new mo(e)),t);r=r.updateImmediateChild(e,n)})),ca(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return ca(ha(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function $a(e,t,n,r){return function(e,t,n,r,i){ir(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=To(t,n);if(ua(e.visibleWrites,o))return null;var s=ha(e.visibleWrites,o);return pa(s)?i.getChild(n):da(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ka(e,t){return function(e,t){return la(e.visibleWrites,t)}(e.writeTree,To(e.treePath,t))}function xa(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){var a,u=ha(e.visibleWrites,t),l=la(u,go());if(null!=l)a=l;else{if(null==n)return[];a=da(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var c=[],h=s.getCompare(),p=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),d=p.getNext();d&&c.length<i;)0!==h(d,r)&&c.push(d),d=p.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function Ta(e,t,n){return function(e,t,n,r){var i=To(t,n),o=la(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?da(ha(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Ea(e,t){return Sa(To(e.treePath,t),e.writeTree)}function Sa(e,t){return{treePath:e,writeTree:t}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ia=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;ir("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ir(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ks(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,$s(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Cs(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw or("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ks(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Pa=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Ra=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ta(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:na(this.viewCache_),i=xa(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Na(e,t,n,r,i){var o,s,a=new Ia;if(n.type===js.OVERWRITE){var u=n;u.source.fromUser?o=Da(e,t,u.path,u.snap,r,i,a):(ir(u.source.fromServer,"Unknown source."),s=u.source.tagged||t.serverCache.isFiltered()&&!Eo(u.path),o=Aa(e,t,u.path,u.snap,r,i,s,a))}else if(n.type===js.MERGE){var l=n;l.source.fromUser?o=function(e,t,n,r,i,o,s){var a=t;return r.foreach((function(r,u){var l=To(n,r);La(t,bo(l))&&(a=Da(e,a,l,u,i,o,s))})),r.foreach((function(r,u){var l=To(n,r);La(t,bo(l))||(a=Da(e,a,l,u,i,o,s))})),a}(e,t,l.path,l.children,r,i,a):(ir(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),o=Ma(e,t,l.path,l.children,r,i,s,a))}else if(n.type===js.ACK_USER_WRITE){var c=n;o=c.revert?function(e,t,n,r,i,o){var s;if(null!=ka(r,n))return t;var a=new Ra(r,t,i),u=t.eventCache.getNode(),l=void 0;if(Eo(n)||".priority"===bo(n)){var c=void 0;if(t.serverCache.isFullyInitialized())c=wa(r,na(t));else{var h=t.serverCache.getNode();ir(h instanceof cs,"serverChildren would be complete if leaf node"),c=Ca(r,h)}c=c,l=e.filter.updateFullNode(u,c,o)}else{var p=bo(n),d=Ta(r,p,t.serverCache);null==d&&t.serverCache.isCompleteForChild(p)&&(d=u.getImmediateChild(p)),(l=null!=d?e.filter.updateChild(u,p,d,Co(n),a,o):t.eventCache.getNode().hasChild(p)?e.filter.updateChild(u,p,cs.EMPTY_NODE,Co(n),a,o):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=wa(r,na(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,o))}return s=t.serverCache.isFullyInitialized()||null!=ka(r,go()),Zs(t,l,s,e.filter.filtersNodes())}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,c.path,r,i,a):function(e,t,n,r,i,o,s){if(null!=ka(i,n))return t;var a=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Eo(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Aa(e,t,n,u.getNode().getChild(n),i,o,a,s);if(Eo(n)){var l=new ra(null);return u.getNode().forEachChild(Wo,(function(e,t){l=l.set(new mo(e),t)})),Ma(e,t,n,l,i,o,a,s)}return t}var c=new ra(null);return r.foreach((function(e,t){var r=To(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Ma(e,t,n,c,i,o,a,s)}(e,t,c.path,c.affectedTree,r,i,a)}else{if(n.type!==js.LISTEN_COMPLETE)throw or("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,s=ea(t,o.getNode(),o.isFullyInitialized()||Eo(n),o.isFiltered());return Oa(e,s,n,r,Pa,i)}(e,t,n.path,r,a)}var h=a.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ta(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ws(ta(t)))}}(t,o,h),{viewCache:o,changes:h}}function Oa(e,t,n,r,i,o){var s=t.eventCache;if(null!=ka(r,n))return t;var a=void 0,u=void 0;if(Eo(n))if(ir(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=na(t),c=Ca(r,l instanceof cs?l:cs.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{var h=wa(r,na(t));a=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var p=bo(n);if(".priority"===p){ir(1===wo(n),"Can't have a priority with additional path components");var d=s.getNode(),f=$a(r,n,d,u=t.serverCache.getNode());a=null!=f?e.filter.updatePriority(d,f):s.getNode()}else{var _=Co(n),v=void 0;if(s.isCompleteForChild(p)){u=t.serverCache.getNode();var y=$a(r,n,s.getNode(),u);v=null!=y?s.getNode().getImmediateChild(p).updateChild(_,y):s.getNode().getImmediateChild(p)}else v=Ta(r,p,t.serverCache);a=null!=v?e.filter.updateChild(s.getNode(),p,v,_,i,o):s.getNode()}}return Zs(t,a,s.isFullyInitialized()||Eo(n),e.filter.filtersNodes())}function Aa(e,t,n,r,i,o,s,a){var u,l=t.serverCache,c=s?e.filter:e.filter.getIndexedFilter();if(Eo(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var p=bo(n);if(!l.isCompleteForPath(n)&&wo(n)>1)return t;var d=Co(n),f=l.getNode().getImmediateChild(p).updateChild(d,r);u=".priority"===p?c.updatePriority(l.getNode(),f):c.updateChild(l.getNode(),p,f,d,Pa,null)}var _=ea(t,u,l.isFullyInitialized()||Eo(n),c.filtersNodes());return Oa(e,_,n,i,new Ra(i,_,o),a)}function Da(e,t,n,r,i,o,s){var a,u,l=t.eventCache,c=new Ra(i,t,o);if(Eo(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),a=Zs(t,u,!0,e.filter.filtersNodes());else{var h=bo(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),a=Zs(t,u,l.isFullyInitialized(),l.isFiltered());else{var p=Co(n),d=l.getNode().getImmediateChild(h),f=void 0;if(Eo(p))f=r;else{var _=c.getCompleteChild(h);f=null!=_?".priority"===$o(p)&&_.getChild(xo(p)).isEmpty()?_:_.updateChild(p,r):cs.EMPTY_NODE}if(d.equals(f))a=t;else a=Zs(t,e.filter.updateChild(l.getNode(),h,f,p,c,s),l.isFullyInitialized(),e.filter.filtersNodes())}}return a}function La(e,t){return e.eventCache.isCompleteForChild(t)}function Fa(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ma(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Eo(n)?r:new ra(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=Fa(0,t.serverCache.getNode().getImmediateChild(n),r);l=Aa(e,l,new mo(n),u,i,o,s,a)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var h=Fa(0,t.serverCache.getNode().getImmediateChild(n),r);l=Aa(e,l,new mo(n),h,i,o,s,a)}})),l}var qa,ja=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new xs(r.getIndex()),o=(n=r).loadsAllData()?new xs(n.getIndex()):n.hasLimit()?new Es(n):new Ts(n);this.processor_=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e){return{filter:e}}(o);var s=t.serverCache,a=t.eventCache,u=i.updateFullNode(cs.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(cs.EMPTY_NODE,a.getNode(),null),c=new Ys(u,s.isFullyInitialized(),i.filtersNodes()),h=new Ys(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Js(h,c),this.eventGenerator_=new Ks(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Ua(e,t){var n=na(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Eo(t)&&!n.getImmediateChild(bo(t)).isEmpty())?n.getChild(t):null}function za(e){return 0===e.eventRegistrations_.length}function Wa(e,t,n){var r=[];if(n){ir(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],s=0;s<e.eventRegistrations_.length;++s){var a=e.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(s+1));break}}else o.push(a)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function Ba(e,t,n,r){t.type===js.MERGE&&null!==t.source.queryId&&(ir(na(e.viewCache_),"We should always have a full cache before handling merges"),ir(ta(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,s=e.viewCache_,a=Na(e.processor_,s,t,n,r);return i=e.processor_,o=a.viewCache,ir(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ir(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ir(a.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,Ha(e,a.changes,a.viewCache.eventCache.getNode(),null)}function Ha(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Xs(e,i,"child_removed",t,r,n),Xs(e,i,"child_added",t,r,n),Xs(e,i,"child_moved",o,r,n),Xs(e,i,"child_changed",t,r,n),Xs(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Va,Qa=function(){this.views=new Map};function Ga(e,t,n,r){var i,o,s=t.source.queryId;if(null!==s){var a=e.views.get(s);return ir(null!=a,"SyncTree gave us an op for an invalid query."),Ba(a,t,n,r)}var u=[];try{for(var l=Zn(e.views.values()),c=l.next();!c.done;c=l.next()){a=c.value;u=u.concat(Ba(a,t,n,r))}}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return u}function Ya(e,t,n,r,i){var o=t._queryIdentifier,s=e.views.get(o);if(!s){var a=wa(n,i?r:null),u=!1;a?u=!0:r instanceof cs?(a=Ca(n,r),u=!1):(a=cs.EMPTY_NODE,u=!1);var l=Js(new Ys(a,u,!1),new Ys(r,i,!1));return new ja(t,l)}return s}function Ka(e,t,n,r,i,o){var s=Ya(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(is,(function(e,t){r.push(Cs(e,t))})),n.isFullyInitialized()&&r.push(ws(n.getNode())),Ha(e,r,n.getNode(),t)}(s,n)}function Xa(e,t,n,r){var i,o,s=t._queryIdentifier,a=[],u=[],l=nu(e);if("default"===s)try{for(var c=Zn(e.views.entries()),h=c.next();!h.done;h=c.next()){var p=er(h.value,2),d=p[0],f=p[1];u=u.concat(Wa(f,n,r)),za(f)&&(e.views.delete(d),f.query._queryParams.loadsAllData()||a.push(f.query))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else(f=e.views.get(s))&&(u=u.concat(Wa(f,n,r)),za(f)&&(e.views.delete(s),f.query._queryParams.loadsAllData()||a.push(f.query)));return l&&!nu(e)&&a.push(new(ir(qa,"Reference.ts has not been loaded"),qa)(t._repo,t._path)),{removed:a,events:u}}function Ja(e){var t,n,r=[];try{for(var i=Zn(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Za(e,t){var n,r,i=null;try{for(var o=Zn(e.views.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i||Ua(a,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function eu(e,t){if(t._queryParams.loadsAllData())return ru(e);var n=t._queryIdentifier;return e.views.get(n)}function tu(e,t){return null!=eu(e,t)}function nu(e){return null!=ru(e)}function ru(e){var t,n;try{for(var r=Zn(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var iu=1,ou=function(e){this.listenProvider_=e,this.syncPointTree_=new ra(null),this.pendingWriteTree_={visibleWrites:ia.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function su(e,t,n,r,i){return function(e,t,n,r,i){ir(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=oa(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?fu(e,new Qs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function au(e,t,n,r){!function(e,t,n,r){ir(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=sa(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=ra.fromObject(n);return fu(e,new Gs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function uu(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(va(e.pendingWriteTree_,t)){var i=new ra(null);return null!=r.snap?i=i.set(go(),!0):qi(r.children,(function(e){i=i.set(new mo(e),!0)})),fu(e,new Hs(r.path,i,n))}return[]}function lu(e,t,n){return fu(e,new Qs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function cu(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),s=[];if(o&&("default"===t._queryIdentifier||tu(o,t))){var a=Xa(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=a.removed;s=a.events;var l=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return nu(t)}));if(l&&!c){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var p=function(e){return e.fold((function(e,t,n){if(t&&nu(t))return[ru(t)];var r=[];return t&&(r=Ja(t)),qi(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<p.length;++d){var f=p[d],_=f.query,v=yu(e,f);e.listenProvider_.startListening($u(_),mu(e,_),v.hashFn,v.onComplete)}}if(!c&&u.length>0&&!r)if(l){e.listenProvider_.stopListening($u(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(gu(t));e.listenProvider_.stopListening($u(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=gu(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return s}function hu(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=So(e,r);i=i||Za(t,n),o=o||nu(t)}));var s,a=e.syncPointTree_.get(r);(a?(o=o||nu(a),i=i||Za(a,go())):(a=new Qa,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=cs.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Za(t,go());n&&(i=i.updateImmediateChild(e,n))})));var u=tu(a,t);if(!u&&!t._queryParams.loadsAllData()){var l=gu(t);ir(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var c=iu++;e.queryToTagMap.set(l,c),e.tagToQueryMap.set(c,l)}var h=Ka(a,t,n,_a(e.pendingWriteTree_,r),i,s);if(!u&&!o){var p=eu(a,t);h=h.concat(function(e,t,n){var r=t._path,i=mu(e,t),o=yu(e,n),s=e.listenProvider_.startListening($u(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)ir(!nu(a.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(e,t,n){if(!Eo(e)&&t&&nu(t))return[ru(t).query];var r=[];return t&&(r=r.concat(Ja(t).map((function(e){return e.query})))),qi(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening($u(c),mu(e,c))}return s}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,p))}return h}function pu(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Za(n,So(e,t));if(r)return r}));return ba(r,t,i,n,!0)}function du(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=So(e,n);r=r||Za(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Za(i,go()):(i=new Qa,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,s=o?new Ys(r,!0,!1):null;return function(e){return ta(e.viewCache_)}(Ya(i,t,_a(e.pendingWriteTree_,t._path),o?s.getNode():cs.EMPTY_NODE,o))}function fu(e,t){return _u(t,e.syncPointTree_,null,_a(e.pendingWriteTree_,go()))}function _u(e,t,n,r){if(Eo(e.path))return vu(e,t,n,r);var i=t.get(go());null==n&&null!=i&&(n=Za(i,go()));var o=[],s=bo(e.path),a=e.operationForChild(s),u=t.children.get(s);if(u&&a){var l=n?n.getImmediateChild(s):null,c=Ea(r,s);o=o.concat(_u(a,u,l,c))}return i&&(o=o.concat(Ga(i,e,r,n))),o}function vu(e,t,n,r){var i=t.get(go());null==n&&null!=i&&(n=Za(i,go()));var o=[];return t.children.inorderTraversal((function(t,i){var s=n?n.getImmediateChild(t):null,a=Ea(r,t),u=e.operationForChild(t);u&&(o=o.concat(vu(u,i,s,a)))})),i&&(o=o.concat(Ga(i,e,r,n))),o}function yu(e,t){var n=t.query,r=mu(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||cs.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=bu(e,n);if(r){var i=wu(r),o=i.path,s=i.queryId,a=So(o,t);return Cu(e,o,new Vs(Ws(s),a))}return[]}(e,n._path,r):function(e,t){return fu(e,new Vs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return cu(e,n,null,i)}}}function mu(e,t){var n=gu(t);return e.queryToTagMap.get(n)}function gu(e){return e._path.toString()+"$"+e._queryIdentifier}function bu(e,t){return e.tagToQueryMap.get(t)}function wu(e){var t=e.indexOf("$");return ir(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new mo(e.substr(0,t))}}function Cu(e,t,n){var r=e.syncPointTree_.get(t);return ir(r,"Missing sync point for query tag that we're tracking"),Ga(r,n,_a(e.pendingWriteTree_,t),null)}function $u(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ir(Va,"Reference.ts has not been loaded"),Va)(e._repo,e._path):e}var ku=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),xu=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=To(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return pu(this.syncTree_,this.path_)},e}(),Tu=function(e,t,n){return e&&"object"==typeof e?(ir(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Eu(e[".sv"],t,n):"object"==typeof e[".sv"]?Su(e[".sv"],t):void ir(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Eu=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:ir(!1,"Unexpected server value: "+e)}},Su=function(e,t,n){e.hasOwnProperty("increment")||ir(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&ir(!1,"Unexpected increment value: "+r);var i=t.node();if(ir(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},Iu=function(e,t,n,r){return Ru(t,new xu(n,e),r)},Pu=function(e,t,n){return Ru(e,new ku(t),n)};function Ru(e,t,n){var r,i=e.getPriority().val(),o=Tu(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var s=e,a=Tu(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new ts(a,ps(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new ts(o))),u.forEachChild(is,(function(e,i){var o=Ru(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Nu=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Ou(e,t){for(var n=t instanceof mo?t:new mo(t),r=e,i=bo(n);null!==i;){var o=$r(r.node.children,i)||{children:{},childCount:0};r=new Nu(i,r,o),i=bo(n=Co(n))}return r}function Au(e){return e.node.value}function Du(e,t){e.node.value=t,ju(e)}function Lu(e){return e.node.childCount>0}function Fu(e,t){qi(e.node.children,(function(n,r){t(new Nu(n,e,r))}))}function Mu(e,t,n,r){n&&!r&&t(e),Fu(e,(function(e){Mu(e,t,!0,r)})),n&&r&&t(e)}function qu(e){return new mo(null===e.parent?e.name:qu(e.parent)+"/"+e.name)}function ju(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Au(e)&&!Lu(e)}(n),i=Cr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ju(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,ju(e))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e.parent,e.name,e)}var Uu=/[\[\].#$\/\u0000-\u001F\u007F]/,zu=/[\[\].#$\u0000-\u001F\u007F]/,Wu=10485760,Bu=function(e){return"string"==typeof e&&0!==e.length&&!Uu.test(e)},Hu=function(e){return"string"==typeof e&&0!==e.length&&!zu.test(e)},Vu=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Ri(e)||e&&"object"==typeof e&&Cr(e,".sv")},Qu=function(e,t,n,r){r&&void 0===t||Gu(Rr(e,"value"),t,n)},Gu=function(e,t,n){var r=n instanceof mo?new No(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ao(r));if("function"==typeof t)throw new Error(e+"contains a function "+Ao(r)+" with contents = "+t.toString());if(Ri(t))throw new Error(e+"contains "+t.toString()+" "+Ao(r));if("string"==typeof t&&t.length>Wu/3&&Ar(t)>Wu)throw new Error(e+"contains a string greater than "+"10485760 utf8 bytes "+Ao(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(qi(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!Bu(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ao(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,a;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ar(t),Oo(e)}(r,t),Gu(e,n,r),a=(s=r).parts_.pop(),s.byteLength_-=Ar(a),s.parts_.length>0&&(s.byteLength_-=1)})),i&&o)throw new Error(e+' contains ".value" child '+Ao(r)+" in addition to actual children.")}},Yu=function(e,t,n,r){if(!r||void 0!==t){var i=Rr(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];qi(t,(function(e,t){var r=new mo(e);if(Gu(i,t,To(n,r)),".priority"===$o(r)&&!Vu(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=ko(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Bu(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Io);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&Ro(s,r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,o)}},Ku=function(e,t,n){if(!n||void 0!==t){if(Ri(t))throw new Error(Rr(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Vu(t))throw new Error(Rr(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Xu=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Rr(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ju=function(e,t,n,r){if(!(r&&void 0===n||Bu(n)))throw new Error(Rr(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zu=function(e,t,n,r){if(!(r&&void 0===n||Hu(n)))throw new Error(Rr(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},el=function(e,t){if(".info"===bo(t))throw new Error(e+" failed = Can't modify data under /.info/")},tl=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Bu(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Hu(e)}(n))throw new Error(Rr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},nl=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Rr(e,t)+"must be a boolean.")},rl=function(){this.eventLists_=[],this.recursionDepth_=0};function il(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Po(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ol(e,t,n){il(e,n),al(e,(function(e){return Po(e,t)}))}function sl(e,t,n){il(e,n),al(e,(function(e){return Ro(e,t)||Ro(t,e)}))}function al(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ul(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ul(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();$i&&Ti("event: "+n.toString()),Hi(r)}}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ll="repo_interrupt",cl=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rl,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ls(),this.transactionQueueTree_=new Nu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function hl(e,t,n){if(e.stats_=io(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new As(e.repoInfo_,(function(t,n,r,i){fl(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return _l(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{br(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new qo(e.repoInfo_,t,(function(t,n,r,i){fl(e,t,n,r,i)}),(function(t){_l(e,t)}),(function(t){!function(e,t){qi(t,(function(t,n){vl(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=e.repoInfo_,i=function(){return new zs(e.stats_,e.server_)},o=r.toString(),ro[o]||(ro[o]=i()),ro[o]),e.infoData_=new Ds,e.infoSyncTree_=new ou({startListening:function(t,n,r,i){var o=[],s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=lu(e.infoSyncTree_,t._path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),vl(e,"connected",!1),e.serverSyncTree_=new ou({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);sl(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function pl(e){var t=e.infoData_.getNode(new mo(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function dl(e){return(t=(t={timestamp:pl(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function fl(e,t,n,r,i){e.dataUpdateCount++;var o=new mo(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var a=xr(n,(function(e){return ps(e)}));s=function(e,t,n,r){var i=bu(e,r);if(i){var o=wu(i),s=o.path,a=o.queryId,u=So(s,t),l=ra.fromObject(n);return Cu(e,s,new Gs(Ws(a),u,l))}return[]}(e.serverSyncTree_,o,a,i)}else{var u=ps(n);s=function(e,t,n,r){var i=bu(e,r);if(null!=i){var o=wu(i),s=o.path,a=o.queryId,u=So(s,t);return Cu(e,s,new Qs(Ws(a),u,n))}return[]}(e.serverSyncTree_,o,u,i)}else if(r){var l=xr(n,(function(e){return ps(e)}));s=function(e,t,n){var r=ra.fromObject(n);return fu(e,new Gs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{var c=ps(n);s=lu(e.serverSyncTree_,o,c)}var h=o;s.length>0&&(h=El(e,o)),sl(e.eventQueue_,h,s)}function _l(e,t){vl(e,"connected",t),!1===t&&function(e){$l(e,"onDisconnectEvents");var t=dl(e),n=Ls();qs(e.onDisconnect_,go(),(function(r,i){var o=Iu(r,i,e.serverSyncTree_,t);Fs(n,r,o)}));var r=[];qs(n,go(),(function(t,n){r=r.concat(lu(e.serverSyncTree_,t,n));var i=Nl(e,t);El(e,i)})),e.onDisconnect_=Ls(),sl(e.eventQueue_,go(),r)}(e)}function vl(e,t,n){var r=new mo("/.info/"+t),i=ps(n);e.infoData_.updateSnapshot(r,i);var o=lu(e.infoSyncTree_,r,i);sl(e.eventQueue_,r,o)}function yl(e){return e.nextWriteId_++}function ml(e,t,n,r,i){$l(e,"set",{path:t.toString(),value:n,priority:r});var o=dl(e),s=ps(n,r),a=pu(e.serverSyncTree_,t),u=Pu(s,a,o),l=yl(e),c=su(e.serverSyncTree_,t,u,l,!0);il(e.eventQueue_,c),e.server_.put(t.toString(),s.val(!0),(function(n,r){var o="ok"===n;o||Pi("set at "+t+" failed: "+n);var s=uu(e.serverSyncTree_,l,!o);sl(e.eventQueue_,t,s),kl(e,i,n,r)}));var h=Nl(e,t);El(e,h),sl(e.eventQueue_,h,[])}function gl(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Ms(e.onDisconnect_,t),kl(e,n,r,i)}))}function bl(e,t,n,r){var i=ps(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Fs(e.onDisconnect_,t,i),kl(e,r,n,o)}))}function wl(e,t,n){var r;r=".info"===bo(t._path)?cu(e.infoSyncTree_,t,n):cu(e.serverSyncTree_,t,n),ol(e.eventQueue_,t._path,r)}function Cl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ll)}function $l(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Ti.apply(void 0,tr([r],er(t)))}function kl(e,t,n,r){t&&Hi((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function xl(e,t,n){return pu(e.serverSyncTree_,t,n)||cs.EMPTY_NODE}function Tl(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Rl(e,t),Au(t)){var n=Il(e,t);ir(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=xl(e,t,r),o=i,s=i.hash(),a=0;a<n.length;a++){var u=n[a];ir(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=So(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=t;e.server_.put(h.toString(),c,(function(r){$l(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(t){n[t].status=2,i=i.concat(uu(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},a=0;a<n.length;a++)s(a);Rl(e,Ou(e.transactionQueueTree_,t)),Tl(e,e.transactionQueueTree_),sl(e.eventQueue_,t,i);for(a=0;a<o.length;a++)Hi(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else{Pi("transaction at "+h.toString()+" failed: "+r);for(a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r}El(e,t)}}),s)}(e,qu(t),n)}else Lu(t)&&Fu(t,(function(t){Tl(e,t)}))}function El(e,t){var n=Sl(e,t),r=qu(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var a,u,l=t[s],c=So(n,l.path),h=!1;if(ir(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,a=l.abortReason,i=i.concat(uu(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,a="maxretry",i=i.concat(uu(e.serverSyncTree_,l.currentWriteId,!0));else{var p=xl(e,l.path,o);l.currentInputSnapshot=p;var d=t[s].update(p.val());if(void 0!==d){Gu("transaction failed: Data returned ",d,l.path);var f=ps(d);"object"==typeof d&&null!=d&&Cr(d,".priority")||(f=f.updatePriority(p.getPriority()));var _=l.currentWriteId,v=dl(e),y=Pu(f,p,v);l.currentOutputSnapshotRaw=f,l.currentOutputSnapshotResolved=y,l.currentWriteId=yl(e),o.splice(o.indexOf(_),1),i=(i=i.concat(su(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(uu(e.serverSyncTree_,_,!0))}else h=!0,a="nodata",i=i.concat(uu(e.serverSyncTree_,l.currentWriteId,!0))}sl(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,u=t[s].unwatcher,setTimeout(u,Math.floor(0)),t[s].onComplete&&("nodata"===a?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(a),!1,null)}))))},a=0;a<t.length;a++)s(a);Rl(e,e.transactionQueueTree_);for(a=0;a<r.length;a++)Hi(r[a]);Tl(e,e.transactionQueueTree_)}(e,Il(e,n),r),r}function Sl(e,t){var n,r=e.transactionQueueTree_;for(n=bo(t);null!==n&&void 0===Au(r);)r=Ou(r,n),n=bo(t=Co(t));return r}function Il(e,t){var n=[];return Pl(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Pl(e,t,n){var r=Au(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Fu(t,(function(t){Pl(e,t,n)}))}function Rl(e,t){var n=Au(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Du(t,n.length>0?n:void 0)}Fu(t,(function(t){Rl(e,t)}))}function Nl(e,t){var n=qu(Sl(e,t)),r=Ou(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ol(e,t)})),Ol(e,r),Mu(r,(function(t){Ol(e,t)})),n}function Ol(e,t){var n=Au(t);if(n){for(var r=[],i=[],o=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(ir(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ir(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(uu(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Du(t,void 0):n.length=o+1,sl(e.eventQueue_,qu(t),i);for(s=0;s<r.length;s++)Hi(r[s])}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Al=function(e,t){var n=Dl(e),r=n.namespace;"firebase.com"===n.domain&&Ii(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Pi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Zi(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new mo(n.pathString)}},Dl=function(e){var t="",n="",r="",i="",o="",s=!0,a="https",u=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(c,h)));var p=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Zn(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var a=s.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Pi("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(s="https"===a||"wss"===a,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var f=t.indexOf(".");r=t.substring(0,f).toLowerCase(),n=t.substring(f+1),o=r}"ns"in p&&(o=p.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Ll=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+br(this.snapshot.exportVal())},e}(),Fl=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Ml=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return ir(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),ql=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new hr;return gl(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){el("OnDisconnect.remove",this._path);var e=new hr;return bl(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){el("OnDisconnect.set",this._path),Qu("OnDisconnect.set",e,this._path,!1);var t=new hr;return bl(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){el("OnDisconnect.setWithPriority",this._path),Qu("OnDisconnect.setWithPriority",e,this._path,!1),Ku("OnDisconnect.setWithPriority",t,!1);var n=new hr;return function(e,t,n,r,i){var o=ps(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Fs(e.onDisconnect_,t,o),kl(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){el("OnDisconnect.update",this._path),Yu("OnDisconnect.update",e,this._path,!1);var t=new hr;return function(e,t,n,r){if(kr(n))return Ti("onDisconnect().update() called with empty data.  Don't do anything."),void kl(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&qi(n,(function(n,r){var i=ps(r);Fs(e.onDisconnect_,To(t,n),i)})),kl(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),jl=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Eo(this._path)?null:$o(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Bl(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Os(this._queryParams),t=Fi(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Os(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Dr(t))instanceof e))return!1;var n=this._repo===t._repo,r=Po(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Ul(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function zl(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Wo){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Ni)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Oi)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===is){if(null!=t&&!Vu(t)||null!=n&&!Vu(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(ir(e.getIndex()instanceof _s||e.getIndex()===vs,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Wl(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Bl=function(e){function t(t,n){return e.call(this,t,n,new Ss,!1)||this}return Yn(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=xo(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(jl),Hl=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new mo(t),r=Gl(this.ref,t);return new e(this._node.getChild(n),r,is)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Gl(n.ref,r),is))}))},e.prototype.hasChild=function(e){var t=new mo(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Vl(e,t){return(e=Dr(e))._checkNotDeleted("ref"),void 0!==t?Gl(e._root,t):e._root}function Ql(e,t){(e=Dr(e))._checkNotDeleted("refFromURL");var n=Al(t,e._repo.repoInfo_.nodeAdmin);tl("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Ii("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Vl(e,n.path.toString())}function Gl(e,t){var n,r,i,o;return null===bo((e=Dr(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Zu(n,r,i,o)):Zu("child","path",t,!1),new Bl(e._repo,To(e._path,t))}function Yl(e,t){e=Dr(e),el("push",e._path),Qu("push",t,e._path,!0);var n,r=pl(e._repo),i=ms(r),o=Gl(e,i),s=Gl(e,i);return n=null!=t?Xl(s,t).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function Kl(e){return el("remove",e._path),Xl(e,null)}function Xl(e,t){e=Dr(e),el("set",e._path),Qu("set",t,e._path,!1);var n=new hr;return ml(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Jl(e,t){e=Dr(e),el("setPriority",e._path),Ku("setPriority",t,!1);var n=new hr;return ml(e._repo,To(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Zl(e,t,n){if(el("setWithPriority",e._path),Qu("setWithPriority",t,e._path,!1),Ku("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new hr;return ml(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function ec(e,t){Yu("update",t,e._path,!1);var n=new hr;return function(e,t,n,r){$l(e,"update",{path:t.toString(),value:n});var i=!0,o=dl(e),s={};if(qi(n,(function(n,r){i=!1,s[n]=Iu(To(t,n),ps(r),e.serverSyncTree_,o)})),i)Ti("update() called with empty data.  Don't do anything."),kl(0,r,"ok",void 0);else{var a=yl(e),u=au(e.serverSyncTree_,t,s,a);il(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||Pi("update at "+t+" failed: "+n);var s=uu(e.serverSyncTree_,a,!o),u=s.length>0?El(e,t):t;sl(e.eventQueue_,u,s),kl(0,r,n,i)})),qi(n,(function(n){var r=Nl(e,To(t,n));El(e,r)})),sl(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function tc(e){return function(e,t){var n=du(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ps(n),i=lu(e.serverSyncTree_,t._path,r);return ol(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return $l(e,"get for query "+br(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Dr(e))._repo,e).then((function(t){return new Hl(t,new Bl(e._repo,e._path),e._queryParams.getIndex())}))}var nc=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ll("value",this,new Hl(e.snapshotNode,new Bl(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Fl(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),rc=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Fl(this,e,t):null},e.prototype.createEvent=function(e,t){ir(null!=e.childName,"Child events should have a childName.");var n=Gl(new Bl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ll(e.type,this,new Hl(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function ic(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(t,n){wl(e._repo,e,l),s(t,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var u=new Ml(n,o||void 0),l="value"===t?new nc(u):new rc(t,u);return function(e,t,n){var r;r=".info"===bo(t._path)?hu(e.infoSyncTree_,t,n):hu(e.serverSyncTree_,t,n),ol(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return wl(e._repo,e,l)}}function oc(e,t,n,r){return ic(e,"value",t,n,r)}function sc(e,t,n,r){return ic(e,"child_added",t,n,r)}function ac(e,t,n,r){return ic(e,"child_changed",t,n,r)}function uc(e,t,n,r){return ic(e,"child_moved",t,n,r)}function lc(e,t,n,r){return ic(e,"child_removed",t,n,r)}function cc(e,t,n){var r=null,i=n?new Ml(n):null;"value"===t?r=new nc(i):t&&(r=new rc(t,i)),wl(e._repo,e,r)}var hc=function(){},pc=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Yn(t,e),t.prototype._apply=function(e){Qu("endAt",this._value,e._path,!0);var t=Ps(e._queryParams,this._value,this._key);if(Wl(t),zl(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jl(e._repo,e._path,t,e._orderByCalled)},t}(hc);function dc(e,t){return Ju("endAt","key",t,!0),new pc(e,t)}var fc=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Yn(t,e),t.prototype._apply=function(e){Qu("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Wo?("string"==typeof t&&(t=bs(t)),r=Ps(e,t,n)):r=Ps(e,t,null==n?Ni:bs(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Wl(t),zl(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jl(e._repo,e._path,t,e._orderByCalled)},t}(hc);function _c(e,t){return Ju("endBefore","key",t,!0),new fc(e,t)}var vc=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Yn(t,e),t.prototype._apply=function(e){Qu("startAt",this._value,e._path,!0);var t=Is(e._queryParams,this._value,this._key);if(Wl(t),zl(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new jl(e._repo,e._path,t,e._orderByCalled)},t}(hc);function yc(e,t){return void 0===e&&(e=null),Ju("startAt","key",t,!0),new vc(e,t)}var mc=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Yn(t,e),t.prototype._apply=function(e){Qu("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Wo?("string"==typeof t&&(t=gs(t)),r=Is(e,t,n)):r=Is(e,t,null==n?Oi:gs(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Wl(t),zl(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new jl(e._repo,e._path,t,e._orderByCalled)},t}(hc);function gc(e,t){return Ju("startAfter","key",t,!0),new mc(e,t)}var bc=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Yn(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new jl(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(hc);function wc(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new bc(e)}var Cc=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Yn(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new jl(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(hc);function $c(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Cc(e)}var kc=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Yn(t,e),t.prototype._apply=function(e){Ul(e,"orderByChild");var t=new mo(this._path);if(Eo(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new _s(t),r=Rs(e._queryParams,n);return zl(r),new jl(e._repo,e._path,r,!0)},t}(hc);function xc(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zu("orderByChild","path",e,!1),new kc(e)}var Tc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),t.prototype._apply=function(e){Ul(e,"orderByKey");var t=Rs(e._queryParams,Wo);return zl(t),new jl(e._repo,e._path,t,!0)},t}(hc);function Ec(){return new Tc}var Sc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),t.prototype._apply=function(e){Ul(e,"orderByPriority");var t=Rs(e._queryParams,is);return zl(t),new jl(e._repo,e._path,t,!0)},t}(hc);function Ic(){return new Sc}var Pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),t.prototype._apply=function(e){Ul(e,"orderByValue");var t=Rs(e._queryParams,vs);return zl(t),new jl(e._repo,e._path,t,!0)},t}(hc);function Rc(){return new Pc}var Nc=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Yn(t,e),t.prototype._apply=function(e){if(Qu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new pc(this._value,this._key)._apply(new vc(this._value,this._key)._apply(e))},t}(hc);function Oc(e,t){return Ju("equalTo","key",t,!0),new Nc(e,t)}function Ac(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Dr(e);try{for(var s=Zn(r),a=s.next();!a.done;a=s.next()){var u=a.value;o=u._apply(o)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o}!function(e){ir(!qa,"__referenceConstructor has already been defined"),qa=e}(Bl),function(e){ir(!Va,"__referenceConstructor has already been defined"),Va=e}(Bl);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Dc={},Lc=!1;function Fc(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ti("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var s,a=Al(o,i),u=a.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,o="http://"+l+"?ns="+u.namespace,u=(a=Al(o,i)).repoInfo):s=!a.repoInfo.secure;var c=i&&s?new Yi(Yi.OWNER):new Gi(e.name,e.options,t);tl("Invalid Firebase Database URL",a),Eo(a.path)||Ii("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Dc[t.name];i||(i={},Dc[t.name]=i);var o=i[e.toURLString()];o&&Ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new cl(e,Lc,n,r),i[e.toURLString()]=o,o}(u,e,c,new Qi(e.name,n));return new Mc(h,e)}var Mc=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(hl(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Bl(this._repo,go())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=Dc[t])&&n[e.key]===e||Ii("Database "+t+"("+e.repoInfo_+") has already been deleted."),Cl(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&Ii("Cannot call "+e+" on a deleted database.")},e}();function qc(e,t,n,r){void 0===r&&(r={}),(e=Dr(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Ii("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ii('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Yi(Yi.OWNER);else if(r.mockUserToken){var s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Kn({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ar.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),ar.encodeString(JSON.stringify(o),!1),""].join(".")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(r.mockUserToken,e.app.options.projectId);o=new Yi(s)}!function(e,t,n,r){e.repoInfo_=new Zi(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function jc(e){(e=Dr(e))._checkNotDeleted("goOffline"),Cl(e._repo)}function Uc(e){var t;(e=Dr(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ll)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var zc={".sv":"timestamp"};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Wc=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Bc(e,t,n){var r;if(e=Dr(e),el("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new hr,s=oc(e,(function(){}));return function(e,t,n,r,i,o){$l(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:bi(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=xl(e,t,void 0);s.currentInputSnapshot=a;var u=s.update(a.val());if(void 0===u)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Gu("transaction failed: Data returned ",u,s.path),s.status=0;var l=Ou(e.transactionQueueTree_,t),c=Au(l)||[];c.push(s),Du(l,c);var h=void 0;"object"==typeof u&&null!==u&&Cr(u,".priority")?(h=$r(u,".priority"),ir(Vu(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(pu(e.serverSyncTree_,t)||cs.EMPTY_NODE).getPriority().val();var p=dl(e),d=ps(u,h),f=Pu(d,a,p);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=f,s.currentWriteId=yl(e);var _=su(e.serverSyncTree_,t,f,s.currentWriteId,s.applyLocally);sl(e.eventQueue_,t,_),Tl(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new Hl(r,new Bl(e._repo,e._path),is),o.resolve(new Wc(n,i)))}),s,i),o.promise}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Hc=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Pr("OnDisconnect.cancel",0,1,arguments.length),Nr("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Pr("OnDisconnect.remove",0,1,arguments.length),Nr("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Pr("OnDisconnect.set",1,2,arguments.length),Nr("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Pr("OnDisconnect.setWithPriority",2,3,arguments.length),Nr("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Pr("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Pi("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Nr("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Vc=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Pr("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Qc=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Pr("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Pr("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Pr("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Pr("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Pr("DataSnapshot.child",0,1,arguments.length),t=String(t),Zu("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Pr("DataSnapshot.hasChild",1,1,arguments.length),Zu("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Pr("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Pr("DataSnapshot.forEach",1,1,arguments.length),Nr("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Pr("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Pr("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Pr("DataSnapshot.ref",0,0,arguments.length),new Yc(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Gc=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var o,s=this;Pr("Query.on",2,4,arguments.length),Nr("Query.on","callback",n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(a.context,new Qc(s.database,e),t)};u.userCallback=n,u.context=a.context;var l=null===(o=a.cancel)||void 0===o?void 0:o.bind(a.context);switch(t){case"value":return oc(this._delegate,u,l),n;case"child_added":return sc(this._delegate,u,l),n;case"child_removed":return lc(this._delegate,u,l),n;case"child_changed":return ac(this._delegate,u,l),n;case"child_moved":return uc(this._delegate,u,l),n;default:throw new Error(Rr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Pr("Query.off",0,3,arguments.length),Xu("Query.off",e,!0),Nr("Query.off","callback",t,!0),Or("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,cc(this._delegate,e,r)}else cc(this._delegate,e)},e.prototype.get=function(){var e=this;return tc(this._delegate).then((function(t){return new Qc(e.database,t)}))},e.prototype.once=function(t,n,r,i){var o=this;Pr("Query.once",1,4,arguments.length),Nr("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),a=new hr,u=function(e,t){var r=new Qc(o.database,e);n&&n.call(s.context,r,t),a.resolve(r)};u.userCallback=n,u.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),a.reject(e)};switch(t){case"value":oc(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":sc(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":lc(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":ac(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":uc(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Rr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise},e.prototype.limitToFirst=function(t){return Pr("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ac(this._delegate,wc(t)))},e.prototype.limitToLast=function(t){return Pr("Query.limitToLast",1,1,arguments.length),new e(this.database,Ac(this._delegate,$c(t)))},e.prototype.orderByChild=function(t){return Pr("Query.orderByChild",1,1,arguments.length),new e(this.database,Ac(this._delegate,xc(t)))},e.prototype.orderByKey=function(){return Pr("Query.orderByKey",0,0,arguments.length),new e(this.database,Ac(this._delegate,Ec()))},e.prototype.orderByPriority=function(){return Pr("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ac(this._delegate,Ic()))},e.prototype.orderByValue=function(){return Pr("Query.orderByValue",0,0,arguments.length),new e(this.database,Ac(this._delegate,Rc()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Pr("Query.startAt",0,2,arguments.length),new e(this.database,Ac(this._delegate,yc(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Pr("Query.startAfter",0,2,arguments.length),new e(this.database,Ac(this._delegate,gc(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Pr("Query.endAt",0,2,arguments.length),new e(this.database,Ac(this._delegate,dc(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Pr("Query.endBefore",0,2,arguments.length),new e(this.database,Ac(this._delegate,_c(t,n)))},e.prototype.equalTo=function(t,n){return Pr("Query.equalTo",1,2,arguments.length),new e(this.database,Ac(this._delegate,Oc(t,n)))},e.prototype.toString=function(){return Pr("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Pr("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Pr("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Nr(e,"cancel",r.cancel,!0),r.context=n,Or(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Rr(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Yc(this.database,new Bl(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Yc=function(e){function t(t,n){var r=e.call(this,t,new jl(n._repo,n._path,new Ss,!1))||this;return r.database=t,r._delegate=n,r}return Yn(t,e),t.prototype.getKey=function(){return Pr("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Pr("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,Gl(this._delegate,e))},t.prototype.getParent=function(){Pr("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Pr("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Pr("Reference.set",1,2,arguments.length),Nr("Reference.set","onComplete",t,!0);var n=Xl(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Pr("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Pi("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}el("Reference.update",this._delegate._path),Nr("Reference.update","onComplete",t,!0);var i=ec(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){Pr("Reference.setWithPriority",2,3,arguments.length),Nr("Reference.setWithPriority","onComplete",n,!0);var r=Zl(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Pr("Reference.remove",0,1,arguments.length),Nr("Reference.remove","onComplete",e,!0);var t=Kl(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Pr("Reference.transaction",1,3,arguments.length),Nr("Reference.transaction","transactionUpdate",e,!1),Nr("Reference.transaction","onComplete",t,!0),nl("Reference.transaction","applyLocally",n,!0);var i=Bc(this._delegate,e,{applyLocally:n}).then((function(e){return new Vc(e.committed,new Qc(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){Pr("Reference.setPriority",1,2,arguments.length),Nr("Reference.setPriority","onComplete",t,!0);var n=Jl(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Pr("Reference.push",0,2,arguments.length),Nr("Reference.push","onComplete",n,!0);var i=Yl(this._delegate,e),o=i.then((function(e){return new t(r.database,e)}));n&&o.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=o.then.bind(o),s.catch=o.catch.bind(o,void 0),s},t.prototype.onDisconnect=function(){return el("Reference.onDisconnect",this._delegate._path),new Hc(new ql(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Gc),Kc=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),qc(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Pr("database.ref",0,1,arguments.length),e instanceof Yc){var t=Ql(this._delegate,e.toString());return new Yc(this,t)}t=Vl(this._delegate,e);return new Yc(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Pr(t,1,1,arguments.length);var n=Ql(this._delegate,e);return new Yc(this,n)},e.prototype.goOffline=function(){return Pr("database.goOffline",0,0,arguments.length),jc(this._delegate)},e.prototype.goOnline=function(){return Pr("database.goOnline",0,0,arguments.length),Uc(this._delegate)},e.ServerValue={TIMESTAMP:zc,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Xc=Object.freeze({__proto__:null,forceLongPolling:function(){ho.forceDisallow(),uo.forceAllow()},forceWebSockets:function(){uo.forceDisallow()},isWebSocketsAvailable:function(){return ho.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Us(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);qi(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,s=e.nodeAdmin,a=void 0!==s&&s;pi(r);var u=new Mr("auth-internal",new jr("database-standalone"));return u.setComponent(new Lr("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Kc(Fc(t,u,void 0,n,a),t),namespace:o}}}),Jc=qo;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */qo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Zc=fo,eh=Zi,th=Object.freeze({__proto__:null,DataConnection:Jc,RealTimeConnection:Zc,hijackHash:function(e){var t=qo.prototype.put;return qo.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){qo.prototype.put=t}},ConnectionTarget:eh,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Lc=e}(e)}}),nh=Kc.ServerValue;!function(e){pi(e.SDK_VERSION),e.INTERNAL.registerComponent(new Lr("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Kc(Fc(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Yc,Query:Gc,Database:Kc,DataSnapshot:Qc,enableLogging:xi,INTERNAL:Xc,ServerValue:nh,TEST_ACCESS:th}).setMultipleInstances(!0)),e.registerVersion("@firebase/database","0.10.1")}(ci);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var rh="firebasestorage.googleapis.com",ih=function(e){function t(n,r){var i=e.call(this,oh(n),"Firebase Storage: "+r+" ("+oh(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return Yn(t,e),t.prototype._codeEquals=function(e){return oh(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(_r);function oh(e){return"storage/"+e}function sh(){return new ih("unknown","An unknown error occurred, please check the error payload for server response.")}function ah(){return new ih("canceled","User canceled the upload/download.")}function uh(){return new ih("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function lh(e){return new ih("invalid-argument",e)}function ch(){return new ih("app-deleted","The Firebase app was deleted.")}function hh(e){return new ih("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ph(e,t){return new ih("invalid-format","String does not match format '"+e+"': "+t)}function dh(e){throw new ih("internal-error","Internal error: "+e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var fh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},_h=function(e,t){this.data=e,this.contentType=t||null};function vh(e,t){switch(e){case fh.RAW:return new _h(yh(t));case fh.BASE64:case fh.BASE64URL:return new _h(mh(e,t));case fh.DATA_URL:return new _h((n=new gh(t)).base64?mh(fh.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw ph(fh.DATA_URL,"Malformed data URL.")}return yh(t)}(n.rest),function(e){return new gh(e).contentType}(t))}var n;throw sh()}function yh(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function mh(e,t){switch(e){case fh.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw ph(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case fh.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw ph(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(t){throw ph(e,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var gh=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw ph(fh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */};var bh,wh={STATE_CHANGED:"state_changed"},Ch={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $h(e){switch(e){case"running":case"pausing":case"canceling":return Ch.RUNNING;case"paused":return Ch.PAUSED;case"success":return Ch.SUCCESS;case"canceled":return Ch.CANCELED;case"error":default:return Ch.ERROR}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(bh||(bh={}));
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var kh=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=bh.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=bh.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=bh.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw dh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw dh("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw dh("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw dh("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),xh=function(){function e(){}return e.prototype.createXhrIo=function(){return new kh},e}(),Th=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(n){return new e(t,"")}if(""===r.path)return r;throw new ih("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===rh?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],l=0;l<u.length;l++){var c=u[l],h=c.regex.exec(t);if(h){var p=h[c.indices.bucket],d=h[c.indices.path];d||(d=""),r=new e(p,d),c.postModify(r);break}}if(null==r)throw function(e){return new ih("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Eh=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Sh(e){return"string"==typeof e||e instanceof String}function Ih(e){return Ph()&&e instanceof Blob}function Ph(){return"undefined"!=typeof Blob}function Rh(e,t,n,r){if(r<t)throw lh("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw lh("Invalid value for '"+e+"'. Expected "+n+" or less.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Nh(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null==n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Oh(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ah=function(){function e(e,t,n,r,i,o,s,a,u,l,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=e.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(e){o(e)}else null!==s?((r=sh()).serverResponse=s.getResponseText(),e.errorCallback_?o(e.errorCallback_(s,r)):o(r)):n.canceled?o(r=e.appDelete_?ch():ah()):o(r=new ih("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Dh(!1,null,!0)):this.backoffId_=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e,t,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var u=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function c(t){i=setTimeout((function(){i=null,e(h,a())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)l.call.apply(l,tr([null,e],t));else{var i;a()||o?l.call.apply(l,tr([null,e],t)):(r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),c(i))}}var p=!1;function d(e){p||(p=!0,u||(null!==i?(e||(s=2),clearTimeout(i),c(0)):e||(s=1)))}return c(0),setTimeout((function(){o=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new Dh(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===bh.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var s=-1!==e.successCodes_.indexOf(o);t(!0,new Dh(s,n))}else{var a=n.getErrorCode()===bh.ABORT;t(!1,new Dh(!1,null,a))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Dh=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Lh(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Fh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Lh();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Ph())return new Blob(e);throw new ih("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Mh=function(){function e(e,t){var n=0,r="";Ih(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(Ih(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Ph()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Fh.apply(null,r))}var i=t.map((function(e){return Sh(e)?vh(fh.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)s[a++]=e[t]})),new e(s,!0)},e.prototype.uploadData=function(){return this.data_},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function qh(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function jh(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Uh(e,t){return t}var zh=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Uh},Wh=null;function Bh(){if(Wh)return Wh;var e=[];e.push(new zh("bucket")),e.push(new zh("generation")),e.push(new zh("metageneration")),e.push(new zh("name","fullPath",!0));var t=new zh("name");t.xform=function(e,t){return function(e){return!Sh(e)||e.length<2?e:jh(e)}(t)},e.push(t);var n=new zh("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new zh("timeCreated")),e.push(new zh("updated")),e.push(new zh("md5Hash",null,!0)),e.push(new zh("cacheControl",null,!0)),e.push(new zh("contentDisposition",null,!0)),e.push(new zh("contentEncoding",null,!0)),e.push(new zh("contentLanguage",null,!0)),e.push(new zh("contentType",null,!0)),e.push(new zh("metadata","customMetadata",!0)),Wh=e}function Hh(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,t[s.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Th(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Vh(e,t,n){var r=qh(t);return null===r?null:Hh(e,r,n)}function Qh(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gh(e,t,n){var r=qh(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=e._makeStorageReference(new Th(t,s));r.prefixes.push(a)}if(n.items)for(var u=0,l=n.items;u<l.length;u++){var c=l[u];a=e._makeStorageReference(new Th(t,c.name)),r.items.push(a)}return r}(e,t,r)}var Yh=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Kh(e){if(!e)throw sh()}function Xh(e,t){return function(n,r){var i=Vh(e,r,t);return Kh(null!==i),i}}function Jh(e,t){return function(n,r){var i=Vh(e,r,t);return Kh(null!==i),function(e,t,n){var r=qh(t);if(null===r)return null;if(!Sh(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Nh("/b/"+o(r)+"/o/"+o(i),n)+Oh({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Zh(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new ih("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ih("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new ih("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ih("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function ep(e){var t=Zh(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new ih("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function tp(e,t,n){var r=Nh(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Yh(r,"GET",Xh(e,n),i);return o.errorHandler=ep(t),o}function np(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Nh(t.bucketOnlyServerUrl(),e.host),a=e.maxOperationRetryTime,u=new Yh(s,"GET",function(e,t){return function(n,r){var i=Gh(e,t,r);return Kh(null!==i),i}}(e,t.bucket),a);return u.urlParams=o,u.errorHandler=Zh(t),u}function rp(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var ip=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function op(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Kh(!1)}return Kh(!!n&&-1!==(t||["active"]).indexOf(n)),n}var sp=262144;function ap(e,t,n,r,i,o,s,a){var u=new ip(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ih("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,p=h+c,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,p);if(null===f)throw uh();var _=t.maxUploadRetryTime,v=new Yh(n,"POST",(function(e,n){var i,s=op(e,["active","final"]),a=u.current+c,l=r.size();return i="final"===s?Xh(t,o)(e,n):null,new ip(a,l,"final"===s,i)}),_);return v.headers=d,v.body=f.uploadData(),v.progressCallback=a||null,v.errorHandler=Zh(e),v}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var up=function(e,t,n){if("function"==typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function lp(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var cp=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Bh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s=rp(t,r,i),a={name:s.fullPath},u=Nh(o,e.host),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},c=Qh(s,n),h=e.maxUploadRetryTime,p=new Yh(u,"POST",(function(e){var t;op(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Kh(!1)}return Kh(Sh(t)),t}),h);return p.urlParams=a,p.headers=l,p.body=c,p.errorHandler=Zh(t),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Yh(n,"POST",(function(e){var t=op(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Kh(!1)}n||Kh(!1);var i=Number(n);return Kh(!isNaN(i)),new ip(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Zh(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=sp*this._chunkMultiplier,n=new ip(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var s;try{s=ap(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){return e._error=t,void e._transition("error")}var a=e._ref.storage._makeRequest(s,i,o);e._request=a,a.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){sp*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=tp(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;var u=rp(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Qh(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+a+"--",h=Mh.getBlob(l,r,c);if(null===h)throw uh();var p={name:u.fullPath},d=Nh(o,e.host),f=e.maxUploadRetryTime,_=new Yh(d,"POST",Xh(e,n),f);return _.urlParams=p,_.headers=s,_.body=h.uploadData(),_.errorHandler=Zh(t),_}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=ah(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=$h(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new up(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch($h(this._state)){case Ch.SUCCESS:lp(this._resolve.bind(null,this.snapshot))();break;case Ch.CANCELED:case Ch.ERROR:lp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch($h(this._state)){case Ch.RUNNING:case Ch.PAUSED:e.next&&lp(e.next.bind(e,this.snapshot))();break;case Ch.SUCCESS:e.complete&&lp(e.complete.bind(e))();break;case Ch.CANCELED:case Ch.ERROR:e.error&&lp(e.error.bind(e,this._error))();break;default:e.error&&lp(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),hp=function(){function e(e,t){this._service=e,this._location=t instanceof Th?t:Th.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Th(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return jh(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Th(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw hh(e)},e}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function pp(e){var t={prefixes:[],items:[]};return dp(e,t).then((function(){return t}))}function dp(e,t,n){return Xn(this,void 0,void 0,(function(){var r,i,o;return Jn(this,(function(s){switch(s.label){case 0:return[4,fp(e,{pageToken:n})];case 1:return r=s.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,dp(e,t,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function fp(e,t){return Xn(this,void 0,void 0,(function(){var n,r;return Jn(this,(function(i){switch(i.label){case 0:return null!=t&&"number"==typeof t.maxResults&&Rh("options.maxResults",1,1e3,t.maxResults),n=t||{},r=np(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function _p(e,t){return Xn(this,void 0,void 0,(function(){var n;return Jn(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Nh(t.fullServerUrl(),e.host),o=Qh(n,r),s=e.maxOperationRetryTime,a=new Yh(i,"PATCH",Xh(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=ep(t),a}(e.storage,e._location,t,Bh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function vp(e){return Xn(this,void 0,void 0,(function(){var t;return Jn(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Nh(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Yh(r,"GET",Jh(e,n),i);return o.errorHandler=ep(t),o}(e.storage,e._location,Bh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new ih("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function yp(e){return Xn(this,void 0,void 0,(function(){var t;return Jn(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Nh(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Yh(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=ep(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function mp(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Th(e._location.bucket,n);return new hp(e.storage,r)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function gp(e){return/^[A-Za-z]+:\/\//.test(e)}function bp(e,t){if(e instanceof $p){var n=e;if(null==n._bucket)throw new ih("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new hp(n,n._bucket);return null!=t?bp(r,t):r}if(void 0!==t){if(t.includes(".."))throw lh('`path` param cannot contain ".."');return mp(e,t)}return e}function wp(e,t){if(t&&gp(t)){if(e instanceof $p)return new hp(e,t);throw lh("To use ref(service, url), the first argument must be a Storage instance.")}return bp(e,t)}function Cp(e,t){var n=null==t?void 0:t.storageBucket;return null==n?null:Th.makeFromBucketSpec(n,e)}var $p=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=rh,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Th.makeFromBucketSpec(i,this._host):Cp(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Th.makeFromBucketSpec(this._url,e):this._bucket=Cp(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){Rh("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){Rh("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Xn(this,void 0,void 0,(function(){var e,t;return Jn(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return Xn(this,void 0,void 0,(function(){var e;return Jn(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new hp(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Eh(ch());var i=function(e,t,n,r,i,o){var s=Oh(e.urlParams),a=e.url+s,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new Ah(a,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return Xn(this,void 0,void 0,(function(){var t,n,r;return Jn(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function kp(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new cp(e,new Mh(t),n)}(e=Dr(e),t,n)}function xp(e){return function(e){return Xn(this,void 0,void 0,(function(){var t;return Jn(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=tp(e.storage,e._location,Bh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Dr(e))}function Tp(e,t){return wp(e=Dr(e),t)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ep=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Sp=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Ep(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Ep(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new Ep(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Ep(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Ip=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Pp(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new Pp(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),Pp=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(function(e,t){return mp(e,t)}(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Sp(kp(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=fh.RAW),this._throwIfRoot("putString");var r=vh(t,e),i=Kn({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Sp(new cp(this._delegate,new Mh(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return pp(e=Dr(e))}(this._delegate).then((function(t){return new Ip(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return fp(e=Dr(e),t)}(this._delegate,e||void 0).then((function(e){return new Ip(e,t.storage)}))},e.prototype.getMetadata=function(){return xp(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return _p(e=Dr(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return vp(e=Dr(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return yp(e=Dr(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw hh(e)},e}(),Rp=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(gp(e))throw lh("ref() expected a child path but got a URL, use refFromURL instead.");return new Pp(Tp(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!gp(e))throw lh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Th.makeFromUrl(e,this._delegate.host)}catch(e){throw lh("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pp(Tp(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Np(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Rp(r,new $p(r,i,o,new xh,n,ci.SDK_VERSION))}!function(e){var t={TaskState:Ch,TaskEvent:wh,StringFormat:fh,Storage:$p,Reference:Pp};e.INTERNAL.registerComponent(new Lr("storage",Np,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.5.2")}(ci);const Op={apiKey:"AIzaSyDlp_ud7BFK9kKtMC0w_faVn6TyTVESyys",authDomain:"noimin-fuurin-wedding.firebaseapp.com",databaseURL:"https://noimin-fuurin-wedding-default-rtdb.firebaseio.com",projectId:"noimin-fuurin-wedding",storageBucket:"noimin-fuurin-wedding.appspot.com",messagingSenderId:"243666008631",appId:"1:243666008631:web:d0438bc4cf9904a0c75db2"};0===ci.apps.length&&ci.initializeApp(Op);const Ap=ci.storage().ref(),Dp=ci.database();function Lp(e){let t;return{c(){t=$("()")},m(e,n){g(e,t,n)},d(e){e&&b(t)}}}function Fp(e){let t,n,r,i;return n=new jt({props:{fluid:!0,src:e[0],alt:"image",class:"my-2"}}),{c(){t=C("div"),ge(n.$$.fragment)},m(e,r){g(e,t,r),be(n,t,null),i=!0},p(e,t){const r={};1&t&&(r.src=e[0]),n.$set(r)},i(e){i||(pe(n.$$.fragment,e),ee((()=>{r||(r=_e(t,Ue,{},!0)),r.run(1)})),i=!0)},o(e){de(n.$$.fragment,e),r||(r=_e(t,Ue,{},!1)),r.run(0),i=!1},d(e){e&&b(t),we(n),e&&r&&r.end()}}}function Mp(e){let t,n,r,i,o,s;t=new Cn({props:{$$slots:{default:[Lp]},$$scope:{ctx:e}}}),r=new gn({props:{id:"image-file",type:"file",name:"img",accept:"image/*",required:!0}}),r.$on("change",e[1]);let a=e[0]&&Fp(e);return{c(){ge(t.$$.fragment),n=k(),ge(r.$$.fragment),i=k(),a&&a.c(),o=x()},m(e,u){be(t,e,u),g(e,n,u),be(r,e,u),g(e,i,u),a&&a.m(e,u),g(e,o,u),s=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),e[0]?a?(a.p(e,n),1&n&&pe(a,1)):(a=Fp(e),a.c(),pe(a,1),a.m(o.parentNode,o)):a&&(ce(),de(a,1,1,(()=>{a=null})),he())},i(e){s||(pe(t.$$.fragment,e),pe(r.$$.fragment,e),pe(a),s=!0)},o(e){de(t.$$.fragment,e),de(r.$$.fragment,e),de(a),s=!1},d(e){we(t,e),e&&b(n),we(r,e),e&&b(i),a&&a.d(e),e&&b(o)}}}function qp(e){let t;return{c(){t=$(" (20)")},m(e,n){g(e,t,n)},d(e){e&&b(t)}}}function jp(e){let t,n,r,i;return t=new Cn({props:{$$slots:{default:[qp]},$$scope:{ctx:e}}}),r=new gn({props:{id:"name",type:"text",name:"name",maxlength:"20",size:"20"}}),{c(){ge(t.$$.fragment),n=k(),ge(r.$$.fragment)},m(e,o){be(t,e,o),g(e,n,o),be(r,e,o),i=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){i||(pe(t.$$.fragment,e),pe(r.$$.fragment,e),i=!0)},o(e){de(t.$$.fragment,e),de(r.$$.fragment,e),i=!1},d(e){we(t,e),e&&b(n),we(r,e)}}}function Up(e){let t;return{c(){t=$(" (200)")},m(e,n){g(e,t,n)},d(e){e&&b(t)}}}function zp(e){let t,n,r,i;return t=new Cn({props:{$$slots:{default:[Up]},$$scope:{ctx:e}}}),r=new gn({props:{id:"comment",type:"textarea",name:"comment",maxlength:"200",rows:"5",cols:"40"}}),{c(){ge(t.$$.fragment),n=k(),ge(r.$$.fragment)},m(e,o){be(t,e,o),g(e,n,o),be(r,e,o),i=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){i||(pe(t.$$.fragment,e),pe(r.$$.fragment,e),i=!0)},o(e){de(t.$$.fragment,e),de(r.$$.fragment,e),i=!1},d(e){we(t,e),e&&b(n),we(r,e)}}}function Wp(e){let t;return{c(){t=$("")},m(e,n){g(e,t,n)},d(e){e&&b(t)}}}function Bp(e){let t,n,r,i,o,s,a,u,l,c,h,p;return o=new Ft({props:{$$slots:{default:[Mp]},$$scope:{ctx:e}}}),a=new Ft({props:{$$slots:{default:[jp]},$$scope:{ctx:e}}}),l=new Ft({props:{$$slots:{default:[zp]},$$scope:{ctx:e}}}),h=new nt({props:{id:"submit",class:"honokamin",$$slots:{default:[Wp]},$$scope:{ctx:e}}}),h.$on("click",e[2]),{c(){t=C("main"),n=C("h2"),n.textContent="",r=k(),i=C("form"),ge(o.$$.fragment),s=k(),ge(a.$$.fragment),u=k(),ge(l.$$.fragment),c=k(),ge(h.$$.fragment),E(n,"class","honokamin text-dark mb-3"),E(i,"method","post"),E(i,"onsubmit","return false"),E(i,"enctype","multipart/form-data"),E(t,"class","conatiner honokamin text-dark")},m(e,d){g(e,t,d),m(t,n),m(t,r),m(t,i),be(o,i,null),m(i,s),be(a,i,null),m(i,u),be(l,i,null),m(i,c),be(h,i,null),p=!0},p(e,[t]){const n={};129&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const r={};128&t&&(r.$$scope={dirty:t,ctx:e}),a.$set(r);const i={};128&t&&(i.$$scope={dirty:t,ctx:e}),l.$set(i);const s={};128&t&&(s.$$scope={dirty:t,ctx:e}),h.$set(s)},i(e){p||(pe(o.$$.fragment,e),pe(a.$$.fragment,e),pe(l.$$.fragment,e),pe(h.$$.fragment,e),p=!0)},o(e){de(o.$$.fragment,e),de(a.$$.fragment,e),de(l.$$.fragment,e),de(h.$$.fragment,e),p=!1},d(e){e&&b(t),we(o),we(a),we(l),we(h)}}}function Hp(e,t,n){let r,i=null;const o=(e,t)=>("0".repeat(t)+String(e)).slice(-t);return[i,e=>{r=e.target.files[0];var t=new FileReader;t.onload=()=>n(0,i=t.result),t.readAsDataURL(r)},e=>{if(!r)return void alert("");if(!confirm(""))return;const t=new Date,n=Math.floor(1e5*Math.random()),i=`${t.getFullYear()}${o(t.getMonth()+1,2)}${o(t.getDate()+1,2)}${o(t.getHours()+1,2)}${o(t.getMinutes()+1,2)}${o(t.getSeconds()+1,2)}_${n}`,s=r.name.split(".").slice(-1)[0],a=Ap.child(`img/${i}.${s}`);(()=>{const e=document.getElementById("submit");e.disabled=!0,e.innerHTML=""})(),a.put(r).then((e=>{e.ref.getDownloadURL().then((e=>{Dp.ref(`img/${i}`).set({url:e,name:document.getElementById("name").value,comment:document.getElementById("comment").value}),(()=>{const e=document.getElementById("submit");e.disabled=!1,e.innerHTML=""})(),alert("")}))}))}]}class Vp extends $e{constructor(e){super(),Ce(this,e,Hp,Bp,a,{})}}function Qp(e,t,n){const r=e.slice();return r[8]=t[n],r}function Gp(e,t,n){const r=e.slice();return r[8]=t[n],r}function Yp(e){let t,n;return{c(){t=C("img"),E(t,"class","frame svelte-c19o96"),t.src!==(n="frame.png")&&E(t,"src","frame.png"),E(t,"alt","frame")},m(e,n){g(e,t,n)},d(e){e&&b(t)}}}function Kp(e){let t,n;return{c(){t=C("img"),E(t,"class","frame svelte-c19o96"),t.src!==(n="frame.png")&&E(t,"src","frame.png"),E(t,"alt","frame")},m(e,n){g(e,t,n)},d(e){e&&b(t)}}}function Xp(e){let t,n,r,i,o,s,a,u=Array(4),l=[];for(let t=0;t<u.length;t+=1)l[t]=Yp(Gp(e,u,t));i=new jt({props:{fluid:!0,src:e[0],alt:e[2],style:"max-height: 500px;"}});let c=Array(4),h=[];for(let t=0;t<c.length;t+=1)h[t]=Kp(Qp(e,c,t));return{c(){t=C("div"),n=C("div");for(let e=0;e<l.length;e+=1)l[e].c();r=k(),ge(i.$$.fragment),o=k(),s=C("div");for(let e=0;e<h.length;e+=1)h[e].c();E(n,"class","mb-3"),E(s,"class","mt-3"),E(t,"class","image-box")},m(e,u){g(e,t,u),m(t,n);for(let e=0;e<l.length;e+=1)l[e].m(n,null);m(t,r),be(i,t,null),m(t,o),m(t,s);for(let e=0;e<h.length;e+=1)h[e].m(s,null);a=!0},p(e,t){const n={};1&t&&(n.src=e[0]),4&t&&(n.alt=e[2]),i.$set(n)},i(e){a||(pe(i.$$.fragment,e),a=!0)},o(e){de(i.$$.fragment,e),a=!1},d(e){e&&b(t),w(l,e),we(i),w(h,e)}}}function Jp(e){let t,n;return t=new ot({props:{class:"mb-3 text-white bg-primary",$$slots:{default:[id]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};8198&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function Zp(e){let t,n;return t=new ut({props:{$$slots:{default:[td]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};8196&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function ed(e){let t;return{c(){t=$(e[2])},m(e,n){g(e,t,n)},p(e,n){4&n&&P(t,e[2])},d(e){e&&b(t)}}}function td(e){let t,n;return t=new ft({props:{$$slots:{default:[ed]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};8196&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function nd(e){let t,n;return t=new ht({props:{class:"bg-primary",$$slots:{default:[rd]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};8194&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function rd(e){let t,n;return{c(){t=$(e[1]),n=$(" ")},m(e,r){g(e,t,r),g(e,n,r)},p(e,n){2&n&&P(t,e[1])},d(e){e&&b(t),e&&b(n)}}}function id(e){let t,n,r,i=e[2]&&Zp(e),o=e[1]&&nd(e);return{c(){i&&i.c(),t=k(),o&&o.c(),n=x()},m(e,s){i&&i.m(e,s),g(e,t,s),o&&o.m(e,s),g(e,n,s),r=!0},p(e,r){e[2]?i?(i.p(e,r),4&r&&pe(i,1)):(i=Zp(e),i.c(),pe(i,1),i.m(t.parentNode,t)):i&&(ce(),de(i,1,1,(()=>{i=null})),he()),e[1]?o?(o.p(e,r),2&r&&pe(o,1)):(o=nd(e),o.c(),pe(o,1),o.m(n.parentNode,n)):o&&(ce(),de(o,1,1,(()=>{o=null})),he())},i(e){r||(pe(i),pe(o),r=!0)},o(e){de(i),de(o),r=!1},d(e){i&&i.d(e),e&&b(t),o&&o.d(e),e&&b(n)}}}function od(e){let t,n,r=(e[2]||e[1])&&Jp(e);return{c(){r&&r.c(),t=x()},m(e,i){r&&r.m(e,i),g(e,t,i),n=!0},p(e,n){e[2]||e[1]?r?(r.p(e,n),6&n&&pe(r,1)):(r=Jp(e),r.c(),pe(r,1),r.m(t.parentNode,t)):r&&(ce(),de(r,1,1,(()=>{r=null})),he())},i(e){n||(pe(r),n=!0)},o(e){de(r),n=!1},d(e){r&&r.d(e),e&&b(t)}}}function sd(e){let t,n,r,i;return t=new yt({props:{md:"9",class:"mb-4 text-center",$$slots:{default:[Xp]},$$scope:{ctx:e}}}),r=new yt({props:{md:"3",$$slots:{default:[od]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment),n=k(),ge(r.$$.fragment)},m(e,o){be(t,e,o),g(e,n,o),be(r,e,o),i=!0},p(e,n){const i={};8197&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const o={};8198&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){i||(pe(t.$$.fragment,e),pe(r.$$.fragment,e),i=!0)},o(e){de(t.$$.fragment,e),de(r.$$.fragment,e),i=!1},d(e){we(t,e),e&&b(n),we(r,e)}}}function ad(e){let t,n;return t=new Qn({props:{$$slots:{default:[sd]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};8199&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function ud(e){let t,n;return t=new bt({props:{$$slots:{default:[ad]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,[n]){const r={};8199&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function ld(e,t,n){const r=Dp.ref("img");let i,o=[],s=null,a="",u="";const l=()=>{const e=(t=0,r=o.length,Math.floor(Math.random()*(r-t)+t));var t,r;n(0,s=o[e].url),n(1,a=o[e].name),n(2,u=o[e].comment)};return z((()=>{r.on("value",(e=>{o=Object.values(e.val()),l(),i=setInterval(l,1e4)}),(e=>{console.log(e),o=[]}))})),W((()=>{clearInterval(i)})),[s,a,u]}class cd extends $e{constructor(e){super(),Ce(this,e,ld,ud,a,{})}}function hd(e){let t,n,r,i;return{c(){var e,o,s;t=C("img"),r=k(),i=C("span"),i.textContent="Wedding Pictures",t.src!==(n="./site_icon.png")&&E(t,"src","./site_icon.png"),E(t,"width","36"),E(t,"alt","brand"),e="margin-right",o="10px",t.style.setProperty(e,o,s?"important":""),E(i,"class","navbar-item svelte-101loe0")},m(e,n){g(e,t,n),g(e,r,n),g(e,i,n)},d(e){e&&b(t),e&&b(r),e&&b(i)}}}function pd(e){let t;return{c(){t=C("span"),t.textContent="Slideshow",E(t,"class","navbar-item svelte-101loe0")},m(e,n){g(e,t,n)},d(e){e&&b(t)}}}function dd(e){let t,n;return t=new Fn({props:{href:"/#/slideshow",$$slots:{default:[pd]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function fd(e){let t;return{c(){t=C("span"),t.textContent="Upload",E(t,"class","navbar-item svelte-101loe0")},m(e,n){g(e,t,n)},d(e){e&&b(t)}}}function _d(e){let t,n;return t=new Fn({props:{href:"/",$$slots:{default:[fd]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function vd(e){let t,n,r,i;return t=new An({props:{$$slots:{default:[dd]},$$scope:{ctx:e}}}),r=new An({props:{$$slots:{default:[_d]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment),n=k(),ge(r.$$.fragment)},m(e,o){be(t,e,o),g(e,n,o),be(r,e,o),i=!0},p(e,n){const i={};8&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const o={};8&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){i||(pe(t.$$.fragment,e),pe(r.$$.fragment,e),i=!0)},o(e){de(t.$$.fragment,e),de(r.$$.fragment,e),i=!1},d(e){we(t,e),e&&b(n),we(r,e)}}}function yd(e){let t,n;return t=new xn({props:{class:"ms-auto",navbar:!0,style:"margin-right: 15px;",$$slots:{default:[vd]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function md(e){let t,n,r,i,o,s;return t=new jn({props:{href:"/",class:"mx-3",$$slots:{default:[hd]},$$scope:{ctx:e}}}),r=new Bn({props:{color:"primary"}}),r.$on("click",e[2]),o=new Qe({props:{isOpen:e[0],navbar:!0,expand:"md",$$slots:{default:[yd]},$$scope:{ctx:e}}}),o.$on("update",e[1]),{c(){ge(t.$$.fragment),n=k(),ge(r.$$.fragment),i=k(),ge(o.$$.fragment)},m(e,a){be(t,e,a),g(e,n,a),be(r,e,a),g(e,i,a),be(o,e,a),s=!0},p(e,n){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const i={};1&n&&(i.isOpen=e[0]),8&n&&(i.$$scope={dirty:n,ctx:e}),o.$set(i)},i(e){s||(pe(t.$$.fragment,e),pe(r.$$.fragment,e),pe(o.$$.fragment,e),s=!0)},o(e){de(t.$$.fragment,e),de(r.$$.fragment,e),de(o.$$.fragment,e),s=!1},d(e){we(t,e),e&&b(n),we(r,e),e&&b(i),we(o,e)}}}function gd(e){let t,n;return t=new Rn({props:{color:"primary",light:!0,expand:"md",class:"julietta-massie navbar-font",style:"padding-bottom: 5px;",$$slots:{default:[md]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,r){be(t,e,r),n=!0},p(e,[n]){const r={};9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(pe(t.$$.fragment,e),n=!0)},o(e){de(t.$$.fragment,e),n=!1},d(e){we(t,e)}}}function bd(e,t,n){let r=!1;return[r,e=>n(0,r=e.detail.isOpen),()=>n(0,r=!r)]}class wd extends $e{constructor(e){super(),Ce(this,e,bd,gd,a,{})}}function Cd(t){let n,r;return n=new De({props:{routes:t[0]}}),{c(){ge(n.$$.fragment)},m(e,t){be(n,e,t),r=!0},p:e,i(e){r||(pe(n.$$.fragment,e),r=!0)},o(e){de(n.$$.fragment,e),r=!1},d(e){we(n,e)}}}function $d(e){let t,n,r,i;return t=new wd({}),r=new bt({props:{class:"mt-4 mb-5",$$slots:{default:[Cd]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment),n=k(),ge(r.$$.fragment)},m(e,o){be(t,e,o),g(e,n,o),be(r,e,o),i=!0},p(e,[t]){const n={};2&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){i||(pe(t.$$.fragment,e),pe(r.$$.fragment,e),i=!0)},o(e){de(t.$$.fragment,e),de(r.$$.fragment,e),i=!1},d(e){we(t,e),e&&b(n),we(r,e)}}}function kd(e){return[{"/":Vp,"/slideshow":cd,"*":Vp}]}return new class extends $e{constructor(e){super(),Ce(this,e,kd,$d,a,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
